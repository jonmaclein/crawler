try {
var __IASScope = __IASScope || (typeof window !== 'undefined' ? window : this);
(function(omidGlobal, factory, exports) {
	// CommonJS support
	if (typeof exports === 'object' && typeof exports.nodeName !== 'string') {
		factory(omidGlobal, exports);

		// If neither AMD nor CommonJS are used, export to a versioned name in the
		// global context.
	} else {
		var exports = {};
		var versions = ['1.2.20-iab1793'];
		var additionalVersionString = '';
		if (!!additionalVersionString) {
			versions.push(additionalVersionString);
		}

		factory(omidGlobal, exports);

		function deepFreeze(object) {
			for (var key in object) {
				if (object.hasOwnProperty(key)) {
					object[key] = deepFreeze(object[key]);
				}
			}
			return Object.freeze(object);
		}

		// Inject and freeze the exported components of omid.
		for (var key in exports) {
			if (exports.hasOwnProperty(key)) {
				if (Object.getOwnPropertyDescriptor(omidGlobal, key) == null) {
					// Define the top level property in the global scope
					Object.defineProperty(omidGlobal, key, {
						//							value: {},       Removed trailing comma for build
						value: {}
					});
				}
				versions.forEach(function(version) {
					if (Object.getOwnPropertyDescriptor(omidGlobal[key], version) == null) {
						var frozenObject = deepFreeze(exports[key]);
						// Define the object exports keyed-off versions
						Object.defineProperty(omidGlobal[key], version, {
							get: function() {
								return frozenObject;
							},
							//								enumerable: true,       Removed trailing comma for build
							enumerable: true
						});
					}
				});
			}
		}
	}
})(
	typeof global === 'undefined' ? this : global,
	function(omidGlobal, omidExports) {
		'use strict';
		var $jscomp = $jscomp || {};
		$jscomp.scope = {};
		$jscomp.arrayIteratorImpl = function(a) {
			var b = 0;
			return function() {
				return b < a.length ? { done: !1, value: a[b++] } : { done: !0 };
			};
		};
		$jscomp.arrayIterator = function(a) {
			return { next: $jscomp.arrayIteratorImpl(a) };
		};
		$jscomp.makeIterator = function(a) {
			var b = 'undefined' != typeof Symbol && Symbol.iterator && a[Symbol.iterator];
			return b ? b.call(a) : $jscomp.arrayIterator(a);
		};
		$jscomp.arrayFromIterator = function(a) {
			for (var b, c = []; !(b = a.next()).done; ) {
				c.push(b.value);
			}
			return c;
		};
		$jscomp.arrayFromIterable = function(a) {
			return a instanceof Array ? a : $jscomp.arrayFromIterator($jscomp.makeIterator(a));
		};
		$jscomp.ASSUME_ES5 = !1;
		$jscomp.ASSUME_NO_NATIVE_MAP = !1;
		$jscomp.ASSUME_NO_NATIVE_SET = !1;
		$jscomp.SIMPLE_FROUND_POLYFILL = !1;
		$jscomp.objectCreate =
			$jscomp.ASSUME_ES5 || 'function' == typeof Object.create
				? Object.create
				: function(a) {
						var b = function() {};
						b.prototype = a;
						return new b();
				  };
		$jscomp.underscoreProtoCanBeSet = function() {
			var a = { a: !0 },
				b = {};
			try {
				return (b.__proto__ = a), b.a;
			} catch (c) {}
			return !1;
		};
		$jscomp.setPrototypeOf =
			'function' == typeof Object.setPrototypeOf
				? Object.setPrototypeOf
				: $jscomp.underscoreProtoCanBeSet()
				? function(a, b) {
						a.__proto__ = b;
						if (a.__proto__ !== b) {
							throw new TypeError(a + ' is not extensible');
						}
						return a;
				  }
				: null;
		$jscomp.inherits = function(a, b) {
			a.prototype = $jscomp.objectCreate(b.prototype);
			a.prototype.constructor = a;
			if ($jscomp.setPrototypeOf) {
				var c = $jscomp.setPrototypeOf;
				c(a, b);
			} else {
				for (c in b) {
					if ('prototype' != c) {
						if (Object.defineProperties) {
							var d = Object.getOwnPropertyDescriptor(b, c);
							d && Object.defineProperty(a, c, d);
						} else {
							a[c] = b[c];
						}
					}
				}
			}
			a.superClass_ = b.prototype;
		};
		var module$exports$omid$common$argsChecker = {
			assertTruthyString: function(a, b) {
				if (!b) {
					throw Error('Value for ' + a + ' is undefined, null or blank.');
				}
				if ('string' !== typeof b && !(b instanceof String)) {
					throw Error('Value for ' + a + ' is not a string.');
				}
				if ('' === b.trim()) {
					throw Error('Value for ' + a + ' is empty string.');
				}
			},
			assertNotNullObject: function(a, b) {
				if (null == b) {
					throw Error('Value for ' + a + ' is undefined or null');
				}
			},
			assertNumber: function(a, b) {
				if (null == b) {
					throw Error(a + ' must not be null or undefined.');
				}
				if ('number' !== typeof b || isNaN(b)) {
					throw Error('Value for ' + a + ' is not a number');
				}
			},
			assertNumberBetween: function(a, b, c, d) {
				(0, module$exports$omid$common$argsChecker.assertNumber)(a, b);
				if (b < c || b > d) {
					throw Error('Value for ' + a + ' is outside the range [' + c + ',' + d + ']');
				}
			},
			assertFunction: function(a, b) {
				if (!b) {
					throw Error(a + ' must not be truthy.');
				}
			},
			assertPositiveNumber: function(a, b) {
				(0, module$exports$omid$common$argsChecker.assertNumber)(a, b);
				if (0 > b) {
					throw Error(a + ' must be a positive number.');
				}
			}
		};
		var module$exports$omid$common$VersionUtils = {},
			module$contents$omid$common$VersionUtils_SEMVER_DIGITS_NUMBER = 3;
		module$exports$omid$common$VersionUtils.isValidVersion = function(a) {
			return /\d+\.\d+\.\d+(-.*)?/.test(a);
		};
		module$exports$omid$common$VersionUtils.versionGreaterOrEqual = function(a, b) {
			a = a.split('-')[0].split('.');
			b = b.split('-')[0].split('.');
			for (var c = 0; c < module$contents$omid$common$VersionUtils_SEMVER_DIGITS_NUMBER; c++) {
				var d = parseInt(a[c], 10),
					e = parseInt(b[c], 10);
				if (d > e) {
					break;
				} else {
					if (d < e) {
						return !1;
					}
				}
			}
			return !0;
		};
		var module$exports$omid$common$ArgsSerDe = {},
			module$contents$omid$common$ArgsSerDe_ARGS_NOT_SERIALIZED_VERSION = '1.0.3';
		module$exports$omid$common$ArgsSerDe.serializeMessageArgs = function(a, b) {
			return (0, module$exports$omid$common$VersionUtils.isValidVersion)(a) &&
				(0, module$exports$omid$common$VersionUtils.versionGreaterOrEqual)(
					a,
					module$contents$omid$common$ArgsSerDe_ARGS_NOT_SERIALIZED_VERSION
				)
				? b
				: JSON.stringify(b);
		};
		module$exports$omid$common$ArgsSerDe.deserializeMessageArgs = function(a, b) {
			return (0, module$exports$omid$common$VersionUtils.isValidVersion)(a) &&
				(0, module$exports$omid$common$VersionUtils.versionGreaterOrEqual)(
					a,
					module$contents$omid$common$ArgsSerDe_ARGS_NOT_SERIALIZED_VERSION
				)
				? b
					? b
					: []
				: b && 'string' === typeof b
				? JSON.parse(b)
				: [];
		};
		var module$exports$omid$common$constants = {
			AdEventType: {
				IMPRESSION: 'impression',
				STATE_CHANGE: 'stateChange',
				GEOMETRY_CHANGE: 'geometryChange',
				SESSION_START: 'sessionStart',
				SESSION_ERROR: 'sessionError',
				SESSION_FINISH: 'sessionFinish',
				VIDEO: 'video',
				LOADED: 'loaded',
				START: 'start',
				FIRST_QUARTILE: 'firstQuartile',
				MIDPOINT: 'midpoint',
				THIRD_QUARTILE: 'thirdQuartile',
				COMPLETE: 'complete',
				PAUSE: 'pause',
				RESUME: 'resume',
				BUFFER_START: 'bufferStart',
				BUFFER_FINISH: 'bufferFinish',
				SKIPPED: 'skipped',
				VOLUME_CHANGE: 'volumeChange',
				PLAYER_STATE_CHANGE: 'playerStateChange',
				AD_USER_INTERACTION: 'adUserInteraction'
			},
			VideoEventType: {
				LOADED: 'loaded',
				START: 'start',
				FIRST_QUARTILE: 'firstQuartile',
				MIDPOINT: 'midpoint',
				THIRD_QUARTILE: 'thirdQuartile',
				COMPLETE: 'complete',
				PAUSE: 'pause',
				RESUME: 'resume',
				BUFFER_START: 'bufferStart',
				BUFFER_FINISH: 'bufferFinish',
				SKIPPED: 'skipped',
				VOLUME_CHANGE: 'volumeChange',
				PLAYER_STATE_CHANGE: 'playerStateChange',
				AD_USER_INTERACTION: 'adUserInteraction'
			},
			ErrorType: { GENERIC: 'generic', VIDEO: 'video' },
			AdSessionType: { NATIVE: 'native', HTML: 'html' },
			EventOwner: { NATIVE: 'native', JAVASCRIPT: 'javascript', NONE: 'none' },
			AccessMode: { FULL: 'full', LIMITED: 'limited' },
			AppState: { BACKGROUNDED: 'backgrounded', FOREGROUNDED: 'foregrounded' },
			Environment: { APP: 'app', WEB: 'web' },
			InteractionType: { CLICK: 'click', INVITATION_ACCEPT: 'invitationAccept' },
			MediaType: { DISPLAY: 'display', VIDEO: 'video' },
			Reason: {
				NOT_FOUND: 'notFound',
				HIDDEN: 'hidden',
				BACKGROUNDED: 'backgrounded',
				VIEWPORT: 'viewport',
				OBSTRUCTED: 'obstructed',
				CLIPPED: 'clipped'
			},
			SupportedFeatures: { CONTAINER: 'clid', VIDEO: 'vlid' },
			VideoPosition: { PREROLL: 'preroll', MIDROLL: 'midroll', POSTROLL: 'postroll', STANDALONE: 'standalone' },
			VideoPlayerState: {
				MINIMIZED: 'minimized',
				COLLAPSED: 'collapsed',
				NORMAL: 'normal',
				EXPANDED: 'expanded',
				FULLSCREEN: 'fullscreen'
			},
			NativeViewKeys: {
				X: 'x',
				LEFT: 'left',
				Y: 'y',
				TOP: 'top',
				WIDTH: 'width',
				HEIGHT: 'height',
				AD_SESSION_ID: 'adSessionId',
				IS_FRIENDLY_OBSTRUCTION_FOR: 'isFriendlyObstructionFor',
				CLIPS_TO_BOUNDS: 'clipsToBounds',
				CHILD_VIEWS: 'childViews',
				END_X: 'endX',
				END_Y: 'endY',
				OBSTRUCTIONS: 'obstructions'
			},
			MeasurementStateChangeSource: { CONTAINER: 'container', CREATIVE: 'creative' },
			ElementMarkup: { OMID_ELEMENT_CLASS_NAME: 'omid-element' },
			CommunicationType: { NONE: 'NONE', DIRECT: 'DIRECT', POST_MESSAGE: 'POST_MESSAGE' },
			OmidImplementer: { OMSDK: 'omsdk' }
		};
		var module$contents$omid$common$InternalMessage_GUID_KEY = 'omid_message_guid',
			module$contents$omid$common$InternalMessage_METHOD_KEY = 'omid_message_method',
			module$contents$omid$common$InternalMessage_VERSION_KEY = 'omid_message_version',
			module$contents$omid$common$InternalMessage_ARGS_KEY = 'omid_message_args',
			module$exports$omid$common$InternalMessage = function(a, b, c, d) {
				this.guid = a;
				this.method = b;
				this.version = c;
				this.args = d;
			};
		module$exports$omid$common$InternalMessage.isValidSerializedMessage = function(a) {
			return (
				!!a &&
				void 0 !== a[module$contents$omid$common$InternalMessage_GUID_KEY] &&
				void 0 !== a[module$contents$omid$common$InternalMessage_METHOD_KEY] &&
				void 0 !== a[module$contents$omid$common$InternalMessage_VERSION_KEY] &&
				'string' === typeof a[module$contents$omid$common$InternalMessage_GUID_KEY] &&
				'string' === typeof a[module$contents$omid$common$InternalMessage_METHOD_KEY] &&
				'string' === typeof a[module$contents$omid$common$InternalMessage_VERSION_KEY] &&
				(void 0 === a[module$contents$omid$common$InternalMessage_ARGS_KEY] ||
					void 0 !== a[module$contents$omid$common$InternalMessage_ARGS_KEY])
			);
		};
		module$exports$omid$common$InternalMessage.deserialize = function(a) {
			return new module$exports$omid$common$InternalMessage(
				a[module$contents$omid$common$InternalMessage_GUID_KEY],
				a[module$contents$omid$common$InternalMessage_METHOD_KEY],
				a[module$contents$omid$common$InternalMessage_VERSION_KEY],
				a[module$contents$omid$common$InternalMessage_ARGS_KEY]
			);
		};
		module$exports$omid$common$InternalMessage.prototype.serialize = function() {
			var a = {};
			a =
				((a[module$contents$omid$common$InternalMessage_GUID_KEY] = this.guid),
				(a[module$contents$omid$common$InternalMessage_METHOD_KEY] = this.method),
				(a[module$contents$omid$common$InternalMessage_VERSION_KEY] = this.version),
				a);
			void 0 !== this.args && (a[module$contents$omid$common$InternalMessage_ARGS_KEY] = this.args);
			return a;
		};
		var module$exports$omid$common$Communication = function(a) {
			this.to = a;
			this.communicationType_ = module$exports$omid$common$constants.CommunicationType.NONE;
		};
		module$exports$omid$common$Communication.prototype.sendMessage = function(a, b) {};
		module$exports$omid$common$Communication.prototype.handleMessage = function(a, b) {
			if (this.onMessage) {
				this.onMessage(a, b);
			}
		};
		module$exports$omid$common$Communication.prototype.serialize = function(a) {
			return JSON.stringify(a);
		};
		module$exports$omid$common$Communication.prototype.deserialize = function(a) {
			return JSON.parse(a);
		};
		module$exports$omid$common$Communication.prototype.isCrossOrigin = function() {};
		var module$exports$omid$common$DetectOmid = {
			OMID_PRESENT_FRAME_NAME: 'omid_v1_present',
			isOmidPresent: function(a) {
				try {
					return a.frames ? !!a.frames[module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME] : !1;
				} catch (b) {
					return !1;
				}
			},
			declareOmidPresence: function(a) {
				a.frames &&
					a.document &&
					(module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME in a.frames ||
						(null == a.document.body &&
						module$exports$omid$common$DetectOmid.isMutationObserverAvailable_(a)
							? module$exports$omid$common$DetectOmid.registerMutationObserver_(a)
							: a.document.body
							? module$exports$omid$common$DetectOmid.appendPresenceIframe_(a)
							: a.document.write(
									'<iframe style="display:none" id="' +
										(module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME + '" name="') +
										(module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME + '"></iframe>')
							  )));
			},
			appendPresenceIframe_: function(a) {
				var b = a.document.createElement('iframe');
				b.id = module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME;
				b.name = module$exports$omid$common$DetectOmid.OMID_PRESENT_FRAME_NAME;
				b.style.display = 'none';
				a.document.body.appendChild(b);
			},
			isMutationObserverAvailable_: function(a) {
				return 'MutationObserver' in a;
			},
			registerMutationObserver_: function(a) {
				var b = new MutationObserver(function(c) {
					c.forEach(function(c) {
						'BODY' === c.addedNodes[0].nodeName &&
							(module$exports$omid$common$DetectOmid.appendPresenceIframe_(a), b.disconnect());
					});
				});
				b.observe(a.document.documentElement, { childList: !0 });
			}
		};
		var module$exports$omid$common$DirectCommunication = function(a) {
			module$exports$omid$common$Communication.call(this, a);
			this.communicationType_ = module$exports$omid$common$constants.CommunicationType.DIRECT;
			this.handleExportedMessage = module$exports$omid$common$DirectCommunication.prototype.handleExportedMessage.bind(
				this
			);
		};
		$jscomp.inherits(module$exports$omid$common$DirectCommunication, module$exports$omid$common$Communication);
		module$exports$omid$common$DirectCommunication.prototype.sendMessage = function(a, b) {
			b = void 0 === b ? this.to : b;
			if (!b) {
				throw Error('Message destination must be defined at construction time or when sending the message.');
			}
			b.handleExportedMessage(a.serialize(), this);
		};
		module$exports$omid$common$DirectCommunication.prototype.handleExportedMessage = function(a, b) {
			module$exports$omid$common$InternalMessage.isValidSerializedMessage(a) &&
				this.handleMessage(module$exports$omid$common$InternalMessage.deserialize(a), b);
		};
		module$exports$omid$common$DirectCommunication.prototype.isCrossOrigin = function() {
			return !1;
		};
		var module$exports$omid$common$eventTypedefs = {};
		var module$exports$omid$common$exporter = {};
		function module$contents$omid$common$exporter_getOmidExports() {
			return 'undefined' === typeof omidExports ? null : omidExports;
		}
		function module$contents$omid$common$exporter_getOrCreateName(a, b) {
			return a && (a[b] || (a[b] = {}));
		}
		module$exports$omid$common$exporter.packageExport = function(a, b, c) {
			if ((c = void 0 === c ? module$contents$omid$common$exporter_getOmidExports() : c)) {
				(a = a.split('.')),
					(a.slice(0, a.length - 1).reduce(module$contents$omid$common$exporter_getOrCreateName, c)[
						a[a.length - 1]
					] = b);
			}
		};
		var module$exports$omid$common$guid = {
			generateGuid: function() {
				return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(a) {
					var b = (16 * Math.random()) | 0;
					a = 'y' === a ? ((b & 3) | 8).toString(16) : b.toString(16);
					return a;
				});
			}
		};
		var module$exports$omid$common$logger = {
			error: function(a) {
				for (var b = [], c = 0; c < arguments.length; ++c) {
					b[c - 0] = arguments[c];
				}
				module$contents$omid$common$logger_executeLog(
					function() {
						throw new (Function.prototype.bind.apply(
							Error,
							[null, 'Could not complete the test successfully - '].concat($jscomp.arrayFromIterable(b))
						))();
					},
					function() {
						return console.error.apply(console, $jscomp.arrayFromIterable(b));
					}
				);
			},
			debug: function(a) {
				for (var b = [], c = 0; c < arguments.length; ++c) {
					b[c - 0] = arguments[c];
				}
				module$contents$omid$common$logger_executeLog(
					function() {},
					function() {
						return console.error.apply(console, $jscomp.arrayFromIterable(b));
					}
				);
			}
		};
		function module$contents$omid$common$logger_executeLog(a, b) {
			'undefined' !== typeof jasmine && jasmine
				? a()
				: 'undefined' !== typeof console && console && console.error && b();
		}
		var module$exports$omid$common$OmidGlobalProvider = {},
			module$contents$omid$common$OmidGlobalProvider_globalThis = eval('this');
		function module$contents$omid$common$OmidGlobalProvider_getOmidGlobal() {
			if ('undefined' !== typeof omidGlobal && omidGlobal) {
				return omidGlobal;
			}
			if ('undefined' !== typeof global && global) {
				return global;
			}
			if ('undefined' !== typeof window && window) {
				return window;
			}
			if (
				'undefined' !== typeof module$contents$omid$common$OmidGlobalProvider_globalThis &&
				module$contents$omid$common$OmidGlobalProvider_globalThis
			) {
				return module$contents$omid$common$OmidGlobalProvider_globalThis;
			}
			throw Error('Could not determine global object context.');
		}
		module$exports$omid$common$OmidGlobalProvider.omidGlobal = module$contents$omid$common$OmidGlobalProvider_getOmidGlobal();
		var module$exports$omid$common$windowUtils = {};
		function module$contents$omid$common$windowUtils_isValidWindow(a) {
			return null != a && 'undefined' !== typeof a.top && null != a.top;
		}
		module$exports$omid$common$windowUtils.isCrossOrigin = function(a) {
			if (a === module$exports$omid$common$OmidGlobalProvider.omidGlobal) {
				return !1;
			}
			try {
				if ('undefined' === typeof a.location.hostname) {
					return !0;
				}
				module$contents$omid$common$windowUtils_isSameOriginForIE(a);
			} catch (b) {
				return !0;
			}
			return !1;
		};
		function module$contents$omid$common$windowUtils_isSameOriginForIE(a) {
			return '' === a.x || '' !== a.x;
		}
		module$exports$omid$common$windowUtils.resolveGlobalContext = function(a) {
			'undefined' === typeof a && 'undefined' !== typeof window && window && (a = window);
			return module$contents$omid$common$windowUtils_isValidWindow(a)
				? a
				: module$exports$omid$common$OmidGlobalProvider.omidGlobal;
		};
		module$exports$omid$common$windowUtils.resolveTopWindowContext = function(a) {
			return module$contents$omid$common$windowUtils_isValidWindow(a)
				? a.top
				: module$exports$omid$common$OmidGlobalProvider.omidGlobal;
		};
		var module$exports$omid$common$PostMessageCommunication = function(a, b) {
			b = void 0 === b ? module$exports$omid$common$OmidGlobalProvider.omidGlobal : b;
			module$exports$omid$common$Communication.call(this, b);
			var c = this;
			this.communicationType_ = module$exports$omid$common$constants.CommunicationType.POST_MESSAGE;
			a.addEventListener('message', function(a) {
				if ('object' === typeof a.data) {
					var b = a.data;
					module$exports$omid$common$InternalMessage.isValidSerializedMessage(b) &&
						((b = module$exports$omid$common$InternalMessage.deserialize(b)),
						a.source && c.handleMessage(b, a.source));
				}
			});
		};
		$jscomp.inherits(module$exports$omid$common$PostMessageCommunication, module$exports$omid$common$Communication);
		module$exports$omid$common$PostMessageCommunication.isCompatibleContext = function(a) {
			return !!(a && a.addEventListener && a.postMessage);
		};
		module$exports$omid$common$PostMessageCommunication.prototype.sendMessage = function(a, b) {
			b = void 0 === b ? this.to : b;
			if (!b) {
				throw Error('Message destination must be defined at construction time or when sending the message.');
			}
			b.postMessage(a.serialize(), '*');
		};
		module$exports$omid$common$PostMessageCommunication.prototype.isCrossOrigin = function() {
			return this.to ? (0, module$exports$omid$common$windowUtils.isCrossOrigin)(this.to) : !0;
		};
		var module$exports$omid$common$Rectangle = function(a, b, c, d) {
			this.x = a;
			this.y = b;
			this.width = c;
			this.height = d;
		};
		var module$exports$omid$common$serviceCommunication = {},
			module$contents$omid$common$serviceCommunication_EXPORTED_SESSION_COMMUNICATION_NAME = [
				'omid',
				'v1_SessionServiceCommunication'
			],
			module$contents$omid$common$serviceCommunication_EXPORTED_VERIFICATION_COMMUNICATION_NAME = [
				'omid',
				'v1_VerificationServiceCommunication'
			],
			module$contents$omid$common$serviceCommunication_EXPORTED_SERVICE_WINDOW_NAME = ['omid', 'serviceWindow'];
		function module$contents$omid$common$serviceCommunication_getValueForKeypath(a, b) {
			return b.reduce(function(a, b) {
				return a && a[b];
			}, a);
		}
		function module$contents$omid$common$serviceCommunication_startServiceCommunication(a, b, c, d) {
			if (!(0, module$exports$omid$common$windowUtils.isCrossOrigin)(b)) {
				try {
					var e = module$contents$omid$common$serviceCommunication_getValueForKeypath(b, c);
					if (e) {
						return new module$exports$omid$common$DirectCommunication(e);
					}
				} catch (f) {}
			}
			return d(b) ? new module$exports$omid$common$PostMessageCommunication(a, b) : null;
		}
		function module$contents$omid$common$serviceCommunication_startServiceCommunicationFromCandidates(a, b, c, d) {
			b = $jscomp.makeIterator(b);
			for (var e = b.next(); !e.done; e = b.next()) {
				if (
					(e = module$contents$omid$common$serviceCommunication_startServiceCommunication(a, e.value, c, d))
				) {
					return e;
				}
			}
			return null;
		}
		module$exports$omid$common$serviceCommunication.startSessionServiceCommunication = function(a, b, c) {
			c = void 0 === c ? module$exports$omid$common$DetectOmid.isOmidPresent : c;
			var d = [a, (0, module$exports$omid$common$windowUtils.resolveTopWindowContext)(a)];
			b && d.unshift(b);
			return module$contents$omid$common$serviceCommunication_startServiceCommunicationFromCandidates(
				a,
				d,
				module$contents$omid$common$serviceCommunication_EXPORTED_SESSION_COMMUNICATION_NAME,
				c
			);
		};
		module$exports$omid$common$serviceCommunication.startVerificationServiceCommunication = function(a, b) {
			b = void 0 === b ? module$exports$omid$common$DetectOmid.isOmidPresent : b;
			var c = [],
				d = module$contents$omid$common$serviceCommunication_getValueForKeypath(
					a,
					module$contents$omid$common$serviceCommunication_EXPORTED_SERVICE_WINDOW_NAME
				);
			d && c.push(d);
			c.push((0, module$exports$omid$common$windowUtils.resolveTopWindowContext)(a));
			return module$contents$omid$common$serviceCommunication_startServiceCommunicationFromCandidates(
				a,
				c,
				module$contents$omid$common$serviceCommunication_EXPORTED_VERIFICATION_COMMUNICATION_NAME,
				b
			);
		};
		var module$exports$omid$common$VastProperties = function(a, b, c, d) {
			this.isSkippable = a;
			this.skipOffset = b;
			this.isAutoPlay = c;
			this.position = d;
		};
		var module$exports$omid$common$version = { ApiVersion: '1.0', Version: '1.2.20-iab1793' };
		var module$contents$omid$verificationClient$VerificationClient_VERIFICATION_CLIENT_VERSION =
				module$exports$omid$common$version.Version,
			module$contents$omid$verificationClient$VerificationClient_EventCallback;
		function module$contents$omid$verificationClient$VerificationClient_getThirdPartyOmid() {
			var a = module$exports$omid$common$OmidGlobalProvider.omidGlobal.omid3p;
			return a && 'function' === typeof a.registerSessionObserver && 'function' === typeof a.addEventListener
				? a
				: null;
		}
		var module$exports$omid$verificationClient$VerificationClient = function(a) {
			if (
				(this.communication =
					a ||
					(0, module$exports$omid$common$serviceCommunication.startVerificationServiceCommunication)(
						(0, module$exports$omid$common$windowUtils.resolveGlobalContext)()
					))
			) {
				this.communication.onMessage = this.handleMessage_.bind(this);
			} else {
				if ((a = module$contents$omid$verificationClient$VerificationClient_getThirdPartyOmid())) {
					this.omid3p = a;
				}
			}
			//----------this.remoteIntervals_ = this.remoteTimeouts_ = 0;
			this.callbackMap_ = {};
			this.imgCache_ = [];
		};
		module$exports$omid$verificationClient$VerificationClient.prototype.isSupported = function() {
			return !(!this.communication && !this.omid3p);
		};
		module$exports$omid$verificationClient$VerificationClient.prototype.registerSessionObserver = function(a, b) {
			(0, module$exports$omid$common$argsChecker.assertFunction)('functionToExecute', a);
			this.omid3p ? this.omid3p.registerSessionObserver(a, b) : this.sendMessage_('addSessionListener', a, b);
		};
		module$exports$omid$verificationClient$VerificationClient.prototype.addEventListener = function(a, b) {
			(0, module$exports$omid$common$argsChecker.assertTruthyString)('eventType', a);
			(0, module$exports$omid$common$argsChecker.assertFunction)('functionToExecute', b);
			this.omid3p ? this.omid3p.addEventListener(a, b) : this.sendMessage_('addEventListener', b, a);
		};
		module$exports$omid$verificationClient$VerificationClient.prototype.sendUrl = function(a, b, c) {
			(0, module$exports$omid$common$argsChecker.assertTruthyString)('url', a);
			module$exports$omid$common$OmidGlobalProvider.omidGlobal.document &&
			module$exports$omid$common$OmidGlobalProvider.omidGlobal.document.createElement
				? this.sendUrlWithImg_(a, b, c)
				: this.sendMessage_(
						'sendUrl',
						function(a) {
							a && b ? b() : !a && c && c();
						},
						a
				  );
		};
		module$exports$omid$verificationClient$VerificationClient.prototype.sendUrlWithImg_ = function(a, b, c) {
			var d = this,
				e = module$exports$omid$common$OmidGlobalProvider.omidGlobal.document.createElement('img');
			this.imgCache_.push(e);
			var f = function(a) {
				var b = d.imgCache_.indexOf(e);
				0 <= b && d.imgCache_.splice(b, 1);
				a && a();
			};
			e.addEventListener('load', f.bind(this, b));
			e.addEventListener('error', f.bind(this, c));
			e.src = a;
		};
		module$exports$omid$verificationClient$VerificationClient.prototype.injectJavaScriptResource = function(
			a,
			b,
			c
		) {
			var d = this;
			(0, module$exports$omid$common$argsChecker.assertTruthyString)('url', a);
			module$exports$omid$common$OmidGlobalProvider.omidGlobal.document
				? this.injectJavascriptResourceUrlInDom_(a, b, c)
				: this.sendMessage_(
						'injectJavaScriptResource',
						function(e, f) {
							e
								? (d.evaluateJavaScript_(f, a), b())
								: (module$exports$omid$common$logger.error(
										'Service failed to load JavaScript resource.'
								  ),
								  c());
						},
						a
				  );
		};
		module$exports$omid$verificationClient$VerificationClient.prototype.injectJavascriptResourceUrlInDom_ = function(
			a,
			b,
			c
		) {
			var d = module$exports$omid$common$OmidGlobalProvider.omidGlobal.document,
				e = d.body;
			d = d.createElement('script');
			d.onload = b;
			d.onerror = c;
			d.src = a;
			d.type = 'application/javascript';
			e.appendChild(d);
		};
		module$exports$omid$verificationClient$VerificationClient.prototype.evaluateJavaScript_ = function(a, b) {
			try {
				eval(a);
			} catch (c) {
				module$exports$omid$common$logger.error('Error evaluating the JavaScript resource from "' + b + '".');
			}
		};
		module$exports$omid$verificationClient$VerificationClient.prototype.setTimeout = function(a, b) {
			(0, module$exports$omid$common$argsChecker.assertFunction)('functionToExecute', a);
			(0, module$exports$omid$common$argsChecker.assertPositiveNumber)('timeInMillis', b);
			if (this.hasTimeoutMethods_()) {
				return module$exports$omid$common$OmidGlobalProvider.omidGlobal.setTimeout(a, b);
			}
			//----------var c = this.remoteTimeouts_++;
			var c = new Date().getTime() * 1000000 + Math.floor(Math.random() * 1000000);
			this.sendMessage_('setTimeout', a, c, b);
			return c;
		};
		module$exports$omid$verificationClient$VerificationClient.prototype.clearTimeout = function(a) {
			(0, module$exports$omid$common$argsChecker.assertPositiveNumber)('timeoutId', a);
			this.hasTimeoutMethods_()
				? module$exports$omid$common$OmidGlobalProvider.omidGlobal.clearTimeout(a)
				: this.sendOneWayMessage_('clearTimeout', a);
		};
		module$exports$omid$verificationClient$VerificationClient.prototype.setInterval = function(a, b) {
			(0, module$exports$omid$common$argsChecker.assertFunction)('functionToExecute', a);
			(0, module$exports$omid$common$argsChecker.assertPositiveNumber)('timeInMillis', b);
			if (this.hasIntervalMethods_()) {
				return module$exports$omid$common$OmidGlobalProvider.omidGlobal.setInterval(a, b);
			}
			//----------var c = this.remoteIntervals_++;
			var c = new Date().getTime() * 1000000 + Math.floor(Math.random() * 1000000);
			this.sendMessage_('setInterval', a, c, b);
			return c;
		};
		module$exports$omid$verificationClient$VerificationClient.prototype.clearInterval = function(a) {
			(0, module$exports$omid$common$argsChecker.assertPositiveNumber)('intervalId', a);
			this.hasIntervalMethods_()
				? module$exports$omid$common$OmidGlobalProvider.omidGlobal.clearInterval(a)
				: this.sendOneWayMessage_('clearInterval', a);
		};
		module$exports$omid$verificationClient$VerificationClient.prototype.hasTimeoutMethods_ = function() {
			return (
				'function' === typeof module$exports$omid$common$OmidGlobalProvider.omidGlobal.setTimeout &&
				'function' === typeof module$exports$omid$common$OmidGlobalProvider.omidGlobal.clearTimeout
			);
		};
		module$exports$omid$verificationClient$VerificationClient.prototype.hasIntervalMethods_ = function() {
			return (
				'function' === typeof module$exports$omid$common$OmidGlobalProvider.omidGlobal.setInterval &&
				'function' === typeof module$exports$omid$common$OmidGlobalProvider.omidGlobal.clearInterval
			);
		};
		module$exports$omid$verificationClient$VerificationClient.prototype.handleMessage_ = function(a, b) {
			b = a.method;
			var c = a.guid;
			a = a.args;
			if ('response' === b && this.callbackMap_[c]) {
				var d = (0, module$exports$omid$common$ArgsSerDe.deserializeMessageArgs)(
					module$contents$omid$verificationClient$VerificationClient_VERIFICATION_CLIENT_VERSION,
					a
				);
				this.callbackMap_[c].apply(this, d);
			}
			'error' === b && window.console && module$exports$omid$common$logger.error(a);
		};
		module$exports$omid$verificationClient$VerificationClient.prototype.sendOneWayMessage_ = function(a, b) {
			for (var c = [], d = 1; d < arguments.length; ++d) {
				c[d - 1] = arguments[d];
			}
			this.sendMessage_.apply(this, [a, null].concat($jscomp.arrayFromIterable(c)));
		};
		module$exports$omid$verificationClient$VerificationClient.prototype.sendMessage_ = function(a, b, c) {
			for (var d = [], e = 2; e < arguments.length; ++e) {
				d[e - 2] = arguments[e];
			}
			this.communication &&
				((e = (0, module$exports$omid$common$guid.generateGuid)()),
				b && (this.callbackMap_[e] = b),
				(d = new module$exports$omid$common$InternalMessage(
					e,
					'VerificationService.' + a,
					module$contents$omid$verificationClient$VerificationClient_VERIFICATION_CLIENT_VERSION,
					(0, module$exports$omid$common$ArgsSerDe.serializeMessageArgs)(
						module$contents$omid$verificationClient$VerificationClient_VERIFICATION_CLIENT_VERSION,
						d
					)
				)),
				this.communication.sendMessage(d));
		};
		(0, module$exports$omid$common$exporter.packageExport)(
			'OmidVerificationClient',
			module$exports$omid$verificationClient$VerificationClient
		);
	},
	typeof exports === 'undefined' ? undefined : exports
);

	var __IntegralASConfig = {
		jsDoSplit: false,
		debug: "false",
		jsDiag: 'true',
		version: '19.8.58',
		mtCell: 10,
		mtSample: 5,
		trackMouse: "true",
		exchList: {'e1':'nqzryq','e2':'tbbtyrnqf.t.qbhoyrpyvpx','e3':'ehovpbacebwrpg','e4':'chozngvp','e5':'bcrak','e6':'nqoevgr.pbz','e7':'tynz.pbz','e8':'lvryqznantre.pbz','e9':'yvwvg','e10':'nqakf','p11':'ghea.pbz','p12':'zngugnt','p13':'vaivgrzrqvn','p14':'qngnkh','n15':'zrqvn6qrterrf','n16':'dhnagfreir','n17':'esvuho.arg','a18':'napubeserr','a19':'eff2frnepu','a20':'mgfgngvp.pbz','n21':'ovq.npr.nqiregvfvat','e22':'wnfba','v23':'fcbgkpqa','v24':'ogeyy','v25':'yvirenvy','v26':'nqncgi','v27':'nqnc.gi','n29':'qbzqrk.pbz','n30':'ernyih.arg','d31':'cvengronl','d32':'cebklonl','d33':'onlcebkl','d34':'cvengrcebkl','d35':'cebklcvengr','d36':'onlcvengr','n37':'tjnyyrg','p39':'j55p.arg','p40':'c0l.pa','p41':'vcvalbh.pbz','p42':'c0lwferaqre'},
		sp_cdnDomain: 'cdn.adsafeprotected.com',
		sp_cdnScripts: {xsca: "static.adsafeprotected.com/xsca.17.4.85.js", sca: "static.adsafeprotected.com/sca.17.4.114.js", main: "static.adsafeprotected.com/main.19.8.58.js"},
		protocol: 'https',
		jsref: "",
		asid: "11130265-67c8-11ea-b094-0e77da516b55",
		allowViewability: "true",
		jsFeatures: "viewabilityready,consecutive,cachebust:1,forcecocoa:6,rattie,exch,recordalternate:0,usedtdomain,nextcocoa:100,bapiDiag,cookie,postDts:0,unreliabilityDetection,videotwoseconds,getPl,decodePl,resolution,usetpl,tpiLookupURL,hundredpct,jloadDiag:0,blur:0,sendclogs,zeroPing,idMap,offscreen,everySecond:1,sdkdetection,moreAdTalkCalls,slid,fm2:1,largeAd,nextcocoaie:100,usevh,fxdet:0,mmsb:0,bigmon:0,chromeNativeIO:100,oddet:0,ios:100,ancestor:100,avmm:100,avgrn:100,useScreenLocationInfoAdaptor:100,swapids:100,pIntervals:10,firewall_cdn_domain,usesca:100,usexsca:1,bustediframe:100,impFailSafe:100,yieldmo:100,displayCustomView:0,sfdetect,pmdetect:100,novidnodeerr:5,diagnosticCM:0,viewabilityOptimization:100,usehaps:100,customMetric:100,sizmek,celtra,groupmCM,avidPropertiesInImpression,abcAudit,useMraidGeometricMeasurement,mrcAudit:1,bbs,bas,spg:30",
		adsafeDomain: "adsafeprotected.com:80",
		minimizeCalls: "false",
		adWidth: "-1",
		adHeight: "-1",
		forceAppend: "null",
		sp_imp_maxLength: 8000,
		sp_imp_jsInfo_minLength: 200,
		_onInViewMRC15: __IntegralASConfig && __IntegralASConfig.onInViewMRC15,
		_onInViewMRC: __IntegralASConfig && __IntegralASConfig.onInViewMRC,
		_onMeasurable: __IntegralASConfig && __IntegralASConfig.onMeasurable,
		_onAPIResult: __IntegralASConfig && __IntegralASConfig.onAPIResult,
		_onInViewFull: __IntegralASConfig && __IntegralASConfig.onInViewFull,
		_onSuspicious: __IntegralASConfig && __IntegralASConfig.onSuspicious,
		_onInViewMRC5: __IntegralASConfig && __IntegralASConfig.onInViewMRC5,
		reqquery: "",
		mode: "rjss",
		requrl: "",
		dtBaseURL: "https:\/\/dt.adsafeprotected.com\/dt?advEntityId=33642",
		adsafeSrc: "https:\/\/pixel.adsafeprotected.com\/rfw\/st\/33642\/3584127\/skeleton.js",
		tpiLookupURL: "",
		getTpl: "false",
		use100v: true,
		useBapiCallback: "",
		useViewabilityNotification: "",
		scriptUrl: "https:\/\/pixel.adsafeprotected.com\/rjss\/st\/33642\/3584127\/skeleton.js",
		accountForSadImps: '',
		sendCookie: '',
		cookieBaseURL: 'sc.iasds01.com\/dtc?advEntityId=33642&pubEnt=3584127',
		fwMonitoring: '',
		doNothing: false,
		mn: "app11va",
		mobOrTab: false,
		app: true,
		mobFwUrl: "https:\/\/mobile.adsafeprotected.com\/internal\/monitoring\/app\/initial\/33642\/3584127\/",
		anId: '',
		advEntityId: '33642',
		pubEntityId: '3584127',
		videoId: '',
		videoChannel: '',
		rts: {},
		customViewability: [],
		serverSideAppDetection: [],
		groupm_native_publisher: false,
		integration: null,
		staticServer: '\/\/static.adsafeprotected.com\/',
		passback: ''
	};


__IASScope.__IntegralASConfig = __IntegralASConfig;
!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r,i,o,a,s,u,c,d,g,f,l,p,m,h,v,E,I,A,S="undefined"!=typeof window?window.__IASScope||window:__IASScope,D=S.__IASOmidVerificationClient||{},T=function(){try{var e={};return function(t,n,r){try{!e[t]&&Math.random()<.01&&(e[t]=!0,function(e){S.isDomless&&D&&D.sendUrl?D.sendUrl(e):(new Image).src=e}(function(e,t,n){var r,i,o="//pixel.adsafeprotected.com/mon?anid=925116&advId=fwjs-diag&campId=";try{o+=e+"&adsafe_jsinfo=",t&&t.message&&(o+="derr:"+encodeURIComponent(t.message.toString().replace(/ /g,"-")).substring(0,200)),n&&(i=n.anId?n.anId:n.advEntityId?n.advEntityId+"/"+n.pubEntityId:"",r=n.version+","+n.mode+","+i,o+=",dconfig:"+encodeURIComponent(r))}catch(e){o+=",dcatch:1"}return o}(t,n,r)))}catch(e){}}}catch(e){return function(){}}}(),O=function(e){e.isResolved=!!e.jsFeatures,e.birthdate=(new Date).getTime(),e.perfBirth=void 0!==S.performance&&"function"==typeof S.performance.now?S.performance.now():null},y=function(e){if(S.isDomless="undefined"==typeof window,D={isSupported:function(){return!1}},void 0!==S.OmidVerificationClient)try{D=new S.OmidVerificationClient["1.2.20-iab1793"],S.__IASOmidVerificationClient=D}catch(e){try{D=new S.OmidVerificationClient,S.__IASOmidVerificationClient=D}catch(e){}}e.useFIF=S&&!!S.__IntegralASUseFIF&&"jload"===e.mode,e.adRefreshThreshold=S&&S.__IntegralASAdRefreshThreshold},w=function(e){return function(t,n){if(!S.isDomless){if(e.useFIF)return S.frameElement;var r,i=t!=n,o=document.getElementsByTagName("script"),a=o[o.length-1],s=o.length,u=-1!=="jss,jsi,jspix".indexOf(e.mode),c=e.scriptUrl;try{for(;--s>=0;)if((r=o[s]).src&&0===r.src.indexOf(c)&&null===r.getAttribute("data-ias-script-tag")){a=r,r.setAttribute("data-ias-script-tag","found");break}0===s&&u&&!i&&(document.write('<span id="s'+e.asid+'"/>'),a=document.getElementById("s"+e.asid).parentNode)}catch(e){}return a}}},_=function(e){var t={};function n(e,n){t[e]=n}function r(e){n(e,Math.round(S.performance.now()))}function i(e){r(e+"A")}function o(e){r(e+"Z")}function a(e,t){var r,i;(i=S.performance.getEntriesByName(t))&&i.length&&(r=i[i.length-1]).startTime>0&&r.responseEnd>0&&(n(e+"A",Math.round(r.startTime)),n(e+"Z",Math.round(r.responseEnd)))}function s(){}function u(){n=s,r=s,i=s,o=s,a=s}function c(e){return"function"==typeof e}return function(){try{S.performance&&c(S.performance.getEntriesByName)&&c(S.performance.now)&&null!==e.perfBirth?(a(e.jsDoSplit?"bd":"md",e.scriptUrl),n("beA",Math.round(e.perfBirth)),o("be")):u()}catch(t){u(),c(S.__IntegralASDiagnosticCall)&&S.__IntegralASDiagnosticCall("perf",t,e)}}(),{mark:r,markStart:i,markEnd:o,markResource:a,getData:function(){return t}}},b=S.__IntegralASConfig||{},N={hashCode:function(e){var t,n,r=0;if(0===e.length)return r;for(t=0,n=e.length;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return r},rot:function(e){return e.replace(/[a-zA-Z]/g,(function(e){return String.fromCharCode((e<="Z"?90:122)>=(e=e.charCodeAt(0)+13)?e:e-26)}))},stringToFn:function(e){var t,n,r=S,i=e.split(".");for(t=0;t<i.length;t++)if(n=r,r=r[i[t]],oe.isUndef(r)||t===i.length-1&&!oe.isFunction(r))return!1;return function(){r.apply(n,arguments)}},stringToProp:function(e){var t,n=Z.getWindow(),r=e.split(".");for(t=0;t<r.length&&(n,n=n[r[t]],!oe.isUndef(n));t++);return n},contains:function(e,t){return!!oe.isStr(e)&&-1!==e.indexOf(t)},trim:function(e){return oe.isFunction(e.trim)?e.trim():e.replace(" ","")}},R={MRC_LARGE_AD_SIZE:242500,FLASH_MIME:"application/x-shockwave-flash",IN_VIEW:"inView",OUT_OF_VIEW:"outOfView",PARTIAL_VIEW_PLUS:"partialViewPlus",PARTIAL_VIEW_MINUS:"partialViewMinus",NA:"na",PIV_NA:-1,DT_CODES:{ADTALK:"a",DIAGNOSTIC:"b",PERFORMANCE:"e",THIRD_PARTY:"i",LARGE_BILLABLE:"l",VIDEO_EVENTS:"m",PING:"p",FULLY_INVIEW:"pf",QUARTILE_FULLY_INVIEW:"qf",SCA:"s",POS_INVIEW:"t",UNLOAD:"u",VIEWABILITY_READY:"v",EXTERNAL:"x",CUSTOM:"c",XSCA:"xs"},DT_SLOT:{IM:"im",FF:"sca",FF_EXP:"xsca",ENVIRONMENT:"env"},DETECTION_METHODS:{AD_PLACEHOLDER:"s",AD_HUNT:"a",IFRAME:"i",VIDEO:"v",MRAID:"m",AVID:"av",OMID:"o1",MUTATION:"c",SPECIFIED_AD:"sp",SPECIFIED_AD_COMPOUND:"spc",BUSTED_IFRAME_FLASHTALKING:"bf",BUSTED_IFRAME_YIELDMO:"by",BUSTED_IFRAME_SIZMEK:"bs",VENDOR_CELTRA:"vc"},OUT_OF_VIEW_REASONS:{GEOM:"l",OBSTRUCTION:"o",FOCUS:"f",COLLAPSED:"c",HIDDEN:"h",VIDEO:"v"},VIDEO_CHANNELS:{VANS:{AS3_ADAPTOR:"av3",JS_ADAPTOR:"jv3"},WRAPPERS:{JS:"jvw"}},PERF_TIMELINE_TRACKER_CONFIG:{VANS:{TYPE:"vans",COUNT:4},WRAPPERS:{JS:{TYPE:"jswrapper",COUNT:15},AS:{TYPE:"flwrapper",COUNT:9}},RENDER:{TYPE:"render",COUNT:2,CODE:"tdr"}},ERROR_CODES:{GET_AD_DIMENSIONS:"a",AD_SLOT_ID:"A",BAPI_CALLBACK:"b",BROWSER_NOT_HTML5_COMPATIBLE:"B",ADTALK_GENERAL:"c",COCOA_GONE:"C",GET_SCREEN_LOC_GET_DIMENSIONS:"d",ADTALK_DUBIOUS:"D",POST_IMPRESSION:"E",ADTALK_DELAY:"f",VIDEO_IN_IFRAME_DIMS_CALC:"F",GDPR:"g",INIT_ADS_MANAGER:"G",PHONE_HOME:"h",FEATURE_SCRIPT:"H",HIDDEN:"H1",HIDDEN2:"H2",UID_GENERATION:"i",IMPRESSION_URLS:"I",NOT_VPAID_EVENT_OBJECT:"j",JSINFO:"J",KILL_IT:"k",NO_RESPONSE_XML:"K",LOCATION_DETAILS:"l",IMPRESSION_LEADUP:"L",MESSAGE_LISTENER:"m",MOBILE_APP:"M",AT_INIT:"N",AUTOPLAY_DETECTION:"n",ANCESTOR_ORIGINS:"o",EVENT_LOOP_ONE:"O",GET_SCREEN_LOC_PIV_CALC:"p",PLUGIN_PARSING:"P",NO_ORIGINAL_VAST:"q",AD_REFRESH:"r",AD_ERROR:"R",GET_ELEM_STYLE:"s",AT_SEND:"S",ADS_MANAGER_START_AD:"t",NO_COMPANION_AD_XML:"T",NO_VIDEO_AD_INTERFACE:"u",UNRECOGNIZED_EVENT_TYPE:"U",ENVIRONMENT:"v",CHECK_SCREEN_LOC:"V",GET_WIN_DIMENSIONS:"w",AC_WATCHER:"W",EXCHANGE_PARSING:"x",SCA:"X",BUSTED_IFRAME_IN_IO:"y",FLASH_API_ACCESS:"z",XSCA:"Z"},BROWSERS:{WEBKIT:"w",OPERA:"o",GECKO:"g",CHROME:"c",IE:"i",MSEDGE:"e"},MEDIA_TYPE_CODE:"mtp",MEDIA_TYPE:{DISPLAY:"display",DISPLAY_CODE:"d",VIDEO:"video",VIDEO_CODE:"v"},MEASUREMENT_STRATEGY:{DISPLAY:"display",VIDEO:"video"},TIERS:{PRE_IMPRESSION_FRAUD:4,VIEWABILITY:7,ENVIRONMENT:8},IMPRESSION_EVENT:"impression",AD_IDENTIFIER:"data-integralas-id",IAS_DETECTOR:"iasdetector",AVID:{AD_SESSION_TYPE:{DISPLAY:"display",VIDEO:"video",MANAGED_DISPLAY:"managedDisplay",MANAGED_VIDEO:"managedVideo"}},CONTAINER_GEOMETRY_MEASUREMENT_CHANGED:"containerGeometryMeasurementChanged",MOBILE_APP_GEOMETRY_MEASUREMENT_CHANGED:"mobileAppGeometryChanged",VIEWABILITY_IN_VIEW_THRESHOLDS_INTERSECTION_OBSERVER:[0,.01,.2,.25,.3,.5,.7,.75,.8,.99,1],VIEWABILITY_IN_VIEW_THRESHOLDS_MOBILE_GRID:[0,.1,.2,.25,.3,.4,.5,.6,.7,.75,.8,.9,1],GROUPM_MOBILE_PASS_THRU_TIME_IN_VIEW_THRESHOLD_TYPE:"grpmMobPassThru",RENDER:{CREATIVE_NODE_TYPES:["CANVAS","EMBED","IMG","OBJECT","PICTURE","SVG","VIDEO"],CONTAINER_NODE_TYPES:["A","DIV","IFRAME","INS"],WIDTH_THRESHOLD:20,HEIGHT_THRESHOLD:20,STATUS:{OTHER:"0",DETECTED:"1"},DETAILS:{ENVIRONMENT:"env",OTHER:"na"},DIAGNOSTIC:{BROKEN_IMAGE:"bi",UNQUALIFIED_SIZE:"us",QUALIFIED_SIZE:"qs",STYLED_NODE:"sn",TEXT_NODE:"tn",DOCUMENT_READY:"dr",LOAD_FIRED:"lf",MRAID_DEFAULT:"md",MRAID_READY:"mr"}},RTS_KEY_FOR_VQ:"qiv",UNIQUE_ID_TOKEN:"[IAS_ASID]"},C={addEvent:function(e,t,n,r){oe.isDef(e.addEventListener)?"mouseenter"===t?e.addEventListener("mouseover",C.mouseEnter(n),r):"mouseleave"===t?e.addEventListener("mouseout",C.mouseEnter(n),r):e.addEventListener(t,n,r):oe.isDef(e.attachEvent)&&("DOMContentLoaded"===t&&(t="load"),e.attachEvent("on"+t,n))},removeEvent:function(e,t,n){oe.isDef(e.removeEventListener)?("mouseenter"===t?(t="mouseover",n=C.mouseEnter):"mouseleave"===t&&(t="mouseout",n=C.mouseEnter),e.removeEventListener(t,n)):oe.isDef(e.detachEvent)&&e.detachEvent("on"+t,n)},mouseEnter:function(e){var t=this;return function(n){var r=n.relatedTarget;this===r||t.isAChildOf(this,r)||e.call(this,n)}},isAChildOf:function(e,t){if(e===t)return!1;for(;t&&t!==e;)t=t.parentNode;return t===e},getStyle:function(e,t,n){var r,i="";return n=n||"",document.defaultView&&document.defaultView.getComputedStyle?i=(r=document.defaultView.getComputedStyle(e,n))?r.getPropertyValue(t):i:e.currentStyle&&(t=t.replace(/\-(\w)/g,(function(e,t){return t.toUpperCase()})),i=e.currentStyle[t]),i},getXHR2:function(e,t){var n,r;return oe.isDef(S.XMLHttpRequest)?"withCredentials"in(r=new XMLHttpRequest)&&(n=r):oe.isDef(XDomainRequest)&&(n=new XDomainRequest),n},whenReady:function(e,t){if(J.isDomless())Z.setTimeout((function(){e()}),50);else{var n,r,i=t||(J.xDomainIframe?document:Z.getTop().document),o=this;n=e,r=function(){n(!0)},oe.isFunction(document.addEventListener)?"complete"==i.readyState||"loaded"==i.readyState||"interactive"==i.readyState?Z.execAtEndOfThread(r):o.addEvent(i,"DOMContentLoaded",r,!1):function(e){var t=Z.setInterval((function(){i.body&&(Z.clearInterval(t),e())}),50)}(n)}},isSandboxed:function(e){var t,n=Z.getWindow(),r=!1;if("sandbox"in Z.getDoc().createElement("iframe")){try{t=n.frameElement}catch(e){}r=t?t.hasAttribute("sandbox"):function(){var t=!1,n=Z.getDoc();if(e.browserIs(R.BROWSERS.CHROME))try{n.domain="hol@#3+~"}catch(e){/Assignment is forbidden for sandboxed iframes/.test(e.message)&&(t=!0)}return t}()}return r},styleElement:function(e,t){if(e&&oe(e.style).isObj()&&oe(t).isObj()){var n="";oe(t).each((function(e,t){n+=e+": "+t+" !important;"})),e.style.cssText=n}},nodeIsAbsolutelyPositioned:function(e){return"absolute"===C.getStyle(e,"position")||e.style&&"absolute"===e.style.position}},M=C,V=function(){var e=[];return{push:function(t,n){var r=0;n=n||Number.MAX_VALUE;e[e.length]=function(){r<n&&(r++,t.apply({},arguments))}},run:function(){var t=arguments;oe(e).each((function(e,n){n.apply({},t)}))}}},F=function(){var e={},t=function(t,n){e[t]=n};return{request:function(t){var n,r=e[t],i=oe(arguments).toArray();return i.shift(),oe.isUndef(r)||(n=oe.isFunction(r)?r.apply({},i):r),n},provide:function(e,n){return n?t(e,n):oe(e).each(t),n}}},P=function(){var e={},t={},n=function(e,n){t[e]=t[e]||[],t[e].push(n)},r=function(t,n){var r;(r=e[t])&&r.run.apply({},n)},i=function(e,n,r){var i=t[e];if(i&&0!==i)return r&&(i=i.slice(0,1)),oe(i).each((function(e,t){n.apply({},t)})),!0},o=function(t,n,r){e[t]=e[t]||new V,e[t].push(n,r)};return{on:function(e,t){var n={};t?n[e]=t:n=e,oe(n).each(o),oe(n).each(i)},once:function(e,t){i(e,t,!0)||o(e,t,1)},trigger:function(e){var t=oe(arguments).toArray();t.shift(),r(e,t)},persistentTrigger:function(e){var t=oe(arguments).toArray();t.shift(),n(e,t),r(e,t)}}},L=function(){var e=new F,t=new P;return oe(e).mixin(t)},x=(i={},o=[],a=[],u=function(e,t,n,a,s){var u,c,d,g=function(){if(!u){var t=[];u=!0,i=["features","browser","context"],0===o.length&&(o=oe(i).map((function(e,t){return r.request(t)}))),s.emits&&(e.events=new P),s.applies&&!s.applies.apply(s,o)||(c=!0,(t=oe(n).map((function(e,t){return r.request(t)}),!0)).push(e),oe(e).mixin(a.apply({},t)))}var i};return d=(s=s||{}).tier,oe.isDef(d)&&(i[d]=i[d]||new V,i[d].push(g)),r.provide(t,(function(){var t;return g(),c&&(t=e),t})),e},(s=function(){var e={},t=oe(arguments).toArray();return t.unshift(e),a.push(t),e}).runAll=function(){var e=oe(i).keys().sort((function(e,t){return e-t}));oe(e).each((function(e,t){s.runTier(t)}))},s.runTier=function(e){i[e].run(),delete i[e]},s.startSystem=function(){r=r||new L,oe(a).each((function(e,t){u.apply({},t)}))},s.getAggregator=function(){return r},s),W={findElementsWithSize:function(e){var t=[],n=function(e){W.getNodeArea(e)<1?oe(e.children).each((function(e,t){n(t)})):t.push(e)};return n(e),t},nodeIsHidden:function(e){var t=this.getRect(e),n=0!==parseInt(M.getStyle(e,"width"))&&0===t.width,r=0===t.width||0===t.height,i="hidden"===M.getStyle(e,"visibility");return n||r||i},calcWinDims:function(){var e,t,n;try{t=W.browserWindowPosition(),n=W.windowSize(),e={scrX:Z.round(t.scrX),scrY:Z.round(t.scrY),width:Z.round(n.width),height:Z.round(n.height)}}catch(t){x.getAggregator().trigger("error",R.ERROR_CODES.GET_WIN_DIMENSIONS),e={}}return e},windowSize:function(){var e,t,n,r={};if(J.isDomless())return{width:0,height:0};if(J.friendly)if(t=(e=top.document).documentElement,n=e.body,oe.isDef(top.innerWidth))r.width=top.innerWidth,r.height=top.innerHeight;else if(oe.isDef(t.clientWidth))r.width=t.clientWidth,r.height=t.clientHeight;else{if(!oe.isDef(n.clientWidth))throw r.width=r.height=0,"";r.width=n.clientWidth,r.height=n.clientHeight}else oe.isDef(S.outerWidth)&&(r.width=S.outerWidth,r.height=S.outerHeight);return r},browserWindowPosition:function(){var e=0,t=0;return oe.isDef(S.screenX)?(e=S.screenX,t=S.screenY):oe.isDef(S.screenLeft)&&(e=S.screenLeft,t=S.screenTop),{scrX:e,scrY:t}},getNodeArea:function(e){var t=-1;if(e){var n=W.getRect(e);t=n.width*n.height}return t},getRect:function(e){var t={},n=W.browserWindowPosition(),r=e.getBoundingClientRect();return oe.isUndef(r.x)&&(t.x=r.left,t.y=r.top),oe.isUndef(r.width)&&(t.width=r.right-r.left,t.height=r.bottom-r.top),oe(t).mixin(r,!0),t.scrX=n.scrX+t.x,t.scrY=n.scrY+t.y,t},getIeDimObj:function(e){var t=e.document;return t.documentElement&&oe.isDef(t.documentElement.clientWidth)&&t.documentElement||t.body},getPlaceholderSpan:function(){var e=document.createElement("span");return oe(e.style).mixin({width:"0px",height:"0px",display:"block",overflow:"hidden",visibiility:"hidden"}),e.innerHTML=".",e},createImage:function(){var e=J.friendly&&Z.getTop().Image;return oe.isFunction(e)?new e:new Image},createHiddenIframe:function(e){var t=Z.getDoc().createElement("iframe"),n=e?{display:"none"}:{width:"0px",height:"0px",border:"0",position:"absolute",top:"-10000px",left:"-10000px"};return M.styleElement(t,n),t},tagNameIs:function(e,t){return e.tagName.toUpperCase()===t.toUpperCase()},getClippedDimensions:function(e,t){var n,r,i,o,a,s=1e4,u=1e4,c=M.nodeIsAbsolutelyPositioned(e);if(a=!W.tagNameIs(e,"OBJECT"),null!==e.parentNode&&!c&&a&&!W.tagNameIs(t,"BODY")){o=e;do{o=o.parentNode,r=!W.tagNameIs(o,"OBJECT"),i="inline"!==M.getStyle(o,"display"),r&&i&&(s=(n=W.getRect(o)).width<s?n.width:s,u=n.height<u?n.height:u)}while(o.parentNode!==document&&o!==t)}return{width:Z.round(s),height:Z.round(u)}},hasBackgroundImage:function(e){var t=M.getStyle(e,"background-image");return""!==t&&"none"!==t},findChildWithLargestContent:function(e,t){var n=x.getAggregator().request("mobileApp").isMobileAppEnvironment(),r=this.hasBackgroundImage,i=null,o=function(t){var n,i,o,a=null,s=-1;if(t.length)for(n=0,i=t.length;n<i;n++){var u=t[n],c=W.getNodeArea(u);c>s&&((o=u).parentNode!==e||"DIV"!==o.nodeName||r(o)||"0"!==M.getStyle(o,"opacity")&&"hidden"!==M.getStyle(o,"visibility")&&!function(){var e,t,n=o.childNodes;for(e=0;e<n.length;e++)1===n[e].nodeType&&(t=!0);return!t}())&&(a=u,s=c)}return a&&(a.hasValidSizeForMobileApp=s>1),a}(function(e){var n,r,i,o,a=[],s=t||"iframe,img,a,object,embed,div".split(",");for(n=0,r=s.length;n<r;n++){var u=s[n].toLowerCase(),c=e.getElementsByTagName&&e.getElementsByTagName(u);if(c&&c.length)for(i=0,o=c.length;i<o;i++)a.push(c[i])}return a}(e));return o&&((i=function(t){for(var r,i,o=t;t.parentNode!==e&&"inline"!==M.getStyle(t.parentNode,"display");)n&&(r=t.parentNode,i=void 0,i=!0,("visible"===M.getStyle(r,"overflow")||"visible"===M.getStyle(r,"overflowX")&&"visible"===M.getStyle(r,"overflowY"))&&(i=!1),!i)||(o=t.parentNode),t=t.parentNode;return o}(o)).hasValidSizeForMobileApp=o.hasValidSizeForMobileApp),i},screenSize:function(){if(J.isDomless())return{width:0,height:0};var e={width:-1,height:-1};try{oe.isDef(S.screen)&&(e={width:S.screen.width,height:S.screen.height})}catch(e){}return e},calcMonDims:function(){var e=oe(W.screenSize()).mixin({scrX:0,scrY:0});return oe.isDef(screen.availLeft)&&(e={scrX:S.screen.availLeft,scrY:S.screen.availTop,width:S.screen.availWidth,height:S.screen.availHeight}),e},getOurIFrameInTop:function(){for(var e,t=Z.getTop(),n=Z.getWindow();n!=t;)n=(e=n).parent;return e},getOurNodeInTop:function(){var e,t;return J.friendly&&(e=J.embedded?(t=W.getOurIFrameInTop())&&t.frameElement:b.contextNode),e},getAncestorNodes:function(e){var t=[],n=e.ownerDocument&&e.ownerDocument.documentElement,r=e;if(n)for(;r.parentNode!==n;)t.push(r),r=r.parentNode;return t},getTagsNamed:function(e,t){var n,r=t||Z.getDoc();try{n=r.getElementsByTagName(e)}catch(e){n=null}return n},containsScriptTagWithSrc:function(e){return!!oe(W.getTagsNamed("script")).findFirst((function(t,n){var r=n.src;return oe.isFunction(e)?e(r):r===e}))},contains:function(e,t){var n=!1;try{n=oe.isDef(e)&&oe.isFunction(e.contains)&&e.contains(t)}catch(e){}return n},querySelector:function(e,t){var n;try{n=e.querySelector(t)}catch(e){n=null}return n},nodeIsInWindow:function(e,t){return e.ownerDocument&&(e.ownerDocument.defaultView||e.ownerDocument.parentWindow)===t},setAttributeOf:function(e,t,n){e&&oe.isFunction(e.setAttribute)&&e.setAttribute(t,n)},removeAttributeOf:function(e,t){e&&oe.isFunction(e.removeAttribute)&&e.removeAttribute(t)},crossQuerySelector:function(e,t){var n,r,i=[b.contextNode.parentNode,Z.getDoc()];if(J.friendly&&i.push(Z.getTop().document),t&&J.embedded)try{i.push(Z.getWindow().frameElement.ownerDocument)}catch(e){}return oe(i).each((function(t,i){try{r=W.querySelector(i,e)}catch(e){}!n&&r&&(n=r)})),n},getNodeName:function(e){return e&&e.nodeName},isWindow:function(e){var t=!1;try{t=e&&"object"==typeof e&&"setInterval"in e}catch(e){t=!0}return!!t},getChildWindowsOf:function(e){var t=[],n=W.getTagsNamed("iframe",e);return n&&(t=oe(n).map((function(e,t){return t.contentWindow}))),t},getFrameId:function(){var e=Z.getWindow().frameElement;return e&&e.id},isViewportVisible:function(e,t){var n=e.innerWidth,r=e.innerHeight,i=n*r>t.width*t.height,o=n>t.width&&r>t.height;return i&&o},getTagName:function(e){return e.tagName.toLowerCase()},getAttribute:function(e,t){return e.getAttribute(t)},attributeMatches:function(e,t,n){var r=e&&W.getAttribute(e,t);return n.test(r)},isImageTag:function(e){return e&&e.src&&W.tagNameIs(e,"img")},getDimensionFromStyle:function(e){var t,n=M.getStyle(e,"width"),r=M.getStyle(e,"height");return n&&r&&(t={width:oe.getNum(n),height:oe.getNum(r)}),t},getDimensionFromAttributes:function(e){var t,n=W.getAttribute(e,"width"),r=W.getAttribute(e,"height");return n&&r&&(t={width:oe.getNum(n),height:oe.getNum(r)}),t},traverseAndFindFirstMatchingNode:function e(t,n){var r,i,o;if(n(t))i=t;else if(o=t.children)for(r=0;r<o.length&&!(i=e(o[r],n));r++);return i},getFirstChildElement:function(e){return e&&e.children&&e.children[0]},isClippable:function(e,t){var n=!0,r="fixed"===M.getStyle(e,"position"),i=!("hidden"===M.getStyle(t,"overflow"))&&!r;return J.isSpecifiedAd()&&(r||i)&&(n=!1),n},getElementsDocument:function(e){return e.ownerDocument||e},getElementsWindow:function(e){var t=W.getElementsDocument(e);return t.defaultView||t.parentWindow||e},elementIsEmbedded:function(e){return W.getElementsWindow(e)!==Z.getTop()},getParent:function(e){return e.parentNode||e.parent},isNodeXDomainIframe:function(e){var t=!1;if(e&&"IFRAME"===W.getNodeName(e))try{t=!e.contentWindow.document}catch(e){t=!0}return t},isElement:function(e){return 1===e.nodeType}},U=W,G=function(){var e,t=function(){var t,n=b.contextNode.parentNode;return n&&N.contains(n.className,"celtra-ad-v3")?e=n:(t=n&&U.querySelector(n,".celtra-ad-v3"))&&(e=t),e};return{find:t,isApplicable:function(){return void 0!==t()}}},B=function(){var e,t=Z.getDoc().scripts,n=function(){return e||(e=oe(t).findFirst((function(e,t){return N.contains(t.src,"servedby.flashtalking")}))),e};return{detectionMethod:R.DETECTION_METHODS.BUSTED_IFRAME_FLASHTALKING,isApplicable:function(e,t){return t.on("bustediframe")&&e.embedded&&void 0!==n()},getCssSelector:function(){var t,r=function(){var t,r=e||n();return r&&r.src&&(t=r.src.match(/;(\d+);/)[1]),t}(),i="#ftdiv"+r,o="#ftframe"+r;try{t=oe([i,o]).findFirst((function(e,t){return U.crossQuerySelector(t,!0)}))}catch(e){}return t}}},H=function(e){var t,n={},r=!1,i=function(e){return 1===e.nodeType},o=function(){var t=i(e)?U.nodeIsHidden(e):0===e.width||0===e.height;return!r&&t},a=function(){var e={};return oe(n).each((function(t,n){e[t]=Z.round(n)})),e},s=function(e){return oe.isNumeric(e)||oe.isUndef(e)},u=function(){return Z.round(n.width)*Z.round(n.height)};return e!==S.parent&&(i(e)?oe.isDef(e.getBoundingClientRect)&&(t=U.getRect(e),oe(n).mixin({x:oe.useIfDef(t.x)||t.scrX,y:oe.useIfDef(t.y)||t.scrY,scrX:t.scrX,scrY:t.scrY,width:t.width,height:t.height})):n=e),{hasValidDims:function(){return s(n.scrX)&&s(n.scrY)&&oe.isNumeric(n.width)&&oe.isNumeric(n.height)},toString:function(){var e=a();return[e.scrX,e.scrY,e.width,e.height].join(".")},getRounded:a,set:function(e,t){n[e]=t},isHidden:o,treatAsPlaceholder:function(){r=!0},area:u,isMrcLarge:function(){return u()>=R.MRC_LARGE_AD_SIZE},isOneByOne:function(){return o()&&u()<=1}}},k=function(){var e,t,n=Z.getDoc(),r=function(){var t,r;return e||(r=(t=U.querySelector(n,"div[id*='ebDiv']"))&&t.id,e=r&&r.split("ebDiv")[1]),e},i=function(){var e,n;return t||(n=(e=U.crossQuerySelector("iframe[id*='ebBannerIFrame_'][id$='"+r()+"']",!0))&&e.id,t=n&&"#"+n),t};return{detectionMethod:R.DETECTION_METHODS.BUSTED_IFRAME_SIZMEK,isApplicable:function(e,t){var n,o=Z.getWindow(),a=e.friendlyIframe&&Z.getWindow().frameElement,s=a&&H(a).isOneByOne(),u=(n=Z.getDoc().scripts,oe(n).findFirst((function(e,t){return N.contains(t.src,"bs.serving-sys.com/BurstingPipe/adServer")}))),c=o.EBG&&o.EBG.ads&&!oe(o.EBG.ads).isEmpty();return t.on("sizmek")&&u&&c&&s&&r()&&i()},getCssSelector:i}},j=function(){return{isApplicable:function(e,t){var n;try{n=U.getFrameId()}catch(e){}return t.on("yieldmo")&&n&&N.contains(n,"_tpi")&&U.crossQuerySelector("[data-href*='ads.yieldmo.com']",!0)},getCssSelector:function(){return"[id='"+U.getFrameId().replace("_tpi","")+"']"},detectionMethod:R.DETECTION_METHODS.BUSTED_IFRAME_YIELDMO}},Y=function(){var e,t=x.getAggregator().request("features");return e||(e=[k(),j(),B()]),oe(e).findFirst((function(e,n){return n.isApplicable(J,t)}))},q=function(e,t){var n=e||b.adsafeSrc||b.requrl;n&&0===n.indexOf("http")||(n=0===n.indexOf("//")?b.protocol+":"+n:b.protocol+"://"+n);var r=/((http|https):\/\/(([^\/\.]*)\.([^\/]*)))(?:\/(.[^?]*)\??(.+)?)*/.exec(n),i=r[1],o=r[2],a=r[3],s=r[4],u=r[5],c=e?r[6]:"",d=t?r[7]:"",g={},f=function(e){return oe.isDef(e)&&(s=e),s},l=function(e){return oe.isDef(e)&&(u=e),u},p=function(e,t){return e+"="+oe(t).toION()},m=function(){var e;return e=oe(g).isEmpty()?"":oe(g).stringify(p,"&"),"?"+d+(d&&e?"&"+e:e)};return d=d?d.replace(/&$/,""):"",{appendToParamValue:function(e,n){var r,i,o,a=g[e];a?g[e]=a+n:t&&d.length&&(r=d.split(e)).length>1&&(i=r[1].split("&")[0],o=[r[0],i].join(e),d=d.replace(o,o+n))},fullDom:i,hostname:a,sub:f,master:l,setParam:function(e,t){g[e]=g[e]||{},oe(t).isObj()?oe(g[e]).mixin(t):g[e]=t},path:function(e){c=e},toString:function(){var e=f()?f()+".":"",t=c?"/"+c:"",n=d||!oe(g).isEmpty()?m():"";return o+"://"+e+l()+t+n}}},K=function(){var e=x.getAggregator().request("omidAdSessionContext");return{accepts:function(){return e&&(e.isNative||e.isLimitedSandbox)}}},X=function(e){var t=Z.getWindow(),n=t&&t.omid3p,r=x.getAggregator().request("omidAdSessionContext"),i=!!(e&&e.isSupported&&e.isSupported()),o=!!(n&&oe.isFunction(n.registerSessionObserver)&&oe.isFunction(n.addEventListener));return{accepts:function(){return i||o},isMediaType:function(e){return e===r.mediaType},supportsAdContainerGeometry:function(){return!0}}},z=function(){var e=x.getAggregator().request("omidAdSessionContext"),t=x.getAggregator().request("omidVerificationClient"),n=new X(t),r=e.isHtml&&e.isWeb;return{accepts:function(){return n.accepts()&&r}}},J=(c="undefined"==typeof window,d=function(){return c},g=void 0!==S&&"undefined"!=typeof top&&S!==top,f=function(){var e=!1;if(d())e=!0;else try{e=!!top.document}catch(e){}return e}(),p=function(){return!d()&&oe.isDef(Z.getWindow().mraid)},m=function(){var e=!1;if(!d()){var t=Z.getWindow().inmobi,n=t&&t.IASDocumentVideoBuffer,r=t&&n&&oe.isFunction(n.addVideoEventListener);e=p()&&!!r}return e},E=function(e){return!1!==oe(b.customViewability).isArray()&&oe(b.customViewability).filter((function(t,n){return N.contains(n.id,e)})).length>0},I=function(){return b.use100v},{embedded:g,friendly:f,isFriendlyToParent:function(e){var t,n;if(d())t=!0;else{try{n=q(e.document.referrer).hostname===e.location.hostname}catch(e){}t=n}return t},friendlyIframe:g&&f,xDomainIframe:g&&!f,getTagTime:function(){return Z.now()-b.birthdate},getPageTime:function(){var e=R.NA;return!d()&&oe.isDef(S.chrome)&&oe.isDef(S.chrome.csi)&&oe.isFunction(S.chrome.csi)&&(e=Z.round(S.chrome.csi().pageT)),e},isVideo:h=function(){return-1!==b.mode.indexOf("jsvid")||function(){var e=!1,t=x.getAggregator();if(!d()){var n=t.request("avidJsClient");if(n.isAvidAvailable())try{e=n.getAvidAdSessionContext().mediaType===R.MEDIA_TYPE.VIDEO}catch(e){}}return e}()||(e=x.getAggregator(),t=e.request("omidVerificationClient"),n=!1,r=e.request("omidAdSessionContext"),t&&r&&(n=r.mediaType===R.MEDIA_TYPE.VIDEO),n)||m();var e,t,n,r},isMobileApp:l=function(){return d()||oe.isDef(Z.getWindow().mraid)},isSpecifiedAd:function(){var e=!1;if(!d()){var t=b._cl_adpath;e=t&&oe.isStr(t)}return e},isCompoundAd:function(){var e=!1;if(!d()){var t=b._cl_adpath,n=/\[(.*)\]/.exec(t);e=null!==n&&0!==n[1].length&&n[1].split(",").length>1}return e},isAvid:function(){return!d()&&oe.isDef(Z.getWindow().avid)},isOmid:function(){var e=x.getAggregator().request("omidVerificationClient");return e&&e.isSupported()},isOmidNative:function(){return(new K).accepts()},isOmidForWeb:function(){return(new z).accepts()},isDomless:d,isAvidNative:function(){var e=!1,t=x.getAggregator();if(!d()){var n,r=t.request("avidJsClient");r.isAvidAvailable()&&(e=(n=r.getAvidAdSessionContext().avidAdSessionType)===R.AVID.AD_SESSION_TYPE.MANAGED_DISPLAY||n===R.AVID.AD_SESSION_TYPE.MANAGED_VIDEO)}return e},isBustedIframe:function(){var e=!1;return d()||(e=void 0!==Y()),e},isMraid:p,isSafeFrame:function(){var e=!1;return d()||(e=oe(Z.getWindow().$sf).isObj(!1)&&oe(Z.getWindow().$sf.ext).isObj(!1)),e},isInMobiMraidVideo:m,isDeviceTypeGroupMobile:v=function(){return b.mobOrTab},usesIASFullyInViewCustomMetric:function(){return E("fiv")||I()},usesGroupMCustomMetric:A=function(){return E("grpm")||I()},isCeltra:function(){var e=!1;return d()||(e=G().isApplicable()),e},usesGroupMCustomMetricMobilePassThru:function(){return A()&&v()},usesZeroPivCustomMetric:function(){return!1!==oe(b.customViewability).isArray()&&oe(b.customViewability).filter((function(e,t){return oe(t.thresholds).findFirst((function(e,t){return 0===t.piv}))})).length>0},isRefreshable:function(e){try{var t=Z.getTop();window.addEventListener("message",(function(t){/isRefreshable/g.test(t.data)&&e(null,t&&t.data)}),!1),t.postMessage(JSON.stringify({requestTop:"isRefreshable"}),"*")}catch(t){e(t)}},isPossiblyRefreshable:function(){return!d()&&!l()&&!h()&&g&&"jload"===b.mode}}),Q={execAtEndOfThread:function(e){Q.setTimeout(e,0)},now:function(){return(new Date).getTime()},random:function(){return Math.random()},round:function(e){return Math.round(e)},ceil:function(e){return Math.ceil(e)},floor:function(e){return Math.floor(e)},min:function(){return Math.min.apply(null,arguments)},max:function(){return Math.max.apply(null,arguments)},getWindow:function(){return S},getTimeoutScope:function(){return J.isDomless()&&J.isOmid()?x.getAggregator().request("omidVerificationClient"):S},setInterval:function(e,t){return Q.getTimeoutScope().setInterval(e,t)},setTimeout:function(e,t){return Q.getTimeoutScope().setTimeout(e,t)},clearInterval:function(e){Q.getTimeoutScope().clearInterval(e)},clearTimeout:function(e){Q.getTimeoutScope().clearTimeout(e)},getMaxNumber:function(){return Number.MAX_VALUE},getTop:function(){return J.isDomless(),top},getDoc:function(){return J.isDomless(),document},getIntersectionObserver:function(e,t){return J.isDomless(),new IntersectionObserver(e,t)},pow:function(e,t){return Math.pow(e,t)}},Z=Q,$={},ee=b.jsFeatures&&-1!==b.jsFeatures.indexOf("moira"),te="true"===b.debug,ne=te&&!ee;!function(){var e,t,n,r,i=!1,o="pm,pmObject,inDoc,n,logChannel,log,info,warn,dir,exception,trace,group,groupEnd,groupCollapsed,profile,profileEnd,count,clear,time,timeEnd,timeStamp,table,error,memoryProfile,memoryProfileEnd,assert".split(","),a=function(){},s="undefined"!=typeof JSON&&"function"==typeof JSON.stringify&&"undefined"!=typeof HTMLElement,u=function(e){var t,n=function(e){var t;for(t in e)e.hasOwnProperty(t)&&(e[t]instanceof HTMLElement?e[t]="":"object"==typeof e[t]&&n(e[t]));return e};return s&&(t=JSON.stringify(n(e))),t||e},c=function(e){top.postMessage&&top.postMessage(e,"*")};if(ne&&"undefined"!=typeof console)for(t=0,e=o.length;t<e;t++)n=o[t],void 0===$[n]&&($[n]=(r=console[n])&&r.bind?r.bind(console):a);else for(t=0,e=o.length;t<e;t++)n=o[t],$[n]=a;if(ne){$.inDoc=function(e,t,n){var r=function(e,t){var n=document.createElement(e);return n.textContent=t,n},o=function(){var n,o,a;try{i||((i=document.createElement("ul")).style.position="absolute",i.style.top=0,i.style.right=0,i.style.backgroundColor="white",document.body.appendChild(i)),n=document.createElement("li"),o=r("label",e+": "),(a=r("span",t)).className="content",n.appendChild(o),n.appendChild(a),i.appendChild(n),n.className=e}catch(e){}};n?Z.setTimeout(o,n):o()};var d={};$.n=function(e,t,n,r){n=n||1,r=r||"pm",d[e]||(d[e]=0),d[e]<n&&($[r](e+" "+d[e]+": "+t),d[e]++)}}(te||ee)&&($.pm=S.postMessage?c:a,$.pmObject=S.postMessage?function(e,t){c(e+": "+u(t))}:a,$.logChannel=function(e,t){s&&$.pm(u({asid:b.asid,channel:e,data:t}))})}();var re=function(e){return new ie(e)},ie=function(e){this.iterable=e};ie.prototype.isObj=function(e){var t="object"==typeof this.iterable,n=null===this.iterable,r=t&&!n,i=!this.isArray()&&r;return e?r:i},ie.prototype.isArray=function(){return this.iterable instanceof Array},ie.prototype.isEmpty=function(e){return 0===this.keys(e).length},ie.prototype.each=function(e,t){var n=this.iterable;if(n.length===+n.length)for(var r=0,i=n.length;r<i;++r)e(r,n[r]);else for(var o in n)(n.hasOwnProperty(o)||t)&&e(o,n[o])},ie.prototype.map=function(e,t){var n=[];return this.each((function(r,i){var o=e(r,i);(void 0!==o||t)&&(n[n.length]=o)})),n},ie.prototype.stringify=function(e,t){t=t||",";var n=[];return this.each((function(t,r){var i=e(t,r);re.isDef(i)&&n.push(i)})),n.join(t)},ie.prototype.toION=function(e,t){this.iterable;var n,r="[",i="]";return t=t||0,e=e||{},++t>4?"object":!this.isObj(!0)||this.iterable.hasOwnProperty("toString")?""+this.iterable:(this.isArray()?n=this.map((function(n,r){return re(r).toION(e,t)})):(r="{",i="}",n=this.map((function(n,r){var i="string"==typeof n&&-1!==n.indexOf("NULL"),o=re(r).toION(e,t);return i?o:(e[n]||n)+":"+o}))),r+n.join(",")+i)},ie.prototype.compareTo=function(e){var t=!1;return this.each((function(n,r){e[n]!==r&&(t||(t={}),t[n]=r)})),t},ie.prototype.toParams=function(e){return this.stringify((function(e,t){return"string"==typeof e&&-1!==e.indexOf("NULL")?t:e+":"+t}),e)},ie.prototype._privateMixin=function(e,t,n){var r;for(r in t)re.isDef(t[r])&&(n||t.hasOwnProperty(r))&&(e[r]=t[r]);return e},ie.prototype.mapToObj=function(e){var t={},n=this;return this.each((function(r,i){var o=e(r,i);re(o).isObj()&&n._privateMixin(t,o)})),t},ie.prototype.invert=function(){return this.mapToObj((function(e,t){var n={};return n[t]=e,n}))},ie.prototype.mixin=function(e,t){return this._privateMixin(this.iterable,e,t)},ie.prototype.find=function(e){var t;return this.each((function(n,r){e(n,r)&&(t=r)})),t},ie.prototype.findFirst=function(e){var t,n;return this.each((function(r,i){!n&&e(r,i)&&(t=i,n=!0)})),t},ie.prototype.keys=function(e){var t=[];return this.each((function(e){t.push(e)}),e),t},ie.prototype.asStrings=function(){var e={};return this.each((function(t,n){e[t]=""+n})),e},ie.prototype.selectProperties=function(e){var t={},n=this;return re(e).each((function(e,r){re.isDef(n.iterable[r])&&(t[r]=n.iterable[r])})),t},ie.prototype.filter=function(e,t){return this.map((function(t,n){var r;return(re.isUndef(e)||re.resolve(e,t,n))&&(r=n),r}),t)},ie.prototype.toArray=function(){return this.map((function(e,t){return t}))},ie.prototype.JSONStringify=function(){var e,t,n=!1;return S.Prototype&&S.Prototype.Version&&-1===S.Prototype.Version.indexOf("1.7")&&(n=!0),n&&(t=Array.prototype.toJSON,delete Array.prototype.toJSON),e=JSON.stringify(this.iterable),n&&(Array.prototype.toJSON=t),e},ie.prototype.contains=function(e){var t=re(this.iterable).findFirst((function(t,n){return e===n}));return re.isDef(t)},re.toBase=function(e,t){var n,r=e<0,i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),o=[];e=r?-e:e;do{n=e%t,o.push(i[n]),e=(e-n)/t}while(e>0);return o=o.reverse().join(""),r?"-"+o:o},re.isDef=function(e){return void 0!==e},re.isUndef=function(e){return!re.isDef(e)},re.isBool=function(e){return"boolean"==typeof e},re.noop=function(){},re.identity=function(e){return e},re.isFunction=function(e){return"function"==typeof e},re.isStr=function(e){return"string"==typeof e},re.useIfDef=function(e){return!!re.isDef(e)&&e},re.stringifyTriState=function(e){return!0===e?1:!1===e?0:"na"},re.getNum=function(e){var t=parseInt(e);return isFinite(t)||(t=-1),t},re.resolve=function(e){var t=re(arguments).toArray();return t.shift(),re.isFunction(e)?e.apply({},t):e},re.flatJSONParse=function(e){for(var t,n,r,i=/"(\w+)":(\d+|(?:"([^"]*)"))/g,o={},a=i.exec(e);a;)t=a[1],n=a[3],r=a[2],o[t]=n||+r,a=i.exec(e);return o},re.debounce=function(e,t,n){var r,i=n||S;return function(){var n=this,o=arguments,a=function(){r=null,e.apply(n,o)};i.clearTimeout(r),r=i.setTimeout(a,t)}},re.last=function(e){return e[e.length-1]},re.collapseArgsIntoHash=function(e,t){var n={};return t?n[e]=t:n=e,n},re.fromBoolToNum=function(e){return e?1:0},re.isNumeric=function(e){return re.isDef(e)&&null!==e&&!isNaN(e)},re.fromNodeListToArray=function(e){return Array.prototype.slice.call(e)};var oe=re,ae=function(e,t,n,r){var i,o,a=0,s=0,u=e&&e.body,c=!1,d=function(){if((i=Math.round(U.getNodeArea(e.body)))>=r){for(var t,o,u=i+20*i/100,c=e.querySelectorAll("iframe"),d=oe.fromNodeListToArray(c);d.length&&(s<u||a<n);)t=d.shift(),(o=Math.round(U.getNodeArea(t)))>=r&&(a++,s+=o);s>=u&&a>=n&&g()}},g=function(){var e={va:i,bia:s,bin:a};x.getAggregator().trigger("addThrottledProp",R.DT_SLOT.FF,t,oe(e).toION()),c=!0};u&&(Z.execAtEndOfThread(d),!c&&oe.isDef(S.MutationObserver)&&(o=new MutationObserver((function(e){c?o.disconnect():Z.execAtEndOfThread((function(){oe(e).each((function(e,t){if(t.addedNodes.length){var n=t.addedNodes[0];n&&U.isElement(n)&&U.tagNameIs(n,"IFRAME")&&oe.debounce(d,10)}}))}))}))).observe(e.body,{attributes:!1,childList:!0,characterData:!1}))},se={name:"BS_Browser",dependencies:[],creator:function(){var e=Z.getWindow().document,t=e.body?Math.round(U.getNodeArea(e.body)):null;!x.getAggregator().request("mobileApp").isMobileAppEnvironment()&&t&&ae(e,"bs2",5,t)},settings:{tier:R.TIERS.VIEWABILITY,applies:function(e,t,n){var r=!e.bootstrapOn("app")&&!n.isDomless();return e.on("bbs")&&n.embedded&&r}}};x(se.name,se.dependencies,se.creator,se.settings);var ue={name:"BS_InApp",dependencies:[],creator:function(){var e=Z.getWindow().document;x.getAggregator().request("mobileApp").isMobileAppEnvironment()&&ae(e,"bs1",3,100)},settings:{tier:R.TIERS.VIEWABILITY,applies:function(e,t,n){var r=n.isAvid()||n.isOmid()||n.isMraid(),i=!n.isDomless()&&n.friendly&&!n.embedded;return e.on("bas")&&r&&i&&e.bootstrapOn("app")}}};x(ue.name,ue.dependencies,ue.creator,ue.settings);var ce=function(e){var t,n,r=function(r){t=e.setInterval(r,100),n=e.setTimeout((function(){i()}),42e4)},i=function(){t&&(e.clearInterval(t),t=null),n&&(e.clearTimeout(n),n=null)};return{onResize:function(t){var n=e.innerWidth,o=e.innerHeight,a=!1;r((function(){var r,s,u=(r=e.innerWidth,s=e.innerHeight,r!==n||s!==o);u&&(a=!0),a&&!u&&(t(),i(),a=!1),n=e.innerWidth,o=e.innerHeight}))}}},de={name:"AS_Finder",dependencies:["viewport"],creator:function(e,t){var n,r=function(){try{r=e.isHidden(),o={},r!==n&&(i=oe.stringifyTriState(r),o.res1=i,o.ps=i,o.ts=Z.now(),o.psfr=oe.stringifyTriState(e.isCurrentIframeTheHiddenFrame()),t.events.trigger("newState",o)),n=r}catch(e){x.getAggregator().trigger("error",R.ERROR_CODES.HIDDEN2)}var r,i,o};return{start:function(){var t;e.isHidden()&&(r(),(t=e.getWindowWithHiddenViewport())&&ce(t).onResize(r))}}},settings:{emits:!0,applies:function(e,t,n){return n.embedded&&!n.isBustedIframe()&&!n.isSpecifiedAd()}}};x(de.name,de.dependencies,de.creator,de.settings);var ge=function(){var e,t,n=(e=function(e){return e&&e.width&&e.width>30&&e.height&&e.height>30},{hasValidDimensions:function(n){return t(n)||function(t){var n=U.getDimensionFromStyle(t);return e(n)}(n)},hasValidDimentionAttributes:t=function(t){var n=U.getDimensionFromAttributes(t);return e(n)}}),r=/GoogleActiveViewClass/,i=/DfaVisibilityIdentifier_/,o=/doubleclick.net\/pcs\/click?/,a=/_blank/,s=function(e){var t=U.tagNameIs(e,"div"),n=U.attributeMatches(e,"class",r),o=U.attributeMatches(e,"id",i);return t&&n&&o};return{getDFPGoogleDiv:function(e){return U.traverseAndFindFirstMatchingNode(e,s)},getClickableImage:function(e){var t,r,i=U.getFirstChildElement(e);return function(e){var t=e&&U.tagNameIs(e,"a"),n=U.attributeMatches(e,"href",o),r=U.attributeMatches(e,"target",a);return t&&n&&r}(i)&&(r=U.getFirstChildElement(i),U.isImageTag(r)&&n.hasValidDimentionAttributes(r)&&(t=r)),t},getNodeMatchingMinimumSize:function(e){return U.traverseAndFindFirstMatchingNode(e,n.hasValidDimensions)}}},fe=function(){var e=ge(),t=function(e,t){t.tag=U.getTagName(e),t.size=U.getDimensionFromAttributes(e)||U.getDimensionFromStyle(e)};return{getDFPValue:function(n){var r=e.getDFPGoogleDiv(n);return r?function(n){var r,i,o={type:0};return n&&(o.type=1,(r=e.getClickableImage(n))?(o.type=2,t(r,o)):(i=e.getNodeMatchingMinimumSize(n))&&(o.type=3,t(i,o))),o}(r):function(n){var r={type:0},i=e.getNodeMatchingMinimumSize(n);return i&&(r.type=4,t(i,r)),r}(n)}}},le={name:"hA",dependencies:["AS_Finder"],creator:function(e){var t=0,n=function(e,t){x.getAggregator().trigger("addThrottledProp",R.DT_SLOT.FF,e,oe(t).toION())},r=function(e){t<2&&n("ha1",e),t++};!function(){var t,i;if(J.embedded)try{i=b.contextNode.parentNode,t=fe().getDFPValue(i),n("dfp",function(e){var t={};return t.df=e.type,e.size&&(t.sz=e.size.width+"."+e.size.height),e.tag&&(t.dom=e.tag),t}(t)),t.size&&e&&(e.events.on("newState",r),e.start())}catch(e){x.getAggregator().trigger("error",R.ERROR_CODES.HIDDEN)}}()},settings:{tier:R.TIERS.PRE_IMPRESSION_FRAUD,applies:function(e,t,n){return e.on("usehaps")}}};x(le.name,le.dependencies,le.creator,le.settings);var pe={name:"viewport",dependencies:[],creator:function(){var e={width:4,height:4},t=function(t){return!U.isViewportVisible(t,e)},n=function(e,r){return e!==r&&t(e)?e:e!==r&&J.isFriendlyToParent(e)?n(e.parent,r):void 0},r=function(){var e=Z.getWindow();return n(e,Z.getWindow().top)},i=function(){return void 0!==r()};return{MIN_VISIBLE_DIM:e,isHidden:i,isCurrentIframeTheHiddenFrame:function(){var e,n=Z.getWindow();return t(n)?e=!0:i()&&(e=!1),e},getWindowWithHiddenViewport:r}}};x(pe.name,pe.dependencies,pe.creator);var me={name:"GDPRConsentDetector",dependencies:[],creator:function(){var e,t,n,r,i="ias_"+b.asid,o=function(e){try{e&&e.data&&e.data.__cmpReturn&&e.data.__cmpReturn.callId===i&&e.data.__cmpReturn.returnValue&&(n=e.data.__cmpReturn.returnValue,r=oe.isDef(n)&&oe.isDef(n.vendorConsents)&&oe.isDef(n.vendorConsents[278])?n.vendorConsents[278]:void 0,a={appl:oe.stringifyTriState(n.gdprApplies),cnst:oe.stringifyTriState(r),glbl:oe.stringifyTriState(n.hasGlobalConsent),mtdt:encodeURIComponent(n.metadata)},x.getAggregator().trigger("addThrottledProp",R.DT_SLOT.ENVIRONMENT,"gcd",oe(a).toION()),M.removeEvent(t,"message",o))}catch(e){x.getAggregator().trigger("error",R.ERROR_CODES.GDPR)}var n,r,a};(function(e){x.getAggregator().trigger("addThrottledProp",R.DT_SLOT.ENVIRONMENT,"gca",oe.stringifyTriState(e))})(r=function(){for(var t=Z.getWindow(),n=Z.getTop();!e;){try{t.frames.__cmpLocator&&(e=t)}catch(e){}if(t===n)break;t=t.parent}return!!e}()),r&&(t=Z.getWindow(),n={__cmpCall:{command:"getVendorConsents",parameter:[278],callId:i}},M.addEvent(t,"message",o),e.postMessage(n,"*"))},settings:{tier:R.TIERS.ENVIRONMENT,applies:function(e,t,n){return t.hasPostMessage()&&!n.isDomless()}}};x(me.name,me.dependencies,me.creator,me.settings);var he={name:"postMessageDetector",dependencies:[],creator:function(){var e,t=!1,n="pmdetector"+b.asid,r=function(e){(e&&e.data)===n&&(t=!0)};e=Z.getWindow(),M.addEvent(e,"message",r),e.postMessage(n,"*"),Z.execAtEndOfThread((function(){x.getAggregator().trigger("addThrottledProp",R.DT_SLOT.IM,"pom",oe.stringifyTriState(t)),M.removeEvent(e,"message",r)}))},settings:{tier:R.TIERS.ENVIRONMENT,applies:function(e,t,n){return e.on("pmdetect")&&t.hasPostMessage()}}};x(he.name,he.dependencies,he.creator,he.settings);var ve={name:"safeFrameDetector",dependencies:[],creator:function(){x.getAggregator().trigger("addThrottledProp",R.DT_SLOT.IM,"sf",oe.stringifyTriState(J.isSafeFrame()))},settings:{tier:R.TIERS.ENVIRONMENT,applies:function(e,t,n){return e.on("sfdetect")}}};x(ve.name,ve.dependencies,ve.creator,ve.settings);var Ee={name:"AdRefreshDetection",dependencies:[],creator:function(){var e=[30,45,60,90],t={start:function(){var e=this,t=b.asid,n=this.getChanId(),r=b&&b.contextNode&&b.contextNode.nextSibling&&b.contextNode.nextSibling.id;t&&n&&(this.recordAdSlotImpression(t,n,r,(function(t,n){t?x.getAggregator().trigger("error",R.ERROR_CODES.AD_REFRESH):e.sendRefreshSession(n)})),e.registerInternalViewabilityListener(n,r))},adRefreshIntervalIsValid:function(t){return-1!==e.indexOf(t)},getChanId:function(){for(var e,t=b.reqquery.split("&"),n=/(\S+)=(\S+)/g,r=0;r<t.length;r+=1){n.lastIndex=0;var i=n.exec(t[r]);i&&3===i.length&&"chanId"===i[1]&&(e=i[2])}return e},sendRefreshSession:function(e){var t=(0===e.refreshCount?"self":e.refreshSessionId)+"."+e.refreshCount;x.getAggregator().trigger("addThrottledProp",R.DT_SLOT.ENVIRONMENT,"ar",t)},recordAdSlotImpression:function(e,t,n,r){var i=Z.getTop(),o={requestTop:"recordAdSlotImpression",asid:e,adUnitId:t,cacheId:n};window.addEventListener("message",(function(e){if(/refreshSession/g.test(e.data))try{var t=e&&e.data&&JSON.parse(e.data);r(null,t)}catch(e){r(e)}}),!1),i.postMessage(JSON.stringify(o),"*")},registerInternalViewabilityListener:function(e,t){var n=this,r=b.adRefreshThreshold&&parseInt(b.adRefreshThreshold)||null,i=Z.getTop();r&&this.adRefreshIntervalIsValid(r)&&x.getAggregator().on("sendDt",(function(o,a){o===R.DT_CODES.PING&&a===r&&(Z.execAtEndOfThread((function(){i.postMessage(JSON.stringify({requestTop:"refreshAd",adUnitId:e,cacheId:t}),"*")})),n.sendAutoRefreshProp(r))}))},sendAutoRefreshProp:function(e){x.getAggregator().trigger("addThrottledProp",R.DT_SLOT.ENVIRONMENT,"ir",e),x.getAggregator().trigger("adSessionComplete")}};return J.isRefreshable((function(e,n){var r;if(!e&&n)try{(r=JSON.parse(n)).isRefreshable&&r.adServerName&&t.start()}catch(e){x.getAggregator().trigger("error",R.ERROR_CODES.AD_REFRESH)}})),t},settings:{tier:R.TIERS.ENVIRONMENT,applies:function(e,t,n){return n.isPossiblyRefreshable()}}};x(Ee.name,Ee.dependencies,Ee.creator,Ee.settings);var Ie=function(){var e=!1;return M.whenReady((function(){x.getAggregator().trigger("startViewabilityLoop"),e=!0})),{loopStarted:function(){return e}}},Ae={name:"loopDelay",dependencies:[],creator:Ie,settings:{applies:function(e,t,n){return e.bootstrapOn("allowViewability")},tier:R.TIERS.VIEWABILITY}};x(Ae.name,Ae.dependencies,Ae.creator,Ae.settings);var Se=function(e,t,n,r){return{accepts:function(){var i=n.xDomainIframe,o=e.bootstrapOn("mobOrTab"),a=e.on("ios"),s=t.browserIs(R.BROWSERS.WEBKIT),u=t.getIOSVersion()>=9,c=r.isMobileAppEnvironment();return i&&o&&a&&s&&u&&!c},isImmediate:function(){return!1},start:function(){}}},De=function(e){var t,n,r,i,o,a=function(s){if(r&&!o&&s<1)return o=!0,void Z.setTimeout((function(){a(s)}),1e3);i=s<1,!n&&i?(n=!0,t.updateFrequency(e.getOptimizedPollingFrequency(),!0)):n&&!i&&(n=!1,t.updateFrequency(e.getPollingFrequency(),!0))},s=function(e){a(e.percentInView)};return{applies:function(e,t,n){var i=x.getAggregator().request("mobileApp"),o=new Se(t,e,n,i).accepts(),a=t.on("viewabilityOptimization")&&!o;return r=n.usesZeroPivCustomMetric(),a},start:function(e){(t=e).start(!0),x.getAggregator().on("IOPivChange",a),x.getAggregator().on("newScreenEvent",s)}}},Te=function(e){return{getPollingFrequency:function(){return e.isVideo()?200:100},getOptimizedPollingFrequency:function(){return 1e3}}},Oe=function(){return{applies:function(e,t){var n=x.getAggregator().request("mobileApp"),r=!t.bootstrapOn("mobOrTab")&&e.browserIs(R.BROWSERS.WEBKIT);return(e.browserIs(R.BROWSERS.CHROME)||e.isAndroidWebViewBrowser()||r||e.browserIs(R.BROWSERS.MSEDGE))&&!n.isMobileAppEnvironment()&&e.hasIntersectionObserver()&&t.on("chromeNativeIO")}}},ye=function(){var e,t,n,r=!1,i=function(o){return n&&!r&&o<1?(r=!0,void Z.setTimeout((function(){i(o)}),1e3)):(o<1?(e||t.stop(!0),e=!0):e&&(e=!1,t.start(!0)),e)};return{applies:function(e,t,r){n=r.usesZeroPivCustomMetric();var i=Oe();return t.on("viewabilityOptimization")&&i.applies(e,t,r)&&r.isDeviceTypeGroupMobile()},start:function(e){(t=e).start(!0),x.getAggregator().on("IOPivChange",i)}}},we=function(e,t){var n,r=t,i=function(t){n||(t&&e(),n=Z.setInterval(e,r))},o=function(t){t&&e(),Z.clearInterval(n),n=null};return{start:i,stop:o,updateFrequency:function(e,t){r=e,o(),i(t)}}},_e=function(e){var t,n,r,i,o,a=_e.callTypeCounter,s=[R.DT_CODES.ADTALK],u={UNLOAD:-1,ADTALK:-2,VIEWABILITY_READY:-3,VIDEO_EVENTS:-4,DIAGNOSTIC:-5,THIRD_PARTY:-6,QUARTILE_FULLY_INVIEW:-7,LARGE_BILLABLE:-8,SCA:-10};return i=(t={},n=R.DT_CODES,oe(["UNLOAD","ADTALK","VIEWABILITY_READY","VIDEO_EVENTS","DIAGNOSTIC","THIRD_PARTY","QUARTILE_FULLY_INVIEW","LARGE_BILLABLE","SCA"]).each((function(e,r){t[n[r]]=u[r]})),t)[e],o=a&&a[e],oe.isDef(o)&&0!==o&&oe(s).contains(e)&&(i=i+"."+o),r=a[e],a[e]=oe.isDef(r)?r+1:1,{callType:e,enumerator:i}};_e.callTypeCounter={};var be=_e,Ne={name:"viewabilityLoopLifecycle",dependencies:["viewability","features","context","browser"],creator:function(e,t,n,r){var i,o=Te(n),a=[new ye,new De(o)],s=function(e){"sessionFinish"===e.type&&x.getAggregator().trigger("adSessionComplete")},u=function(){var u,d=x.getAggregator().request("mobileApp").isMobileAppEnvironment();x.getAggregator().request("ids").impressionIsIdentifiable()&&(i=we(e.checkScreenLoc,o.getPollingFrequency()),(u=oe(a).findFirst((function(e,i){return i.applies(r,t,n)?i:void 0})))?u.start(i):i.start(!0),d?J.isOmid()?x.getAggregator().request("omidVerificationClient").registerSessionObserver(s,"IAS"):c("MOBILE_APP_TEST_EVENT_AD_SESSION_COMPLETE"):c("beforeunload"))},c=function(e){M.addEvent(S,e,(function(){x.getAggregator().trigger("adSessionComplete")}),!1)},d=function(){!n.isVideo()||n.isAvid()||n.isOmidNative()||g(),x.getAggregator().trigger("unload"),i&&i.stop(),x.getAggregator().trigger("endAdSession"),x.getAggregator().trigger("stopAdTalk")},g=function(){var e=new be(R.DT_CODES.VIDEO_EVENTS);x.getAggregator().trigger("sendDt",e.callType,e.enumerator,(function(){var e={id:b.videoId,msg:"unloadComplete",messageType:"misc"};Z.getWindow().postMessage(JSON.stringify(e),"*")}))};x.getAggregator().once("startViewabilityLoop",u),x.getAggregator().once("adSessionComplete",d)},settings:{tier:R.TIERS.VIEWABILITY}};x(Ne.name,Ne.dependencies,Ne.creator,Ne.settings);var Re=function(){var e=function(t,n,r){var i,o,a=n.length,s=U.isWindow(t)?t.frames:U.getChildWindowsOf(t);if(r&&r(t,n),s&&s.length){for(i=0;i<s.length;i++)(o=s[i])&&U.isWindow(o)&&(n[a]=i,e(o,n,r));n.pop()}},t=function(t,n){try{e(n||top,[0],t)}catch(e){}};return{traverse:t,getFrames:function(e,n){var r=[];return t((function(e){U.isWindow(e)&&function(e,t){var n,r=!0;for(n=0;n<e.length;n++)if(e[n]===t){r=!1;break}return r}(r,e)&&r.push(e)}),n),oe(r).filter(e)}}},Ce=function(){return{send:function(e,t){if(JSON&&JSON.stringify){var n=function(e){return oe(e).isObj()?[e]:(new Re).getFrames(e)}(t);oe(n).each((function(t,n){var r,i=oe.resolve(e,n)||{};i.sentTime=Z.now(),r=function(e){return oe(e).mapToObj((function(e,t){var n;return oe.isFunction(t)||((n={})[e]=t),n}))}(i),n.postMessage(oe(r).JSONStringify(),"*")}))}}}},Me={name:"spgCache",dependencies:[],creator:function(){var e=["asp","fsc","mvn","no","sd"],t={},n=!1,r=function(){return i(t)},i=function(t){return oe(t).keys().sort().toString()===e.toString()},o=function(){n||(n=!0,oe(t).each((function(e,t){x.getAggregator().trigger("addOutputItem",t,e,{type:R.DT_CODES.SCA,minDt:!0,sendOnce:!0})})),x.getAggregator().trigger("sendMinDt",R.DT_CODES.SCA))};return{allExpectedKeysPresent:i,isDtCallAlreadySent:function(){return n},addToCache:function(e,n){n&&n.output&&!r()&&(t[e]=n),r()&&o()},isFull:r,sendToOtherTags:function(){(new Ce).send({scaInfoOriginatorASID:b.asid,cache:t})}}},settings:{}};x(Me.name,Me.dependencies,Me.creator,Me.settings);var Ve=function(){var e,t=new Ce;return{listen:function(n,r,i){e=function(e){!function(e,n,r,i){var o,a,s,u;if(JSON&&JSON.parse)try{o=JSON.parse(e.data),a=e.source,u=oe.noop,n(o)&&(i&&(s=i(a,o))&&(u=function(){t.send((function(){return s}),a)}),r(e,o,u))}catch(e){o&&x.getAggregator().trigger("error",R.ERROR_CODES.MESSAGE_LISTENER)}}(e,n,r,i)},M.addEvent(S,"message",e)},stop:function(){e&&M.removeEvent(S,"message",e),e=null}}},Fe={name:"spg",dependencies:["spgCache"],creator:function(e){var t=new Ve;t.listen((function(t){return t&&t.scaInfoOriginatorASID&&t.scaInfoOriginatorASID!==b.asid&&t.cache&&e.allExpectedKeysPresent(t.cache)}),(function(n,r){t.stop(),Z.setTimeout((function(){e.isDtCallAlreadySent()||(x.getAggregator().trigger("addThrottledProp",R.DT_SLOT.FF,"spg",r.scaInfoOriginatorASID),oe(r.cache).each((function(t,n){e.addToCache(t,n)})))}),Z.round(1e3*Z.random()))})),x.getAggregator().on("addToSpg",(function(t,n){e.addToCache(n,t),e.isFull()&&(e.sendToOtherTags(),Z.setInterval((function(){e.sendToOtherTags()}),1e3))}))},settings:{tier:R.TIERS.PRE_IMPRESSION_FRAUD,applies:function(e,t,n){return e.on("spg")}}};x(Fe.name,Fe.dependencies,Fe.creator,Fe.settings);var Pe=Fe,Le=function(e){var t,n=0;return e>0&&(n=e/1e3),t=1e3*n,{getTimeInViewInSeconds:function(){return n},getTimeInViewForRts:function(){return t}}},xe=function(e,t){var n=0,r=!1,i=function(e){n=0,t>0&&e>0&&(n=Z.ceil(e*(t/100)))};return i(15),{getTimeInViewInSeconds:function(){return!r&&e.isVideoDurationResolved()&&(r=!0,i(e.getAdDuration())),n},getTimeInViewForRts:function(){return 0}}},We=function(){var e=-1,t=function(t){if(!n()){var r=oe.isDef(t.ad_duration)?t.ad_duration:t.adRemainingTime;(function(e){return void 0!==e&&e>0})(r)&&(e=Math.ceil(r))}},n=function(){return e>0};return x.getAggregator().on({omidAdDuration:t,adVideoStart:t,adDurationChange:t}),{getAdDuration:function(){return e},isVideoDurationResolved:n}},Ue=function(e){var t=[];if(oe(e.tiv).isArray())oe(e.tiv).each((function(e,n){t.push(new Le(n))}));else if("string"==typeof e.tiv){var n=e.tiv.split("|"),r=new We;t.push(new xe(r,parseInt(n[1].replace("%")))),t.push(new Le(1e3*parseInt(n[0])))}else oe.isDef(e.tiv)&&t.push(new Le(1e3*e.tiv));return{getTimeThresholds:function(){return t}}},Ge=function(){var e=new Ue({tiv:[1e4]}),t=oe([R.IN_VIEW,R.PARTIAL_VIEW_PLUS]);return{timeInViewThresholds:e,type:R.DT_CODES.FULLY_INVIEW,rts:{},isInView:function(e){var n=Z.max(e.fullPercentInView||0,e.percentInView);return t.contains(e.viewState)&&100===n},applies:function(e,t){return e.on("abcAudit")&&925955==b.anId&&t.usesIASFullyInViewCustomMetric()},minUnit:1e3,shouldIncludeSound:!1}},Be=function(){return{calcDims:function(e,t){var n,r,i=new H(e);return U.isClippable(e,t)&&(n=U.getClippedDimensions(e,t),r=i.getRounded(),i.set("height",n.height<r.height?n.height:r.height||1),i.set("width",n.width<r.width?n.width:r.width||1)),i},allowsOptimization:!1,isApplicable:function(e){var t=(J.isSpecifiedAd()||J.isBustedIframe())&&U.nodeIsInWindow(e,Z.getTop()),n=!U.elementIsEmbedded(e);return t||n}}},He=function(){var e=x.getAggregator().request("iframeCalculatorHelper");return{calcDims:e.calcDims,getClippedDims:e.getClippedDims,allowsOptimization:!0,isApplicable:function(e){return!(J.isSpecifiedAd()||J.isBustedIframe())&&U.elementIsEmbedded(e)}}},ke=function(){var e;return{calcDims:function(t,n,r){var i=oe.isDef(r)?r.getAdNodeDimensions():void 0;return e&&oe.isUndef(i)&&(i=e.calcDims(t,n)),i},isApplicable:function(e){var t=Oe(),n=x.getAggregator(),r=n.request("browser"),i=n.request("features"),o=n.request("context");return o.isDeviceTypeGroupMobile()&&t.applies(r,i,o)},allowsOptimization:!1,setBaseStrategy:function(t){e=t}}},je=function(){var e=x.getAggregator().request("iframeCalculatorHelper");return{calcDims:function(t){var n=e.calcDims(),r=new H(t).getRounded();return n.set("height",r.height),n.set("width",r.width),n},getClippedDims:e.getClippedDims,allowsOptimization:!1,isApplicable:function(e,t){var n=(J.isSpecifiedAd()||J.isBustedIframe())&&J.embedded&&!U.nodeIsInWindow(t,Z.getTop()),r=J.isCeltra()&&U.elementIsEmbedded(e);return n||r}}},Ye=function(e,t){var n,r,i=[je(),He(),Be()];return r=oe(i).findFirst((function(n,r){return r.isApplicable(e,t)})),(n=ke()).isApplicable(t)&&(n.setBaseStrategy(r),r=n),r},qe=function(){return{createInstance:function(e,t){return new IntersectionObserver(e,t)}}},Ke=function(e,t){var n,r=R.NA,i=r,o=!1,a=!1,s=!1,u=!t,c=function(){var t=Z.getIntersectionObserver((function(e){var t=e.pop(),o=t.intersectionRect.width*t.intersectionRect.height/(t.boundingClientRect.width*t.boundingClientRect.height)*100;isNaN(o)&&(o=0),r=Math.min(o,100),n=t.boundingClientRect,r!==i&&Z.execAtEndOfThread((function(){x.getAggregator().trigger("IOPivChange",r)})),i=r}),{threshold:R.VIEWABILITY_IN_VIEW_THRESHOLDS_INTERSECTION_OBSERVER});u&&Z.execAtEndOfThread((function(){r===R.NA&&(r=0)})),t.observe(d(e)),u&&Z.execAtEndOfThread((function(){J.isBustedIframe()||x.getAggregator().trigger("delayedViewabilityReady")})),o=!0},d=function(t){if(!oe.isUndef(t)){if(s){var n=e.document,r=n.createElement("div");oe(r.style).mixin({position:"absolute",width:"100%",opacity:"0",height:"100%",zIndex:-999,top:"0px",left:"0px"}),r[R.IAS_DETECTOR]=!0,n.body.appendChild(r),t=r}return t}};return{getPiv:function(){return r},start:function(){var t=function(){var t;try{e.document&&(s=!0,t={bodyElement:e.document.body,document:e.document})}catch(e){a=!0}return t}();t&&null!==t.bodyElement?c():t&&t.document?M.whenReady(c,t.document):a?x.getAggregator().request("errors").add(R.ERROR_CODES.BUSTED_IFRAME_IN_IO):c()},isStarted:function(){return o},getAdNodeDimensions:function(){var e;return n&&(e=H({scrX:void 0,scrY:void 0,width:n.width,height:n.height})),e},isReady:function(){return r!==R.NA}}},Xe=function(e,t,n,r){var i=Math.ceil(e),o=Math.ceil(t),a=Math.ceil(n),s=Math.ceil(r),u=o-i,c=s-a,d=u*c,g=function(){return{leftX:i,rightX:o,topY:a,bottomY:s,width:u,height:c,area:d}};return{value:g,doesIntersect:function(e){var t=g(),n=e.value();return n.leftX<t.rightX&&n.rightX>t.leftX&&n.topY<t.bottomY&&n.bottomY>t.topY}}},ze=function(e,t){var n,r=[],i=[],o=function(e,t){-1===e.indexOf(t)&&e.push(t)},a=function(e){var t,n=function(){var e=[];return oe(i).each((function(t,n){var r=n.value();o(e,r.topY),o(e,r.bottomY)})),e=e.sort((function(e,t){return e-t}))}();i=[];for(var r=0;n.length>r&&(t=r,n.length!==t+1);r++){var a=n[r],s=n[r+1];i.push(new Xe(0,e,a,s))}},s=function(e,t){i.push(e),a(t),oe(r).each((function(e,t){t(i)}))},u=function(){n.unobserve(e),n.disconnect()};return(n=t.createInstance((function(e){var t,n,r,i,o,a,c=e.pop(),d=c.boundingClientRect,g=d.width,f=c.intersectionRatio,l=c.intersectionRect,p=(t=d,r=(n=l).left-t.left,i=r+n.width,o=n.top-t.top,a=o+n.height,new Xe(r,i,o,a));s(p,g),1===f&&u()}),{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]})).observe(e),{addListener:function(e){r.push(e)}}},Je=function(e){var t,n,r,i=x.getAggregator().request("features"),o=x.getAggregator().request("browser");e=e||Z.getWindow();var a=function(t,n){t=t||e,n=n||{top:0,left:0,width:Z.getMaxNumber(),height:Z.getMaxNumber()};for(var r,i=t.parent.frames,o=!1,s=0,u=i.length;s<u;s++)if(i[s]==t){r=i[s],o=!0;break}if(o){var c=U.getRect(r.frameElement);n.left+=c.left,n.top+=c.top;try{n.width=Z.min(n.width,c.width),n.height=Z.min(n.height,c.height)}catch(e){x.getAggregator().trigger("error",R.ERROR_CODES.GET_AD_DIMENSIONS)}t!==Z.getTop()&&a(t.parent,n)}return n},s=function(){var s,u,c,d,g,f,l,p,m,h,v,E,I={};try{v=Z.getMaxNumber(),E=Z.getMaxNumber(),J.friendly?(l=(g=a()).left,p=g.top,v=g.width,E=g.height,m=(f=U.browserWindowPosition()).scrX+l,h=f.scrY+p):i.on("rattie")&&o.browserIs(R.BROWSERS.IE)?(m=0,h=0,r=r||x.getAggregator().request("ieXDomainViewability"),m=(n=r.determineFramePosition()).scrX,h=n.scrY):oe.isDef(e.mozInnerScreenX)&&(m=Z.round(e.mozInnerScreenX),h=Z.round(e.mozInnerScreenY)),I={scrX:m,scrY:h,iFrameClippingWidth:v,iFrameClippingHeight:E},d=t||U.getIeDimObj(e),t=d,oe.isDef(e.innerWidth)?(u=e.innerWidth,c=e.innerHeight):d&&oe.isDef(d.clientWidth)?(u=d.clientWidth,c=d.clientHeight,0===u&&d.offsetWidth>0&&(u=d.offsetWidth),0===c&&d.offsetHeight>0&&(c=d.offsetHeight)):e.frameElement&&oe.isDef(e.frameElement.clientWidth)&&(u=e.frameElement.clientWidth,c=e.frameElement.clientHeight),s={width:u,height:c},I.height=s.height,I.width=s.width}catch(e){x.getAggregator().trigger("error",R.ERROR_CODES.GET_AD_DIMENSIONS)}return I};return{calcDims:function(){return new H(s())},getClippedDims:function(){var e=s();return new H({scrX:e.scrX,scrY:e.scrY,width:e.iFrameClippingWidth,height:e.iFrameClippingHeight})}}},Qe=function(e){var t=[],n=function(e,t,n){var r=e*n;return new Xe(0,t,r,r+n)};return function(){if(e.height<10)t.push({geometry:new Xe(0,e.width,0,e.height),percentageInViewContribution:100,isInView:!1});else for(var r=e.height/10,i=0;i<10;i++)t.push({geometry:n(i,e.width,r),percentageInViewContribution:10,isInView:!1})}(),{getSlices:function(){return t}}},Ze=function(e,t){var n={mbrd:!1,mbvs:[],mbe:"n",mbv:9,mbs:[],mbm:1,mbivs:[]},r=function(e,t){var n,r=0,i=function(e,t){var n=[],r=e.geometry.value();return oe(t).each((function(t,i){if(e.geometry.doesIntersect(i)){var o=i.value(),a=Math.max(r.leftX,o.leftX),s=Math.min(r.rightX,o.rightX),u=Math.max(r.topY,o.topY),c=Math.min(r.bottomY,o.bottomY);n.push(new Xe(a,s,u,c))}})),n}(e,t);return oe(i).each((function(e,t){n=t.value(),r+=n.area})),r},i=function(t){oe(e).each((function(e,n){n.isInView=r(n,t)>=n.geometry.value().area}))};return t.addListener(i),{getPercentInView:function(){var t=function(){var t=0;return n.mbs=[],oe(e).each((function(e,r){n.mbs.push(r.isInView),r.isInView&&(t+=r.percentageInViewContribution)})),t}();return n.mbrd=1,t!==n.mbp&&n.mbivs.push([J.getTagTime(),t]),n.mbp=t,t},removePixels:function(){void 0!==t&&t.stop()},getPixelStateForDebug:function(){return n.mbm=1,n.mbpr=[],n.mbir=[],oe(e).each((function(e,t){n.mbpr.push(R.NA),n.mbir.push(!1)})),n},isReadyToMeasure:function(){return!0},getSliceStatus:function(){var t=[];return oe(e).each((function(e,n){t.push(n.isInView)})),t}}},$e=function(){var e,t=R.VIEWABILITY_IN_VIEW_THRESHOLDS_MOBILE_GRID.length,n=R.VIEWABILITY_IN_VIEW_THRESHOLDS_MOBILE_GRID,r=[];return{getConfig:function(i){if(e)return e;i.height<t&&(t=1,n=[100]);for(var o=0;o<t;o++)r.push(!1);return e={numberOfSlices:t,defaultSliceArray:r,percentInViewSliceArray:n}}}},et=function(e){var t=$e();return{getSliceStatus:function(n,r,i,o){var a,s=[],u=n.getRounded(),c=u.height,d=u.scrY,g=new H({scrX:u.scrX,width:u.width}),f=t.getConfig(u).numberOfSlices;g.set("height",Z.floor(c/f));for(var l=0;l<f;l++)g.set("scrY",Z.ceil(d+c/f*l)),a=100===e.calcPercentInView(g,r,i,o),s.push(a);return s}}},tt=function(e,t,n,r,i,o){var a,s,u,c,d,g,f,l,p,m,h=U.getElementsWindow(t),v=(U.getElementsDocument(t),x.getAggregator().provide("iframeCalculatorHelper",Je(h)),Ye(t,r)),E=R.AD_IDENTIFIER+"-"+b.asid,I=!1,A=H({}),D=J.isDeviceTypeGroupMobile(),T=J.usesGroupMCustomMetricMobilePassThru(),O=function(){return a||(a=v.calcDims(t,r,u),y()?w(a):n===R.DETECTION_METHODS.AD_PLACEHOLDER&&a.treatAsPlaceholder()),a},y=function(){return n===R.DETECTION_METHODS.VIDEO&&J.embedded},w=function(e){var n=new H(t).getRounded();try{e.set("width",n.width),e.set("height",n.height)}catch(e){x.getAggregator().trigger("error",R.ERROR_CODES.VIDEO_IN_IFRAME_DIMS_CALC)}},_=function(){return!1},N=function(){var t,n=P(),r=v.getClippedDims&&(y()||J.isCeltra());return n?s=u.getPiv():oe.isUndef(s)&&(t=!D&&(J.friendly||oe.isDef(S.mozInnerScreenX))&&i.on("offscreen"),l=O(),f=new H(U.calcWinDims()),g=new H(t?U.calcMonDims():{}),p=r?v.getClippedDims():A,s=e.calcPercentInView(l,f,g,p)),s},C=function(){return e.calcInitialViewState(N())},V=function(){return t!==S&&O().isHidden()},F=function(e){return e.contentDocument&&e.contentDocument.body?e.contentDocument.body:e},P=function(){var e=J.xDomainIframe&&I,t=D&&I&&u.isReady();return e||t};return function(){var n=Z.getWindow(),i=Z.getDoc(),o=t===n,a=i.body,s=x.getAggregator(),g=new Oe,f=s.request("browser"),l=s.request("features"),p=s.request("context"),h=!J.xDomainIframe,v=function(e,t){return J.isVideo()?Z.getDoc().body:e.document&&e.document.body?e.document.body:F(t)}(t,r),E=o&&a?i.body:t;if(m=J.friendlyIframe?n.frameElement:E,M.addEvent(E,"click",(function(){x.getAggregator().trigger("adComponentClicked")})),M.addEvent(E,"mouseover",(function(){x.getAggregator().trigger("adComponentMousedOver")})),g.applies(f,l,p)){if((u=Ke(t,h)).start(),I=!0,T){var A=new Qe(O().getRounded()),S=new qe,D=new ze(v,S);c=new Ze(A.getSlices(),D)}}else T&&(d=new et(e))}(),{mark:function(){U.setAttributeOf(m,E,"")},cleanup:function(){U.removeAttributeOf(m,E)},isNode:function(e){return t===e},isHidden:V,isObstructed:_,getDims:O,getPercentInView:N,getLocationState:C,getOnPageViewability:function(){return V()?R.OUT_OF_VIEW:C()},getDetectionMethod:function(){return n},getContainerDims:function(){return v.allowsOptimization?a:H(r)},refresh:function(){a=void 0,s=void 0,g=void 0,f=void 0,l=void 0,p=void 0,o&&function(){var e,n;if(!J.isDomless()&&(n=t.parentNode)){for(;t!==S&&n&&n!==document&&!e;)e=n===r,n=n.parentNode;e||(r=t.parentNode)}}()},getAdNode:function(){return t},getSliceStatus:function(){var e;return c&&c.isReadyToMeasure()?e=c.getSliceStatus():J.friendly&&d&&oe.isDef(l)&&(e=d.getSliceStatus(l,f,g,p)),e}}},nt=(function(){var e=new P;return(new Ve).listen((function(e){return e.asid===b.asid&&"FirewallJSAction"===e.channel}),(function(t,n){e.trigger(n.data.action,n.data)})),{events:e}}().events,function(e,t){var n,r=[],i=oe([]),o=function(){return r[0]&&r[0].getDetectionMethod()===R.DETECTION_METHODS.AD_PLACEHOLDER},a=function(a,s,u,c){var d,g=o()||0===r.length,f=tt(e,a,s,u,t,c);o()&&(d=r.shift(),i=oe(r),d.cleanup(),n=void 0),r.push(f),i=oe(r),g&&f.mark(),g&&s!==R.DETECTION_METHODS.AD_PLACEHOLDER&&x.getAggregator().trigger("primaryadfound",f)},s=function(){if(n)return n;var e,t=!1,r=0,o=0;return i.each((function(n,i){var a,s=i.getDims();s.hasValidDims()&&(e=i.getPercentInView(),t=e!==R.NA,a=s.area(),r+=a,o+=e/100*a)})),n={totalArea:r,totalInView:o,hasMeasurement:t}},u=function(){var e,t=s();return e=t.hasMeasurement?Z.round(t.totalInView/t.totalArea*100):R.PIV_NA,isNaN(e)&&(e=0),e},c=function(){var n=t.bootstrapOn("mobOrTab"),r=s().totalArea>=R.MRC_LARGE_AD_SIZE&&t.on("largeAd")&&!n&&!J.isVideo();return e.calcInitialViewState(u(),r)},d=function(e){var t=-1;return i.each((function(n,r){r.isNode(e)&&(t=n)})),t},g=function(e){return function(){return r[0]&&r[0][e]()}};return x.getAggregator().on("adComponentAdded",(function(e){oe(e).each((function(e,t){-1===d(t)&&a(t,R.DETECTION_METHODS.MUTATION)}))})),x.getAggregator().on("adComponentRemoved",(function(e){oe(e).each((function(e,t){var n=d(t);n>-1&&r.splice(n,1)}))})),{getDims:g("getDims"),isObstructed:g("isObstructed"),getDetectionMethod:g("getDetectionMethod"),getContainerDims:g("getContainerDims"),getViewState:c,getPercentInView:u,isHidden:g("isHidden"),isUsingPlaceholder:o,hasAd:function(){return!!r.length},refresh:function(){n=void 0,i.each((function(e,t){t.refresh()}))},addAdComponent:a,getOutOfViewReasons:function(){var e,t=[],i=r[0],o=R.OUT_OF_VIEW_REASONS;return i&&((e=n||c())!==R.OUT_OF_VIEW&&e!==R.PARTIAL_VIEW_MINUS||t.push(o.GEOM),i.isHidden()&&t.push(o.HIDDEN),i.isObstructed()&&t.push(o.OBSTRUCTION)),t},getComponentCount:function(){return r.length},getComponents:function(){return r},getSliceStatus:g("getSliceStatus")}}),rt=function(e){var t=!1;if(!oe.isUndef(S.MutationObserver)){var n=new S.MutationObserver((function(e){Z.execAtEndOfThread((function(){t&&oe(e).each((function(e,t){t.addedNodes.length&&x.getAggregator().trigger("adComponentAdded",t.addedNodes),t.removedNodes.length&&x.getAggregator().trigger("adComponentRemoved",t.removedNodes)}))}))})),r=function(){t=!0,Z.setTimeout((function(){t=!1}),40)};x.getAggregator().on("adComponentClicked",r),x.getAggregator().on("adComponentMousedOver",r);M.whenReady((function(){try{n.observe(document.body,{attributes:!0,childList:!0,characterData:!0})}catch(t){e.add(R.ERROR_CODES.AC_WATCHER)}}),Z.getDoc())}},it=function(){var e,t,n,r=function(e){e?e&&n&&(Z.execAtEndOfThread((function(){x.getAggregator().trigger("delayedViewabilityReadyCallOnly")})),n=!1):n=!0};return{detectionMethod:function(){return t&&t.detectionMethod},isApplicable:function(e){return e.isBustedIframe()},find:function(){t=t||Y();var n=U.crossQuerySelector(Y().getCssSelector(),!0);return e=n?n.parentNode:e,r(n),n},getAdContainer:function(){return e},allowForAdContainerChange:!0}},ot=function(){var e,t=function(){Z.execAtEndOfThread((function(){x.getAggregator().trigger("delayedViewabilityReadyCallOnly")}))};return{usePlaceholder:!1,detectionMethod:R.DETECTION_METHODS.VENDOR_CELTRA,isApplicable:function(e,t){return t.on("celtra")&&e.isCeltra()},find:function(){var n,r=G().find();return r&&r.celtra&&r.celtra.loaded&&(n=r.celtra.viewabilityObservee,e=U.getElementsWindow(n).frameElement||n.parentNode,t()),n},getAdContainer:function(){return e},allowForAdContainerChange:!1}},at=function(){return{detectionMethod:R.DETECTION_METHODS.IFRAME,find:function(){return S},isApplicable:function(){return J.embedded},getAdContainer:function(){return b.contextNode.parentNode},allowForAdContainerChange:!0}},st=function(){var e=U.findChildWithLargestContent(Z.getDoc().body);return e&&e.hasValidSizeForMobileApp&&!e[R.IAS_DETECTOR]?e:void 0},ut=function(){var e=x.getAggregator().request("mobileApp");return{usePlaceholder:!0,detectionMethod:R.DETECTION_METHODS.AD_HUNT,isApplicable:e.isMobileAppEnvironment,find:function(){return st()},getAdContainer:function(){return b.contextNode.parentNode},allowForAdContainerChange:!0}},ct=function(){var e;return{detectionMethod:R.DETECTION_METHODS.SPECIFIED_AD,isApplicable:function(){return J.isSpecifiedAd()},find:function(){var t=U.crossQuerySelector(b._cl_adpath);return t&&(e=U.getParent(t),U.getNodeArea(t)<1&&(e=t,t=U.findElementsWithSize(t))),t},getAdContainer:function(){return e},allowForAdContainerChange:!0}},dt=function(e,t){var n,r=e||b.contextNode.parentNode,i=U.findChildWithLargestContent(r,t);return U.getNodeArea(i)>1&&!i[R.IAS_DETECTOR]&&(n=i),n},gt=function(){return{usePlaceholder:!0,detectionMethod:R.DETECTION_METHODS.AD_HUNT,isApplicable:function(){return!0},find:dt,getAdContainer:function(){return b.contextNode.parentNode},allowForAdContainerChange:!0}},ft=function(){return{detectionMethod:R.DETECTION_METHODS.VIDEO,find:x.getAggregator().request("video").findAdNode,isApplicable:J.isVideo,getAdContainer:function(){return b.contextNode.parentNode},allowForAdContainerChange:!0}},lt=function(){var e;return{detectionMethod:R.DETECTION_METHODS.SPECIFIED_AD_COMPOUND,isApplicable:function(){return J.isCompoundAd()},find:function(){var t,n,r=[];return(t=b._cl_adpath,/\[(.*)\]/.exec(t)[1].split(",")).forEach((function(t){(n=U.crossQuerySelector(t))&&(e=U.getParent(n),U.getNodeArea(n)<1&&(e=n,n=U.findElementsWithSize(n))),r.push(n)})),r},getAdContainer:function(){return e},allowForAdContainerChange:!0}},pt=function(e,t){var n=[lt(),ct()],r=[ut(),ft(),it(),ot(),at(),gt()],i=n.concat(r);return oe(i).findFirst((function(n,r){return r.isApplicable(e,t)}))},mt=function(e,t,n){var r,i=b&&b.contextNode&&b.contextNode.parentNode?b.contextNode.parentNode:null,o=nt(t,n),a=function(){var e;o.hasAd()||(e=U.getPlaceholderSpan(),i.insertBefore(e,b.contextNode.nextSibling),o.addAdComponent(e,R.DETECTION_METHODS.AD_PLACEHOLDER,U.getParent(e)))};return rt(e),{find:function(){var e,t,i,s;return o.isUsingPlaceholder()||!o.hasAd()?!(e=(r=r||pt(J,n)).find())&&r.usePlaceholder?a():e&&(i=oe(e).isArray()?e:[e],t=r.getAdContainer(),s=r.allowForAdContainerChange,oe(i).each((function(e,n){o.addAdComponent(n,oe.resolve(r.detectionMethod),t,s)}))):o.refresh(),o},getDetectionMethod:function(){}}},ht=function(){var e=function(){return null};return{find:e,getDetectionMethod:e}},vt=function(){return{createInstance:function(e,t,n){return J.isDomless()?new ht:new mt(e,t,n)}}},Et=function(e){return{resolve:function(){return oe(e).findFirst((function(e,t){return t.environment.accepts()}))}}},It=function(){var e=function(e){var t=[];return oe(e).each((function(e,n){t.concat(n).join("").length<=400&&t.push(n)})),t},t=function(e){var t=U.getAncestorNodes(e);return oe(t).map(n)},n=function(e,t){var n;return t&&t.id&&(n=t.id.replace(/[^\w-_.>\/]/g,"")),n};return function(){var n,r;try{return J.friendly&&!J.isMobileApp()&&((n=x.getAggregator().request("adSlotIds"))?r=n:(n=function(){var n,r;return(n=U.getOurNodeInTop())&&(r=t(n)),r=r&&e(r)}())&&(x.getAggregator().trigger("addOutputItem",{output:n},"slid",{type:R.DT_CODES.ADTALK,asION:!0}),x.getAggregator().provide("adSlotIds",n),r=n)),r}catch(e){x.getAggregator().trigger("error",R.ERROR_CODES.AD_SLOT_ID)}}()},At=function(e,t){var n,r=t.request("adProxy").myIdCard,i=t.request("frameCollection").getMe().getStringifiedPosition();n=x.getAggregator().request("features").on("swapids")?b.oid:b.asid;var o,a;return{messageContent:e||{},srcAsid:b.asid,srcTagId:r.tagId,srcIsEmbedded:J.embedded,srcIsFriendly:J.friendly,srcBirthdate:b.birthdate,iasCommonId:n.split("-")[2],nodeSelector:J.friendly?"["+R.AD_IDENTIFIER+"-"+b.asid+"]":'iframe[src*="'+((a=(o=Z.getWindow()).location&&o.location.href)&&a.replace(/^https?\:\/\//i,""))+'"]',positionStr:i,version:"0.1"}},St=function(){var e={};return{add:function(t){var n=t&&t.srcAsid;n&&(e[n]=t)},map:function(t){return oe(e).map(t)},has:function(t){var n=t&&t.srcAsid;return e[n]}}},Dt=function(e,t,n,r){var i,o=e==S;(i={position:t.slice(0),id:t.join("-"),isMe:o,isLeaf:!e.frames.length,adProxies:o?n:[],selfDescription:void 0,unifiedId:b.birthdate,srcIsEmbedded:r?r.srcIsEmbedded:void 0,inbox:r?[r]:[]}).getDomObj=function(){return e},i.getStringifiedPosition=function(){return oe(i.position).map((function(e,t){return oe.toBase(Number(t)+1,36)})).join("")},i.isValidForMapping=function(){return i.isLeaf||i.isMe||oe.isDef(i.selfDescription)};var a=function(e,t){return!oe(e).find((function(e,n){return n.adSafeId&&n.adSafeId===t.adSafeId}))};return i.addInformationFromSrc=function(e,t){var n,r,o,s;n=t,r=i.adProxies,o=n.adProxies,s=[],r.length&&o.length?oe(o).each((function(e,t){a(r,t)&&s.push(t)})):s=o,i.adProxies=r.concat(s),function(e){oe(i.inbox).find((function(t,n){return n.srcAsid&&n.srcAsid===e.srcAsid}))||i.inbox.push(e)}(e),i.srcIsEmbedded=e.srcIsEmbedded,i.selfDescription=t},i},Tt=function(e){var t=[],n={},r={noMe:!0};return{addFrame:function(i,o,a){var s=e.request("adProxy").getAll(),u=new Dt(i,o,s,a);return t.push(u),n[u.id]=u,u.isMe&&(r=u),u},getFrame:function(e){return n[e]},list:t,dictionary:n,getMe:function(){return r}}},Ot=function(e,t){var n=function(e,n){var o=n.adProxies,a="";if(n.isValidForMapping())return a+=t?i(o,n.getStringifiedPosition()):r(o,n)},r=function(e,t){var n="";return n+=t.getStringifiedPosition(),n+=t.isMe?"*":"",n+=e.length?"."+e[0].tagId:""},i=function(e,t){var n="";return e.length?n+=oe(e).stringify((function(e,n){return o(n,t)}),"|"):n+=t,n},o=function(e,t){return t+(b.asid===e.adSafeId?"*":"")+"."+e.tagId};return{output:function(){var t=e.request("frameCollection"),r=oe(t.list).stringify(n,"|");return oe.toBase(t.getMe().unifiedId,62)+"+"+r}}},yt=function(e){var t=e.request("frameCollection").getMe().getStringifiedPosition(),n=b.contextNode.parentNode,r=e.request("interFrameQuerySelector",n),i=function(e){var i=!J.embedded,o="BODY"!==U.getNodeName(n)&&"HEAD"!==U.getNodeName(n),a=e.srcIsEmbedded&&!function(e){var t="0.1"!==e.version,n=e.nodeSelector&&-1===e.nodeSelector.indexOf(R.AD_IDENTIFIER);return t?n:!e.srcIsFriendly}(e);return i&&o&&!a?!!function(e){return r.queryFor(e.nodeSelector)}(e):!!function(e){var n=e.positionStr,r=e.srcIsEmbedded&&J.embedded,i=0===t.indexOf(n)||0===n.indexOf(t);return r&&i}(e)};return{output:function(){var n,r,o=t+"*";return(r=e.request("adTalkMessageCollection").map((function(e,t){var n;return e!==b.asid&&i(t)&&(n=function(e){return e.positionStr+"."+e.srcAsid+"."+e.transferDuration+"_"+e.srcTagId}(t)),n}))).push(o),n=r.join("|"),n.length>120&&(n=function(e){return e&&e.substr(0,120)+".of"+e.length}(n),x.getAggregator().trigger("stopAdTalk")),n},isCandidateForMyIdMap:i}},wt=function(e){var t=new Re,n=function(e,t){return U.querySelector(function(e){var t=e,n="IFRAME"===U.getNodeName(e),r=U.isWindow(e);return n?t=e.contentWindow.document:r&&(t=e.document),t}(e),t)};return{queryFor:function(r){var i=null;return r&&(i=function(r,i){var o,a,s;try{(a=n(r,i))||(o=t.getFrames(!0,e),oe(o).findFirst((function(e,t){return s=n(t,i)})))}catch(e){}return a||s||null}(e,r)),i}}},_t=function(e){var t,n,r=!1,i=x.getAggregator().request("features");n=i.on("swapids")?b.oid:b.asid;var o=function(t){var r=n.split("-")[2],i=!e.request("adTalkMessageCollection").has(t)&&t.srcAsid!==b.asid;return t.hasOwnProperty("messageContent")&&r===t.iasCommonId&&i},a=function(){var t=e.request("frameCollection").getMe(),n={self:t,unifiedId:t.unifiedId};return e.request("adTalkMessage",n)},s=function(){var t=R.DT_CODES.ADTALK;e.request("frameCollection");r||(r=!0),x.getAggregator().trigger("sendDt",t)},u=function(t,n,i){var o,a,u,c,d,g,f;try{o=e.request("frameCollection"),a=e.request("adTalkMessageCollection"),u=n.messageContent.self,a.add(n),g=o.getMe(),f=u,g.unifiedId>f.unifiedId&&(g.unifiedId=f.unifiedId),n.transferDuration=function(e){return Z.now()-e.sentTime}(n),c=o.getFrame(u.id),d=c,oe.isUndef(d)||oe.isUndef(d.selfDescription)?((c=c||o.addFrame(t.source,u.id.split("-"),n)).addInformationFromSrc(n,u),i()):c.addInformationFromSrc(n,u),r&&e.request("idMapModule").isCandidateForMyIdMap(n)&&s()}catch(e){x.getAggregator().trigger("error",R.ERROR_CODES.ADTALK_DUBIOUS)}};return{sendAdTalkCall:s,sendToKnownFrames:function(){(new Ce).send(a)},startListening:function(){(t=new Ve).listen(o,u,a)},stopListening:function(){t&&t.stop()},validateMessage:o,processMessage:u,createMessage:a}},bt=function(){var e=x.getAggregator().request("ids"),t=e.getAsid();return{tagId:e.getFwId(),adSafeId:t}},Nt=function(){var e,t=[],n=function(e){var n=new bt(e);return t.push(n),n};return e=n(),{createNew:n,getAll:function(){return t},myIdCard:e}},Rt=function(e){var t,n,r,i=new L,o=new Re,a=new Tt(i),s=new St,u=new Nt,c=new _t(i,e),d=function(){return oe.isUndef(r)&&(r=new yt(i)),r};return{isApplicable:function(e){return oe.isDef(S.JSON)&&oe.isDef(S.postMessage)&&!e.isAvid()&&!e.isOmidNative()},start:function(){i.provide({frameCollection:function(){return a},adProxy:function(){return u},adTalkMessage:function(e){return new At(e,i)},adTalkMessageCollection:function(){return s},idMapModule:d,interFrameQuerySelector:function(e){return new wt(e)}}),o.traverse(a.addFrame),c.startListening(),c.sendToKnownFrames(),x.getAggregator().once("stopAdTalk",(function(){c.stopListening()})),x.getAggregator().provide("adTalkEventAggregator",i)},sendAdTalkCall:c.sendAdTalkCall,getFrameMap:function(){return oe.isUndef(t)&&(t=new Ot(i)),t},getFrameMapIncludingPeerCase:function(){return oe.isUndef(n)&&(n=new Ot(i,!0)),n},getIdMap:d}},Ct=function(){return{isApplicable:function(){return!1},start:function(){}}},Mt=function(){return{createInstance:function(e){return J.isDomless()?new Ct:new Rt(e)}}},Vt=function(){var e,t,n=function(e,t){return-1!==t.indexOf("https")&&(t+="*"),t.replace(/^https?:\/\//,"")};return{isApplicable:function(e,t,n){return e.hasAncestorOrigins&&e.hasAncestorOrigins()&&t.on("ancestor")&&n.xDomainIframe},isStarted:function(){return!!t},start:function(){try{e=Z.getWindow().location.ancestorOrigins,t=!0}catch(e){x.getAggregator().trigger("error",R.ERROR_CODES.ANCESTOR_ORIGINS)}},getMyFrameDepth:function(){return e&&e.length||0},getTopDomain:function(){return oe.last(e)},sendOriginList:function(){var t;t="ao:"+(e?oe(e).map(n).reverse():[]).join(","),x.getAggregator().trigger("addOutputItem",{output:t},"tpiLookup",{type:R.DT_CODES.THIRD_PARTY,standalone:!0,encode:!0}),x.getAggregator().trigger("sendDt",R.DT_CODES.THIRD_PARTY)}}},Ft=function(e,t,n,r,i){var o=function(e,t,n){i.addItem({output:e+"."+t+"."+n},"ctpl")},a=function(i){try{t.diagnostic("c");var a=i.length,s=0,u=0;o(a,0,0),oe(i).each((function(t,n){e.send(function(e){return e.replace("%%CBS%%",r.getCacheBustId())}(n),(function(){o(a,s,++u)}),!0),o(a,++s,u)}))}catch(e){n.add(R.ERROR_CODES.AT_SEND)}};return{init:function(){try{var t=(new q).fullDom;"/"!==t.slice(-1)&&(t+="/"),t+="tpl?asId="+b.asid,e.jsonp(t,a)}catch(e){n.add(R.ERROR_CODES.AT_INIT)}}}},Pt=function(e){var t,n=[],r=e||S,i=function(){return"stub"===s().mode},o=function(e,t){r.avid.addEventListener(e,t)},a=function(){return void 0!==r.avid},s=function(){var e,t={};if(a())if("string"==typeof(e=r.avid.getAvidAdSessionContext()))try{t=JSON.parse(e)}catch(e){T("avidadsessioncontext",e,S.bootstrapper)}else"object"==typeof e&&(t=e);return t};return J.isDomless()||i()&&(t=r.setInterval((function(){"stub"!==s().mode&&(r.clearInterval(t),function(){for(var e=0;e<n.length;e++)o(n[e].type,n[e].functionToExecute)}())}),10)),{isAvidAvailable:a,getAvidAdSessionContext:s,addEventListener:function(e,t){i()?n.push({type:e,functionToExecute:t}):o(e,t)},getHtmlVideoAvidAdSessionListener:function(){if(i())throw"`HtmlVideoAvidAdSessionListener` is not available while in stub mode.";return r.avid.getHtmlVideoAvidAdSessionListener()}}},Lt=function(){return{accepts:function(){return!0}}},xt=function(){return{start:function(){x.getAggregator().trigger("tryToCallContinueMain","")}}},Wt=function(e){var t=!1,n=!1,r=x.getAggregator().request("omidAdSessionContext"),i=x.getAggregator().request("omidAdSessionVerificationParameters"),o=Z.getWindow(),a=o&&o.omid3p,s=!!(a&&oe.isFunction(a.registerSessionObserver)&&oe.isFunction(a.addEventListener))?a:e,u=function(){return i&&i.IAS&&Object.keys(i.IAS).length>0?i.IAS:i},c=function(){var e,i;t&&n&&(S.omidSupported=!0,e=r.app&&r.isDisplay&&!r.isWeb,(i=b.mobFwUrl&&b.mobFwUrl.indexOf("/blocking/")>-1)&&r.isLimitedSandbox&&"1"===b.adWidth&&"1"===b.adHeight&&(r.isLimitedSandbox=!1),e&&i&&(r.delayingViewabilityEvents=!0),x.getAggregator().trigger("tryToCallContinueMain",u()))},d=function(e){var n;if("sessionStart"===e.type){r.adSessionType=e.data.context.adSessionType,r.environment=e.data.context.environment,r.omidNativeInfo=e.data.context.omidNativeInfo,r.omidJsInfo=e.data.context.omidJsInfo,r.deviceInfo=e.data.context.deviceInfo,r.app=e.data.context.app,r.isNative="native"===r.adSessionType,r.isLimitedSandbox=J.embedded,r.isHtml="html"===e.data.context.adSessionType,r.isWeb="web"===e.data.context.environment,i=e.data.verificationParameters,n=r.isHtml&&r.isWeb,r.queuedOutputItems=[];for(var o,a,s,d=[{root:"omidNativeInfo",code:"onpn",field:"partnerName"},{root:"omidNativeInfo",code:"onpv",field:"partnerVersion"},{root:"omidJsInfo",code:"ojpn",field:"partnerName"},{root:"omidJsInfo",code:"ojpv",field:"partnerVersion"},{root:"omidJsInfo",code:"osev",field:"serviceVersion"},{root:"omidJsInfo",code:"oscv",field:"sessionClientVersion"},{root:"app",code:"applv",field:"libraryVersion"},{root:"app",code:"appid",field:"appId"},{root:"deviceInfo",code:"dty",field:"deviceType"},{root:"deviceInfo",code:"osn",field:"os"},{root:"deviceInfo",code:"osv",field:"osVersion"}],g=0;g<d.length;g++)o=d[g].root,a=d[g].field,s=d[g].code,"object"==typeof r[o]&&void 0!==r[o][a]&&r.queuedOutputItems.push({code:s,value:r[o][a]});r.queuedOutputItems.push({code:"oast",value:r.adSessionType}),r.queuedOutputItems.push({code:"oenv",value:r.environment}),n?x.getAggregator().trigger("tryToCallContinueMain",u()):(t=!0,c())}},g=function(e){r.mediaType=e.data.mediaType,r.queuedOutputItems.push({code:"omtp",value:r.mediaType}),function(e){return e.data.viewport&&e.data.adView}(e)&&(r.impressionViewabilityMeasurement={data:{viewport:e.data.viewport,adView:e.data.adView}}),r.isNativeVideo=r.isNative&&"video"===e.data.mediaType,r.isDisplay="display"===e.data.mediaType,n=!0,c()};return{start:function(){s.registerSessionObserver(d,"IAS"),s.addEventListener("impression",g)}}},Ut=function(e,t,n,r){return{enabled:"true"===b.useBapiCallback,callback:function(t){n.trigger("sendDiag");try{"true"===b.accountForSadImps&&r.measure(t),b._onAPIResult&&b._onAPIResult(t)}catch(t){e.add(R.ERROR_CODES.BAPI_CALLBACK),n.trigger("sendDiag","bapiClient")}}}},Gt=function(){var e,t,n=!1,r=x.getAggregator().request("mPage"),i=function(){!n&&t&&e&&!r.isHidden()&&(n=!0,x.getAggregator().trigger("sendDt",R.DT_CODES.LARGE_BILLABLE))};x.getAggregator().on("primaryadfound",(function(t){e=t.getDims().area()>=R.MRC_LARGE_AD_SIZE,i()})),x.getAggregator().on("impressionsent",(function(){t=!0,i()})),r.onHiddenChange(i)},Bt=function(){var e=R.BROWSERS,t=function(e){return n()===e},n=function(){var t="u",n=Z.getWindow();try{oe.isDef(n.opera)&&oe.isDef(n.opera.buildNumber)?t=e.OPERA:oe.isDef(n.mozInnerScreenY)?t=e.GECKO:oe.isDef(n.chrome)&&oe.isDef(n.chrome.csi)?t=e.CHROME:oe.isDef(n.msWriteProfilerMark)&&oe.isDef(n.crypto)?t=e.MSEDGE:oe.isDef(n.attachEvent)||oe.isDef(n.msCrypto)?t=e.IE:oe.isDef(n.WebKitPoint)&&(t=e.WEBKIT)}catch(e){}return t},r=function(){var n=["{45EA75A0-A269-11D1-B5BF-0000F8051515}","{3AF36230-A269-11D1-B5BF-0000F8051515}","{89820200-ECBD-11CF-8B85-00AA005B4383}"],r=R.NA,i=Z.getDoc(),o=i.createElement("div");if(t(e.IE))try{if("-ms-ime-align"in i.documentElement.style)r="11";else{o.style.behavior="url(#default#clientcaps)";for(var a=0;a<n.length&&!(r=o.getComponentVersion(n[a],"componentid").replace(/,/g,"."));a++);}}catch(e){}return r},i=function(){var e=!1,t=Z.getWindow();return oe.isDef(t.navigator)&&oe.isDef(t.navigator.userAgent)&&(e=t.navigator.userAgent),e};return{browserIs:t,hasIntersectionObserver:function(){return"function"==typeof IntersectionObserver},hasAncestorOrigins:function(){var e=Z.getWindow().location;return!(!e||!e.ancestorOrigins)},hasPostMessage:function(){var e=Z.getWindow();return!(!e||!oe.isFunction(e.postMessage))},getDocumentMode:function(){var e=Z.getDoc();return e&&e.documentMode?e.documentMode:R.NA},getBrowserType:n,getUserAgent:i,params:function(){return{br:n(),abv:r(),an:(e=R.NA,t=Z.getWindow(),oe.isDef(t.navigator)&&oe.isDef(t.navigator.appName)&&(e=t.navigator.appName.toLowerCase()[0]),e)};var e,t},isAndroidWebViewBrowser:function(){var e=i();return N.contains(e,"Android")&&oe(["SamsungBrowser","FB_IAB","Silk"]).findFirst((function(t,n){return N.contains(e,n)}))},getIOSVersion:function(){var e,t,n,r=i();return r&&(e=r.match(/OS\s\d+/))&&e.length>0&&(n=(t=e.toString().match(/\d+/))&&t.length>0&&parseInt(t.toString())),n}}},Ht=function(){var e=function(){return!1},t=function(){return R.NA};return{getDocumentMode:t,getBrowserType:function(){return"u"},getIOSVersion:function(){},params:function(){return{br:"u",abv:t(),an:t()}},browserIs:e,getUserAgent:e,hasPostMessage:e,hasAncestorOrigins:e,hasIntersectionObserver:e,isAndroidWebViewBrowser:e}},kt=function(){return{createInstance:function(e,t,n,r){return J.isDomless()?new Ht:new Bt}}},jt=function(e){var t=function(e){return e.filename.replace(/\.plugin$/,"")};return{hash:function(){for(var n,r,i,o=0,a=e.length,s=[];o<a;o++)r=t(e[o]),i=N.hashCode(r),n=oe.toBase(i,62).slice(-4),s.push(n);return s},decode:function(n){var r,i;return r=Z.floor(Z.random()*n.length),i=encodeURIComponent(t(e[r])),[n[r],i]}}},Yt=function(){return{isApplicable:function(e){var t=Z.getWindow();return!(!t.navigator||!t.navigator.plugins)},start:function(e){var t,n,r,i=Z.getWindow(),o=jt(i.navigator.plugins),a=o.hash();n=a.join("."),x.getAggregator().trigger("addOutputItem",{output:n},"pl",{type:R.IMPRESSION_EVENT}),a.length&&(t=o.decode(a),r=t.join("."),x.getAggregator().trigger("addOutputItem",{output:r},"pd",{type:R.DT_CODES.ADTALK}))}}},qt=function(){var e=[],t={},n={percentInView:"piv",sl:"vs",reason:"r",width:"w",height:"h"};return x.getAggregator().on("newScreenEvent",(function(r){var i=oe(r).selectProperties(oe(n).keys()),o=oe(i).asStrings(),a=oe(o).compareTo(t);a&&(a.t=J.getTagTime(),e.push(a)),oe(t).mixin(o)})),{toString:function(){return oe(e).toION(n)}}},Kt=function(){var e;return{isApplicable:function(t){var n=!(!(e=x.getAggregator().request("omidAdSessionContext")).app||!e.isDisplay||e.isWeb),r=t&&t.indexOf("/blocking/")>-1;return n&&r},deployBlockingScriptIntoIframe:function(t){e=x.getAggregator().request("omidAdSessionContext");var n,r="iasbi"+b.asid,i=function(e,t){var n,r,i,o=b.contextNode.parentNode,a="about:blank",s=b.adWidth&&b.adWidth>0?b.adWidth:0,u=b.adHeight&&b.adHeight>0?b.adHeight:0,c=Z.getDoc().getElementsByTagName("ins"),d=0,g=0;c&&c.length>0&&(i=c[0],d=parseInt(i.style.width),g=parseInt(i.style.height));var f=d||s||window.innerWidth,l=g||u||window.innerHeight;return"complete"===Z.getDoc().readyState&&(b.forceAppend="true"),"true"===b.forceAppend?((n=Z.getDoc().createElement("IFRAME")).id=e,n.src=a,o.appendChild(n)):Z.getDoc().write('<iframe id="'+e+'" src="'+a+'"></iframe>'),(r=Z.getDoc().getElementById(e))&&(r.style.width=f+"px",r.style.height=l+"px",r.scrolling="no",r.frameborder=0,r.style.position="absolute",r.style.padding=r.style.margin=r.style.border="0px"),r}(r);i&&(n=i.contentWindow.document)&&(n.open().write(function(e,t){var n,r="",i="",o=Z.getDoc().getElementsByTagName("ins");if(o&&o.length>0){n=o[0],r="<ins";for(var a=0;a<n.attributes.length;a++)r+=" "+n.attributes[a].nodeName+'="'+n.attributes[a].nodeValue+'"';r+=">",i="</ins>"}return'<!doctype html><html><head></head><body style="margin:0px;border:0px;padding:0px;font-size:0px"><script>var IASid = "'+e+'", largestSize = 0;var IASmonitorDom = function () {  var DOM_MONITOR_PERIOD = 100;  var i, us, thisSize, thisWidth, thisHeight;  var elems = document.body.getElementsByTagName("*");  for (i = 0; i < elems.length; i++) {    if (elems[i].tagName && elems[i].tagName.toLowerCase() === "ins")      continue;    thisWidth = elems[i].offsetWidth;    thisHeight = elems[i].offsetHeight;    thisSize = thisWidth * thisHeight;    if (thisSize > largestSize) {      largestSize = thisSize;      us = parent.document.getElementById(IASid);      if (us) {        us.setAttribute("CreativeLoaded","true");        if (elems[i].style.left !== "") {          us.style.left = elems[i].style.left;          elems[i].style.left = "0px";        }        if (elems[i].style.top !== "") {          us.style.top = elems[i].style.top;          elems[i].style.top = "0px";        }      }    }  }  setTimeout(IASmonitorDom, DOM_MONITOR_PERIOD);};setTimeout(IASmonitorDom,50);<\/script>'+r+'<script src="'+t+'"><\/script>'+i+"</body></html>"}(r,t)),n.close())}}},Xt=function(e,t){var n=function(e,t){var n,r,i,o={script:['<script type="text/javascript" src="','"><\/script>'],iframe:['<iframe width="100%" height="100%" frameborder="0" vspace="0" hspace="0" scrolling="no" marginheight="0" marginwidth="0" src="','"></iframe>'],img:['<img src="','"/>']};function a(e,t,n){var r,i;"script"!==e?((i=document.createElement("DIV")).innerHTML=n,r=i.childNodes[0]):(r=document.createElement("SCRIPT")).src=t,b.contextNode.parentNode.appendChild(r)}t=t||e,r=(n=o[e=arguments.length>1?e:"script"])[0]+t+n[1],J.isOmid()?(i=new Kt).isApplicable(t)?i.deployBlockingScriptIntoIframe(t):a(e,t,r):"true"===b.forceAppend?a(e,t,r):document.write(r)},r=function(e,t,n){var r,i=!n&&M.getXHR2();i?(i.open("POST",e),i.onreadystatechange=function(){4===i.readyState&&200===i.status&&t&&t()},i.send()):(r=U.createImage(),t&&(r.onload=t),r.src=e)},i=function(e,t,n,r){var i=document.createElement("script");n=n||b.contextNode.parentNode,i.type="text/javascript",i.src=e,t&&(i.onload=t),r&&(i.setAttribute("defer",""),i.setAttribute("async","")),oe.isDef(n)&&n.appendChild(i)},o=function(e){if(oe.isFunction(e))e({iasImpId:b.asid});else if(e&&"string"==typeof e){var t=new q(e,!0).toString();r(t,void 0,!0)}},a=function(e,n,r,o){i(t.wrap(e,n,r,o))};return x.getAggregator().on({addNode:n,send:r,exec:i,notify:o,jsonp:a}),{addNode:n,send:r,exec:i,notify:o,jsonp:a}},zt=function(e){var t=function(e,t){t=t||e,e=arguments.length>1?e:"script";var n=x.getAggregator().request("omidVerificationClient");n["script"===e?"injectJavaScriptResource":"sendUrl"](t,(function(){}))},n=function(e,t){e=encodeURI(e),x.getAggregator().request("omidVerificationClient").sendUrl(e.toString(),t||function(){})},r=function(e,t){x.getAggregator().request("omidVerificationClient").injectJavaScriptResource(e,t||function(){})},i=function(e){if(oe.isFunction(e))e({iasImpId:b.asid});else if(e&&"string"==typeof e){var t=new q(e,!0).toString();n(t)}},o=function(t,n,i,o){r(e.wrap(t,n,i,o))};return x.getAggregator().on({addNode:t,send:n,exec:r,notify:i,jsonp:o}),{addNode:t,send:n,exec:r,notify:i,jsonp:o}},Jt=function(){return{createInstance:function(e,t){return J.isDomless()?new zt(t):new Xt(e,t)}}},Qt=function(){var e=b.asid,t=b.cookieBaseURL,n=b.protocol,r=function(e){oe(e).each((function(e,t){x.getAggregator().trigger("notify",t)}))},i=function(){var i,o=((i=new q(n+"://"+t,!0)).setParam("asid",e),i=i.toString());x.getAggregator().trigger("jsonp",o,r,!0),x.getAggregator().trigger("updateDtCount")};return{start:function(){x.getAggregator().on("sendCookie",i)},isApplicable:function(e){return e.on("cookie")&&e.bootstrapOn("sendCookie")&&e.bootstrapperHas(["protocol","cookieBaseURL","asid"])}}},Zt=function(e,t){var n,r,i,o,a,s,u=Z.getMaxNumber(),c=t.isVideo(),d=e.id,g=e.sound&&"on"===e.sound,f=!(e.soundExcl&&"groupm_native"===e.soundExcl&&b.groupm_native_publisher)&&g;return n=new Ue(e),r=e.qiv,i={},oe.isDef(b.rts)&&oe.isDef(b.rts[d])&&(a=n&&oe.isFunction(n.getTimeThresholds)&&n.getTimeThresholds()[0],s=oe.isDef(a)?oe.isFunction(a.getTimeInViewForRts)&&a.getTimeInViewForRts():R.RTS_KEY_FOR_VQ,i[s]=b.rts[d]),o=e.minunit?1e3*e.minunit:1e3,{timeInViewThresholds:n,qivThreshold:r,type:R.DT_CODES.CUSTOM,rts:i,isInView:function(t){if(!t.adDimensions)return!1;var n,r,i,o,a=t.adDimensions.area(),s=1===t.tabHidden,d=Z.max(t.fullPercentInView||0,t.percentInView);return n=oe(e.thresholds).findFirst((function(e,t){if(r=t.lb||0,i=t.ub||u,a>=r&&a<=i)return!0})),o=!s&&d>=n.piv,function(e){return e.method==R.DETECTION_METHODS.AD_PLACEHOLDER}(t)&&function(e){return 0===e.tiv}(e)&&(o=!1),c&&(o=o&&t.isVideoPlaying,f&&(o=o&&t.isSoundOn)),o},metricId:d,minUnit:o,thresholdType:e.thresholdType,shouldIncludeSound:f}},$t=function(e,t,n){var r=t.isVideo()?"video":"display",i=t.isMobileApp()?"app":"web",o=t.isDeviceTypeGroupMobile()?"mobile":"desktop",a=oe(e.customViewability).isArray()&&e.customViewability.length>0,s=n.on("customMetric"),u=n.on("groupmCM"),c=function(e,t){var n,a,s,c;return n=oe(t.mediaTypes).contains(r),a=oe(t.distributionChannels).contains(i),s=!oe.isDef(t.deviceGroups)||oe(t.deviceGroups).contains(o),c=!N.contains(t.id,"fiv"),N.contains(t.id,"groupmCM")&&(c=u),c&&n&&a&&s};return{resolve:function(){var t,n=[];return s&&a&&(t=oe(e.customViewability).filter(c),oe(t).each((function(e,t){n.push(t)}))),n}}},en=function(e,t,n,r,i,o,a,s){var u=0,c=0,d=!1,g=function(e,t,o,s,g,f){o=o||!n.on("postDts");var l=e===R.DT_CODES.DIAGNOSTIC||e===R.DT_CODES.ADTALK||e===R.DT_CODES.SCA||e===R.DT_CODES.XSCA||e===R.DT_CODES.EXTERNAL||e===R.DT_CODES.LARGE_BILLABLE;if(r.impressionIsIdentifiable()&&(l||"n"!==a.getCurrentLoc()))try{var h=b.dtBaseURL,v=new q(h,!0),E=Z.now();x.getAggregator().trigger("preSendDt",e),h||(v.path("dt"),n.on("usedtdomain")&&v.sub("dt")),p(v,e,t),g&&g.field&&v.setParam(g.field,g.value),s||m(v,e),x.getAggregator().trigger("send",v,(function(){c+=1,u=Z.now()-E,oe.isFunction(f)&&f()}),o),e===R.DT_CODES.UNLOAD&&(d=!0),i.cleanup()}catch(t){T("dt-"+e,t),x.getAggregator().trigger("error",R.ERROR_CODES.PHONE_HOME)}},f=function(){if(!d){var e=R.DT_CODES.UNLOAD;g(e,-1,!0)}},l=function(e,t){var r={bapi:"a",bapiClient:"b",jload:"c",jss:"d",jsi:"e"},i=b.mode,o=r[e]||r[i];t=t||i+"Diag",n.on(t)&&o&&g(R.DT_CODES.DIAGNOSTIC,-5,!0,!0,{field:"bkp",value:o})},p=function(e,t,n){var o=new be(t),a=oe.isDef(n)?n:o.enumerator;e.setParam("asId",b.asid);var s={c:r.getCacheBustId(),pingTime:a,time:J.getTagTime(),type:t};i.filterOutput((function(e){var n=e.minDt&&(!e.type||e.type===t);return n&&e.oneTime&&(e.flagForRemoval=!0),n}),s),e.setParam("tv",s)},m=function(e,r){var d,g,f={};i.filterOutput((function(e){return e.standalone&&!e.minDt&&e.type===r}),(function(t,n){e.setParam(t,n.replace("%3A",":"))})),a.fastForward(),function(e){return e===R.DT_CODES.CUSTOM||e===R.DT_CODES.UNLOAD||e===R.DT_CODES.VIDEO_EVENTS||e===R.DT_CODES.FULLY_INVIEW||e===R.DT_CODES.PING||e===R.DT_CODES.VIEWABILITY_READY||e===R.DT_CODES.ADTALK}(r)&&(f.clog=s,J.isVideo()&&(g=J.isOmid()&&!J.isOmidForWeb()?"omidVideoEventsString":"videoEventsString",(d=x.getAggregator().request(g))&&!d.isEmpty()&&(f.ve=d))),r===R.DT_CODES.UNLOAD&&(f.ndt=c),-1!==b.mode.indexOf("jsvid")&&(f.vv=x.getAggregator().request("videoVersion")),f.NULL1=n.output(),f.NULL2=a.stringify(10),f.em=J.embedded,f.fr=J.friendly,f.e=t.toString(),f.tt=b.mode,f.dtt=u,i.filterOutput((function(e){var t=!(e.standalone||e.minDt||e.type&&e.type!==r);return t&&e.oneTime&&(e.flagForRemoval=!0),t}),f),e.setParam("tv",f),e.setParam("br",o.getBrowserType())};return x.getAggregator().on({sendDt:function(e,t,n){g(e,oe.resolve(t),void 0,void 0,void 0,n)},sendMinDt:function(e,t){g(e,t,void 0,!0)},sendDiag:l,updateDtCount:function(){c++},unload:f}),{send:g,unload:f,diagnostic:l,setViewabilityMod:function(e){e}}},tn=function(){var e,t=0,n=0,r=new P(!0),i=function(){e&&(t++,r.trigger(t),n>t?Z.execAtEndOfThread(i):o())},o=function(){e=!1,t=0};return{onTick:function(e,t){var i=oe.collapseArgsIntoHash(e,t);oe(i).each((function(e,t){e=parseInt(e),n=e>n?e:n})),r.on(i)},start:function(){e||(e=!0,Z.execAtEndOfThread(i))},kill:o,isActive:function(){return e}}},nn=function(){var e,t,n={},r=0,i=function(n){(n||e)&&(r+=5,t.onTick(r,(function(){e?i():x.getAggregator().trigger("sendDt",R.DT_CODES.PERFORMANCE)})),e=!1)},o=function(){t=new tn,r=0,i(!0),t.start()},a=function(r,i,a,s){var u=n[r];s?(oe.isDef(u[i])||(u[i]=[]),u[i].push(a)):u[i]=a,t&&t.isActive()||o(),e=!0},s=function(n,r,i){x.getAggregator().trigger("addOutputItem",{output:r},n,i),t&&t.isActive()||o(),e=!0},u=function(t){oe(n).each((function(r,i){!function(t,r){var i=n[t],o={type:r,oneTime:!0,minDt:!0,asION:!0};oe(i).isEmpty()||(x.getAggregator().trigger("addOutputItem",{output:i},t,o),n[t]={}),e=!1}(r,t)}))};return{start:function(){x.getAggregator().on("preSendDt",(function(e){u(e),t&&t.kill()})),x.getAggregator().on("addThrottledProp",a),x.getAggregator().on("addThrottledOutputItem",s)},addFieldTypes:function(e){oe(e).each((function(e,t){n[t]={}}))}}},rn=function(){var e={},t=function(t){oe.isDef(e[t])?e[t]++:e[t]=1};return x.getAggregator().on("error",(function(e){var n=oe(e).isObj()?e.errorCode:e;t(n)})),{list:e,add:t,toString:function(){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n);return t},hasErrors:function(){for(var t in e)return!0;return!1}}},on=function(e,t){var n=function(e){var t=[];if(!(e&&e instanceof Array))throw new Error("Unexpected data type in ExchangeParser.getUrlList");return(t=oe(e).map((function(e,t){return t.val}))).push(b.adsafeSrc,b.requrl,b.reqquery),t};return{parse:function(r){try{var i,o=n(r),a=o&&o.length&&o.join("|"),s=b.exchList;a&&(i=oe(s).map((function(e,t){return a.indexOf(N.rot(t))>=0?e:void 0}))).length&&t.addItem({output:i.join(".")},"ex",{type:R.IMPRESSION_EVENT})}catch(t){e.add(R.ERROR_CODES.EXCHANGE_PARSING)}}}},an=function(){return{parse:function(e){}}},sn=function(){return{createInstance:function(e,t){return J.isDomless()?new an:new on(e,t)}}},un=function(){var e={},t=function(t){var n,r,i,o;return oe.isUndef(e[t])&&(n=b.jsFeatures,e[t]=!1,-1!==n.indexOf(t)&&(r=new RegExp(t+"(?=$|,)|"+t+":(?!,|$)(.?\\d*(?=,|$))").exec(n))&&(o=!(i=r[1]),e[t]=o||i>100*Z.random())),e[t]},n={es:"everySecond",sc:"usesca",ha:"usehaps"},r={gmnp:"groupm_native_publisher",for:"forceAppend",b11:"b11",cnod:"cnod"},i=function(e){var t=b[e];return!0===t||"true"===t||oe.isFunction(t)};oe(n).each((function(e,n){t(n)}));return{on:t,bootstrapOn:i,bootstrapperHas:function(e){var t=oe.isStr(e)?[e]:e;return oe(t).map((function(e,t){if(oe.isDef(b[t]))return 1})).length===t.length},getEnabledScriptUrl:function(e){var n=t("use"+e),r=b.sp_cdnScripts&&b.sp_cdnScripts[e];return n&&r},output:function(){return oe((t=oe(n).mapToObj((function(t,n){var r={};return r[t]=oe.fromBoolToNum(e[n]),r})),(o=oe(r).mapToObj((function(e,t){var n={};return n[e]=oe.fromBoolToNum(i(t)),n}))).gm=oe.fromBoolToNum(J.usesGroupMCustomMetric()),oe(t).mixin(o))).toParams();var t,o}}},cn=function(){var e=function(e,t,n){e===b.asid&&(n.unshift(t),x.getAggregator().trigger.apply(null,n))};return{getMethod:function(t){return function(n){var r={asid:b.asid,constant:R,features:t,context:J,dtBaseURL:b.dtBaseURL,spg:Pe};"function"==typeof n&&n(e,r)}},getMethodName:function(e){return"register_"+e}}},dn=function(e,t){var n,r=function(e){return e+"?t="+(new Date).getTime()+"&r="+Math.floor(1e5*Math.random())},i=/MSIE [1-9][^0-9]/g,o=function(){return!!navigator&&"string"==typeof navigator.userAgent&&-1!==navigator.userAgent.search(i)},a=function(){return"about:blank"};return function(t){var i;(n=U.createHiddenIframe()).setAttribute("src",a()),(e||b.contextNode.parentNode).appendChild(n),i=function(e){return e.contentWindow.document}(n);var s=["<head></head>",'<body onload="',"var d = document;","var s = d.createElement('script');","d.getElementsByTagName('head')[0].","appendChild(s).src","='"+(o()?r(t):t)+"'\">"].join("");i.open().write(s),i.close()}(t),{getWindow:function(){return n.contentWindow}}},gn=function(e,t){return{start:function(){try{var n=cn(),r=n.getMethodName(e),i=new q(t.getEnabledScriptUrl(e));new dn((o=Z.getDoc()).body||o.head||o.documentElement,i).getWindow()[r]=n.getMethod(t)}catch(e){x.getAggregator().trigger("error",R.ERROR_CODES.FEATURE_SCRIPT)}var o}}},fn=function(){return{start:function(e,t){oe(e).each((function(e,n){t.getEnabledScriptUrl(n)&&gn(n,t).start()}))}}},ln=function(){R.BROWSERS;var e=function(e,t){var n=e.getRounded(),r=t.getRounded(),i=Math.max(n.scrX,r.scrX),o=Math.max(n.scrY,r.scrY),a=Math.min(n.scrX+n.width,r.scrX+r.width)-i,s=Math.min(n.scrY+n.height,r.scrY+r.height)-o;return H({scrX:i,scrY:o,width:a>0?a:0,height:s>0?s:0})};return{calcInitialViewState:function(e,t){var n,r=R.NA;return n=t?{IN_VIEW:65,OUT_OF_VIEW:25,PARTIAL_VIEW:30}:{IN_VIEW:75,OUT_OF_VIEW:25,PARTIAL_VIEW:50},oe.isDef(e)&&e!==R.NA&&e>-1&&(r=e>=n.IN_VIEW?R.IN_VIEW:e<=n.OUT_OF_VIEW?R.OUT_OF_VIEW:e>=n.PARTIAL_VIEW?R.PARTIAL_VIEW_PLUS:R.PARTIAL_VIEW_MINUS),r},calcPercentInView:function(t,n,r,i){var o=0,a=t;return t.hasValidDims()&&!t.isHidden()&&(oe([n,r,i]).each((function(t,n){n.hasValidDims()&&(a=e(a,n))})),o=Z.round(a.area()/t.area()*100)),o}}},pn=function(e,t){return{timeInViewThresholds:new Ue({tiv:[0]}),type:R.DT_CODES.FULLY_INVIEW,rts:{0:b._onInViewFull},isInView:function(e){var t=Z.max(e.fullPercentInView||0,e.percentInView);return-1!==(R.IN_VIEW+"|"+R.PARTIAL_VIEW_PLUS).indexOf(e.viewState)&&100===t},applies:function(){return t.usesGroupMCustomMetric()},minUnit:1e3,shouldIncludeSound:!1}},mn=function(e,t){var n,r=e.on("everySecond"),i=t.isVideo(),o=t.usesIASFullyInViewCustomMetric(),a=function(e){var t=Z.max(e.fullPercentInView||0,e.percentInView);return-1!==(R.IN_VIEW+"|"+R.PARTIAL_VIEW_PLUS).indexOf(e.viewState)&&100===t};return n=new Ue(r?{tiv:[1e3,2e3,3e3,4e3,5e3,6e3,7e3,8e3,9e3,1e4,11e3,12e3,13e3,14e3,15e3]}:i?{tiv:[2e3,5e3,15e3]}:{tiv:[1e3,5e3,15e3]}),x.getAggregator().provide("isFullyInViewProvider",{isFullyInView:a}),{timeInViewThresholds:n,type:R.DT_CODES.FULLY_INVIEW,isInView:a,applies:function(){return o},minUnit:1e3,shouldIncludeSound:!1}},hn=function(){var e,t,n=!1;e=function(e){var t=[];return t.push(e.slice(0,8)),t.push(e.slice(8,12)),t.push(e.slice(12,16)),t.push(e.slice(16,20)),t.push(e.slice(20)),t.join("-")}(function(){var e="";try{for(var t,n=S.Uint32Array&&S.crypto&&S.crypto.getRandomValues;e.length<32;)n?(t=new Uint32Array(1),S.crypto.getRandomValues(t),e+=t[0].toString(16)):e+=(16*Z.random()|0).toString(16);e=e.slice(0,32)}catch(e){x.getAggregator().trigger("error",R.ERROR_CODES.UID_GENERATION)}return e}());var r=function(){return b.anId};return{getAsid:function(){return b.asid},getAnId:r,getCacheBustId:function(){var e=new Date,t=Date.parse("Jan 1 "+e.getFullYear()),n=e.getTime()-t;return oe.toBase(n,62)},getFwId:function(){return r()||b.advEntityId+"-"+b.pubEntityId},impressionIsIdentifiable:function(e){return e&&(n=!0),n},unq:e,getAvidIds:function(){return t},setAvidAdSessionContext:function(e){t=e}}},vn=function(e){var t,n,r=!1,i=function(e){var i=!0;return r&&(r=!1,e.stopPropagation?(e.stopPropagation(),e.preventDefault()):e.cancelBubble=!0,t=e.screenX-e.clientX,n=e.screenY-e.clientY,i=!1),i};return e.browserIs(R.BROWSERS.IE)&&M.addEvent(Z.getDoc().documentElement,"click",i,!0),{determineFramePosition:function(){return e.browserIs(R.BROWSERS.IE)&&(r=!0,Z.getDoc().documentElement.click()),{scrX:t,scrY:n}}}},En=function(e,t,n){var r=t.getAvidIds(),i=["id:"+b.asid,"c:"+t.getCacheBustId(),"sl:"+e,"em:"+J.embedded,"fr:"+J.friendly];return n.on("avidPropertiesInImpression")&&oe.isDef(r)&&(i.push("abi:"+r.bundleIdentifier),i.push("apn:"+r.partner),i.push("apv:"+r.partnerVersion)),i},In=b.version,An={PERF_MARK_MODULE_DEFINITION:"mm",PERF_MARK_MAIN_FUNCTION:"mf",PERF_MARK_CONTINUE_MAIN:"cm",PERF_MARK_INSTANTIATE_MODULES:"in",PERF_MARK_PRE_IMPRESSION:"pr",PERF_MARK_SEND_IMPRESSION:"si",PERF_MARK_POST_IMPRESSION:"po",PERF_MARK_PBLK:"bl",PERF_MARK_EVENT_LOOP_ONE:"lo",PERF_MARK_EVENT_LOOP_TWO:"lt",PERF_MARK_MAIN_SCRIPT_DOWNLOAD:"md",PERF_MARK_IMPRESSION_CALL_DOWNLOAD:"id"};S.globalConstants=An;var Sn,Dn=function(e,t,n,r,i,o,a){var s,u=[],c=x.getAggregator().request("mPage");return u.push("mn:"+b.mn),u.push("pt:"+function(){var t=a.stringifyPingTimes();return e.viewState!==R.NA&&(t+=e.details),t}()),u.push(oe(o.params()).toParams()),n.on("mrcAudit")&&!J.isDomless()&&u.push("dvs:"+Z.getDoc().visibilityState),i.iterate((function(e,t){var n=!t.props||oe.isUndef(t.props.type),r=!t.props||t.props.type===R.IMPRESSION_EVENT;(n||r)&&u.push(e+":"+t.output())})),t.toString()&&u.push("e:"+t.toString()),u.push(n.output()),u.push("tt:"+b.mode),u.push("thd:"+oe.stringifyTriState(c.supportsVisAPI())),u.push("et:"+(Z.now()-b.birthdate)),b.perf.mark("si"),n.on("swapids")?u.push("oid:"+b.oid):u.push("uid:"+r.unq),u.push("v:"+In),u.push("sp:"+(b.isSplitMode?1:0)),n.on("resolution")&&(u.push("wr:"+oe(U.windowSize()).toArray().join(".")),u.push("sr:"+oe(U.screenSize()).toArray().join("."))),"NotFound"!==(s=function(){var e,t=String(b.scriptUrl).toLowerCase(),n=t.indexOf("ias_xpc");if(n>-1){var r=t.substring(n+"ias_xpc".length+1),i=r.indexOf("&");e=i>-1?r.substring(0,i):r}else e="NotFound";return e||""}())&&u.push("x_xpc:"+s),u},Tn=function(e,t,n,r,i,o,a,s){var u,c,d;return function(n){var r=n.primary.join(","),o=t,a=0,s=function(t){return o.length+t.length+5<=e},u=function(e){if(e)return","+e};return s(r)&&(o+=u(r),i.impressionIsIdentifiable(!0),oe(n.secondary).each((function(e,t){s(t)?o+=u(t):a+=1}))),o+=",ov:"+a}((c={viewState:R.NA},d=c,J.isDomless()?d=s.checkScreenLoc(!0)||c:r.on("impFailSafe")?Z.getDoc().body&&(d=s.checkScreenLoc(!0)||c):oe.isDef(Z.getDoc().body)&&(d=s.checkScreenLoc(!0)),s.isImmediatelyMeasurable()||s.requiresDelayedViewabilityEvent(),{primary:En((u=d).viewState,i,r),secondary:Dn(u,n,r,i,o,a,s)}))},On=function(e,t,n,r){var i,o,a=[],s=function(e){return-1!==e.key.indexOf("q")||-1!==e.key.indexOf("g")},u=function(e){var i,o,s,u=e.val,c=e.key,d=(o=c,s="adsafe_url=".length+"&adsafe_type=".length+a.join("&").length+o.length+n,t-s);r&&d<u.length&&d>0&&(u=u.substr(0,d)),(u.length||""===e.val||""===e.type)&&function(e){var n=a.join("&").length;return e.length+n<=t}(i="adsafe_url="+u+"&adsafe_type="+c)&&a.push(i)};return e&&e.length&&(i=oe(e).map((function(e,t){if(s(t))return t})),o=oe(e).map((function(e,t){if(!s(t))return t})),oe(i.concat(o)).each((function(e,t){u(t)}))),a},yn=function(e,t,n,r,i,o,a){var s=function(e,t){return isNaN(e)||e<0||""===e?t:e},u=function(e){return"&"===e.slice(-1)?"":"&"};var c=function(c){var d,g,f=r.baseUrl,l=("number"==typeof(g=o.getDocumentMode())?(d=2e3,8===g?d=4e3:g>8&&(d=8e3)):d=s(b.sp_imp_maxLength,2e3),d);return function(e){var n,r;return b.contextNode&&oe.isFunction(b.contextNode.getAttribute)&&(n=b.contextNode.getAttribute("data-ias-check-tag"),r=b.contextNode.getAttribute("data-ias-check-done")),b.integration&&!t.bootstrapOn("fwMonitoring")&&oe.isDef(JSON)&&oe.isFunction(JSON.parse)&&"true"===n&&"false"===r&&e.indexOf("skeleton.js")>0}(f)&&(f=function(e){var t,n=e.replace("skeleton.js",b.integration+".js"),r=b.contextNode.getAttribute("data-ias-parameters");try{t=JSON.parse(r)}catch(e){t=r}var i=b.staticServer+b.integration+"a.js";return n+"adContainerId="+t.adContainerId+"&true_pb="+encodeURIComponent(b.passback)+"&adsafe_pb="+encodeURIComponent(i)+"&"}(f)),f=f.replace(R.UNIQUE_ID_TOKEN,b.asid),f+=function(n,r,i){var o,a=s(b.sp_imp_jsInfo_minLength,0),u="";try{(o=r-n-a)>0&&(u+=On(i,o,"adsafe_jsinfo=".length,t.on("partialUrls")).join("&"))}catch(t){e.add(R.ERROR_CODES.IMPRESSION_URLS)}return u}(f.length,l,c),f+=u(f),f+=function(r,s){var u="";try{u+=Tn(s-r,"adsafe_jsinfo=",e,t,n,i,o,a)}catch(t){e.add(R.ERROR_CODES.JSINFO),u+="adsafe_jsinfo=e:"+e.toString()}return u}(f.length,l),r.macroUrl&&(f+=u(f),f+=r.macroUrl),f};return{send:function(e){try{var t=c(e);r.sendImpression(t),b.impUrl=t,x.getAggregator().trigger("impressionsent")}catch(e){T("impsend",e,b)}}}},wn=function(e,t){return{init:function(n){e.jsonp(n,(function(e){t.send(R.DT_CODES.THIRD_PARTY,void 0,!1,!0,{field:"tpiLookup",value:e})}),!1,"callback")}}},_n=function(e,t){var n,r=e||1,i=0,o=0,a=0;return{start:function(){i%r==0&&(n=Z.now())},stop:function(){var e=n||t;i%r==0&&(a+=Z.now()-e,o++),i++},getTime:function(){return a},getCount:function(){return o}}},bn=function(){var e={},t=function(t){return!e[t]&&(e[t]=new _n(1,b.birthdate)),e[t]},n=function(e){t(e).start()},r=function(e){var n=t(e);n.stop(),x.getAggregator().trigger("addThrottledProp","im",e,n.getTime())};return{start:function(){x.getAggregator().on({markTime:n,measureTime:r})},isApplicable:function(e){return e.on("pIntervals")}}},Nn=function(e,t,n,r){return{getTime:function(){return 1e3*e.getTimeInViewInSeconds()},getTask:function(){return function(){var i=e.getTimeInViewInSeconds(),o=e.getTimeInViewForRts();oe.isDef(r)&&(x.getAggregator().trigger("addOutputItem",{output:r},"metricId",{type:t}),x.getAggregator().trigger("addOutputItem",{output:"t"},"cmr",{type:t})),x.getAggregator().trigger("sendDt",t,i),n[o]&&n[o]()}}}},Rn=function(){return{createPingJobs:function(e,t,n,r){return oe(t.getTimeThresholds()).map((function(t,i){return new Nn(i,e,n,r)}))}}},Cn=function(e){var t={};return{doEligibleJobs:function(n){oe(e).each((function(e,r){var i=r&&r.getTime();oe.isDef(i)&&n>=i&&!t[i]&&(r.getTask().call(),t[i]=!0)}))}}},Mn=function(){var e=function(){var e=b.asid;return"__IntegralAS_"+(e&&e.replace(/\-/g,"")||"")+"_"+Z.round(1e4*Math.random())};return{wrap:function(t,n,r,i){var o,a,s,u=e();return function(e,t){return new RegExp(t).test(e)}(t=""+t,i=i||"ias_callback")&&(a=(o=function(e,t){return new RegExp("("+t+"=)(.[^&]*)").exec(e)[0]}(t,i)).split("=")[1],s=N.stringToFn(a),t=function(e,t){return-1!==e.indexOf(t+"&")&&(t+="&"),e.replace(t,"")}(t,o)),S[u]=function(e){n(e),r&&s&&s(e),S[u]=void 0},t=function(e,t,n){var r=e.indexOf("?"),i=t+"="+n;return-1===r?e+"?"+i:(r++,e.slice(0,r)+i+"&"+e.slice(r))}(t,i,u)},wrapToGlobal:function(t){var n=e();return S[n]=function(e){t(e),S[n]=void 0},n}}},Vn=function(){return{start:function(e){x.getAggregator().on("measurable",(function(){e()}))},isApplicable:function(e,t){return!t.browserIs(R.BROWSERS.WEBKIT)||!e.isImmediatelyMeasurable()}}},Fn=function(){return{start:function(e){e()},isApplicable:function(e){return e.isImmediatelyMeasurable()}}},Pn=function(e,t){return{onAll:function(n){var r={};oe(t).each((function(i,o){e.on(o,(function(){r[o]=1,oe(r).keys().length===t.length&&(r={},n())}))}))}}},Ln=function(){return{start:function(e){Pn(x.getAggregator(),["adImpression","measurable"]).onAll((function(){e()}))},isApplicable:function(e,t){var n=t.getIOSVersion()>=9;return(!t.browserIs(R.BROWSERS.WEBKIT)||n)&&J.isVideo()}}},xn=function(){return{start:function(e){x.getAggregator().once("adImpression",(function(){e()}))},isApplicable:function(e){return e.isImmediatelyMeasurable()&&J.isVideo()}}},Wn=function(e,t,n){var r=!1,i=function(){t.impressionIsIdentifiable()&&!r&&(r=!0,x.getAggregator().trigger("notify",b._onMeasurable))};return{start:function(){var t,r=[xn(),Ln(),Fn(),Vn()];(t=oe(r).findFirst((function(t,r){return r.isApplicable(n,e)})))&&t.start(i)},isApplicable:function(e){return e.bootstrapOn("useViewabilityNotification")&&oe.isDef(b._onMeasurable)}}},Un={url:{STRINGIFIED_METHOD:"u",detect:function(e){if(J.isDomless())return!1;var t=Z.getWindow().location.href,n=[t];try{n.push(top.location.href)}catch(e){}try{n.push(parent.location.href)}catch(e){}if(J.embedded){try{n.push(parent.document.referrer)}catch(e){}try{n.push(document.referrer)}catch(e){}}try{"jsi"!==b.mode&&n.push(S.location.href)}catch(e){}try{n.push(b.jsref)}catch(e){}return n.sort((function(e,t){return e.length>t.length?1:e.length<t.length?-1:0})),!!oe(e).findFirst((function(e,r){var i,o,a=!1,s="mobfox"===r?n:[t];for(o=0;o<s.length;o++)if(a=(i=s[o])&&-1!==i.indexOf(r))return x.getAggregator().trigger("addOutputItem",{output:Un.url.STRINGIFIED_METHOD+"_"+r.substring(0,4)},"drul",{type:"impression"}),a;return a}))}},userAgent:{STRINGIFIED_METHOD:"a",detect:function(e){return!J.isDomless()&&!!oe(e).findFirst((function(e,t){var n,r=!1,i=Z.getWindow();return oe.isDef(i.navigator)&&oe.isDef(i.navigator.userAgent)&&(r=(n=i.navigator.userAgent)&&-1!==n.indexOf(t)),r&&x.getAggregator().trigger("addOutputItem",{output:Un.userAgent.STRINGIFIED_METHOD+"_"+t.substring(0,4)},"drul",{type:"impression"}),r}))}},javascript:{STRINGIFIED_METHOD:"j",detect:function(e){return!!oe(e).findFirst((function(e,t){var n;return(n=oe.isDef(N.stringToProp(t)))&&x.getAggregator().trigger("addOutputItem",{output:Un.javascript.STRINGIFIED_METHOD+"_"+t.substring(0,4)},"drul",{type:"impression"}),n}))}},scriptSrc:{STRINGIFIED_METHOD:"s",detect:function(e){return!J.isDomless()&&!!oe(e).findFirst((function(e,t){return U.containsScriptTagWithSrc((function(e){var n;return(n=oe.isDef(e)&&-1!==e.indexOf(t))&&x.getAggregator().trigger("addOutputItem",{output:Un.scriptSrc.STRINGIFIED_METHOD+"_"+t.substring(0,4)},"drul",{type:"impression"}),n}))}))}}},Gn=Un,Bn=function(){var e=function(e,t){var n,r=Gn[e];return r.detect(t)&&(n=r.STRINGIFIED_METHOD),n};return{process:function(t){return oe(t).map(e).join("")}}},Hn={url:["file:","content:","applewebdata:","afma-sdk","adsx.greystripe.com/openx/www/delivery/ia.php","ads.mopub.com","ogury.io","mobfox"],userAgent:["QuantcastSDK","afma-sdk","AerServ"],scriptSrc:["file:","OguryFR"],javascript:["ADMARVEL","mopubFinishLoad","InmobiObj","PandoraApp","mraid.sasSendMessage","omidSupported","avid.getAvidAdSessionContext"]},kn=function(){var e,t=function(){return void 0!==e&&""!==e};return{detect:function(){e=!(!b.hasOwnProperty("serverSideAppDetection")||0===b.serverSideAppDetection.length)||Bn().process(Hn),t()&&x.getAggregator().trigger("addOutputItem",{output:"1"},"mapp",{type:"impression"})},hasDetectedMobileApp:t}},jn=[{STRINGIFIED_SDK:"adma",safeToInjectMraid:!0,detectionRules:{javascript:["ADMARVEL"],url:["AdMarvel"]}},{STRINGIFIED_SDK:"admb",safeToInjectMraid:!0,detectionRules:{userAgent:["afma-sdk"],url:["afma-sdk"]}},{STRINGIFIED_SDK:"imbi",safeToInjectMraid:!0,detectionRules:{javascript:["InmobiObj"]}},{STRINGIFIED_SDK:"mmed",detectionRules:{url:["mmsdk"],scriptSrc:["mmsyscache"]}},{STRINGIFIED_SDK:"mopb",safeToInjectMraid:!0,detectionRules:{javascript:["mopubFinishLoad"],url:["ads.mopub.com"]}},{STRINGIFIED_SDK:"pand",detectionRules:{javascript:["PandoraApp"]}},{STRINGIFIED_SDK:"ambe",safeToInjectMraid:!0,detectionRules:{url:["amobee"]}},{STRINGIFIED_SDK:"smat",safeToInjectMraid:!0,detectionRules:{javascript:["smaato_bridge"]}},{STRINGIFIED_SDK:"afrm",safeToInjectMraid:!0,detectionRules:{javascript:["Adform"]}},{STRINGIFIED_SDK:"vrve",safeToInjectMraid:!0,detectionRules:{javascript:["vrvsdk"]}},{STRINGIFIED_SDK:"sads",detectionRules:{javascript:["mraid.sasSendMessage"]}},{STRINGIFIED_SDK:"ogry",safeToInjectMraid:!0,detectionRules:{url:["ogury.io"],scriptSrc:["OguryFR"]}},{STRINGIFIED_SDK:"cnvt",detectionRules:{url:["adsx.greystripe.com/openx/www/delivery/ia.php"]}},{STRINGIFIED_SDK:"mobf",safeToInjectMraid:!0,detectionRules:{url:["mobfox"]}},{STRINGIFIED_SDK:"aers",safeToInjectMraid:!0,detectionRules:{userAgent:["AerServ"]}}],Yn=function(){var e=[],t=[],n=function(t,n){var r,i=Bn().process(n.detectionRules);return i&&(e.push(n.STRINGIFIED_SDK+"*"+i),r=n),r};return{detect:function(){(t=oe(jn).map(n)).length>0&&x.getAggregator().trigger("addOutputItem",{output:function(){return e.join(".")}},"sdk",{type:"impression"})},isSafeToInjectMraid:function(){return 1==t.length&&oe.isDef(t[0].safeToInjectMraid)&&t[0].safeToInjectMraid}}},qn=function(e){var t=new kn,n=new Yn;return function(){try{(e.bootstrapOn("mobOrTab")||J.isDomless())&&(t.detect(),t.hasDetectedMobileApp()&&n.detect())}catch(e){x.getAggregator().trigger("error",R.ERROR_CODES.MOBILE_APP)}}(),{isMobileAppEnvironment:function(){return t.hasDetectedMobileApp()},isSafeToInjectMraid:function(){return n.isSafeToInjectMraid()}}},Kn=function(e,t,n){var r=function(e,t){var n,r=e;return t&&(n=","+oe(t).stringify((function(e,t){return e+":"+t}),","),(r=q(e,!0)).appendToParamValue("adsafe_jsinfo",n),r=r.toString()),r},i={jss:{isFW:!0,nodeType:"script"},rjss:{isFW:!0,nodeType:"script"},jsi:{isFW:!0,nodeType:"iframe"},rjsi:{isFW:!0,nodeType:"iframe"},jload:{impressionMethod:function(n){e.enabled?x.getAggregator().trigger("jsonp",n,e.callback,!0):x.getAggregator().trigger("send",n,(function(){x.getAggregator().trigger("sendDiag")}),!t.on("postMon"))}},bapi:{impressionMethod:function(t){var n=e.enabled?e.callback:oe.noop,r=!!e.enabled;x.getAggregator().trigger("jsonp",t,n,r)}},jsapi:{isFW:!0,impressionMethod:function(t){var n=e.enabled?e.callback:oe.noop,r=!!e.enabled;x.getAggregator().trigger("jsonp",t,n,r)}},jsvid:{manualDefer:!0,impressionMethod:function(n){x.getAggregator().on("adImpression",(function(i,o){var a;try{a=r(n,o),e.enabled?x.getAggregator().trigger("jsonp",a,e.callback,!0):x.getAggregator().trigger("send",a,oe.noop,!t.on("postMon"))}catch(e){T("jsvidimp",e,b)}}))}},fwjsvid:{isFW:!0,manualDefer:!0,impressionMethod:function(e){var t="false"===b.fwMonitoring;t&&x.getAggregator().trigger("jsonp",function(e){var t;return(t=e.split("/"))[3]="db2",t[4]="video",t.join("/")}(e),(function(e){x.getAggregator().trigger("videoBlockResult",e)})),x.getAggregator().on("adImpression",(function(n,i){var o,a;try{t&&((a=n)&&oe.isBool(a.integral_didBlock)&&a.integral_timeToDecision>=0)&&(e=function(t){var n="$1$2,abc:"+(t.integral_didBlock?1:0)+",abct:"+t.integral_timeToDecision;return e.replace(/(adsafe_jsinfo=)([^&]*)/,n)}(n)),o=r(e,i),x.getAggregator().trigger("send",o,oe.noop,!0)}catch(e){T("fwjsvidimp",e,b)}}))}},jspix:{nodeType:"img"}};return new function(){var e=i[b.mode],t=!!e.isFW,r=function(e){var t;return t=x.getAggregator().request("mobileApp").isMobileAppEnvironment()&&b.mobFwUrl?b.mobFwUrl:e?b.adsafeSrc:b.requrl,e||(t+="?"+b.reqquery),t}(t),o=r.indexOf("BEGIN__ADSAFE"),a=-1!==o,s=a?r.slice(o):"";return{isFW:t,baseUrl:a?r.slice(0,o):function(e){var t=-1===e.indexOf("?")?"?":"&";return e+t}(r),macroUrl:s,sendImpression:function(t){var r=function(){e.nodeType?x.getAggregator().trigger("addNode",e.nodeType,t):e.impressionMethod(t)};n||e.manualDefer?r():e.manualDefer||x.getAggregator().on("adImpression",(function(){r()}))}}}},Xn=function(e,t){var n,r,i,o=e.on("everySecond"),a=t.isVideo(),s=[1e3,2e3,3e3,4e3,5e3,6e3,7e3,8e3,9e3,1e4,11e3,12e3,13e3,14e3,15e3],u=[1e3,5e3,15e3,3e4,45e3,6e4,9e4],c=[2e3,5e3,15e3];return o?(n=new Ue({tiv:s}),r=s[0]):a?(n=new Ue({tiv:c}),r=c[0]):(n=new Ue({tiv:u}),r=u[0]),(i={5e3:b._onInViewMRC5,15e3:b._onInViewMRC15})[r]=b._onInViewMRC,{timeInViewThresholds:n,type:R.DT_CODES.PING,rts:i,isInView:function(e){return-1!==(R.IN_VIEW+"|"+R.PARTIAL_VIEW_PLUS).indexOf(e.viewState)},applies:!0,minUnit:1e3,shouldIncludeSound:!1}},zn=function(e){var t=0,n={},r=function(e,n,r){if(oe.isUndef(e.output))throw new Error("item with id "+n+' must have "output" method');this.item=e,this.id=n||++t,this.props=r||{},this.output=function(){var t=oe.resolve(e.output);return this.props.asION&&(t=oe(t).toION()),t}},i=function(e){var t,r,i=[];for(t in n)n.hasOwnProperty(t)&&(r=e(t,n[t]))&&i.push(r);return i},o=function(e,t,i){i="string"!=typeof(i=i||t)?i:{};var o=oe(e.output).isObj()&&!i.asION,a=function(e,t,i){var o=new r(e,t,i);n[o.id]=o};o?oe(e.output).each((function(e,t){a({output:t},e,i)})):a(e,t,i)};return e.on("addOutputItem",(function(e,t,n){o(e,t,n)})),{addItem:o,filterOutput:function(e,t){return i((function(n,r){var i,o=r.props;e(o)&&(i=r.output(),o.encode&&(n=encodeURIComponent(n),i=encodeURIComponent(i)),oe.isFunction(t)?t(n,i):t[n]=i)}))},iterate:i,cleanup:function(){i((function(e,t){t.props.flagForRemoval&&delete n[e]}))},getItem:function(e){return n[e]}}},Jn=function(){var e,t,n,r,i=!1,o=!1,a=x.getAggregator().request("features"),s=new V,u=function(){return oe.isDef(e.prop)?Z.getDoc()[e.prop]:null},c=function(){var e,t,n;return n=923747==b.anId||925955==b.anId,a.on("blur")||a.on("abcAudit")&&n?(t=Z.getWindow(),e=J.friendly&&t.top.document&&(oe.isFunction(t.top.document.hasFocus)||oe(t.top.document.hasFocus).isObj())&&!t.top.document.hasFocus()||u()):e=u(),e};return t="hidden",n="visibilitychange",r=Z.getDoc(),oe.isUndef(r.hidden)?oe(["moz","ms","webkit"]).each((function(e,o){var a=o+"Hidden";oe.isDef(r[a])&&(t=a,n=o+n,i=!0)})):i=!0,e=i?{prop:t,event:n}:{},{isHidden:c,onHiddenChange:function(t){var n,r;s.push(t),o||(o=!0,n=Z.getWindow(),r=function(){s.run(c())},M.addEvent(n,"focus",r,!0),M.addEvent(n,"blur",r,!0),e.event&&M.addEvent(Z.getDoc(),e.event,r,!0))},supportsVisAPI:function(){return i}}},Qn=function(){return{isHidden:function(){return!1},onHiddenChange:function(e){},supportsVisAPI:function(){return!0}}},Zn=function(){return{createInstance:function(){return J.isDomless()?new Qn:new Jn}}},$n=function(e,t){var n,r=function(){var r,i=function(){var e=t.getWindow(),n=!1;if(oe.isDef(e.navigator)&&oe.isDef(e.navigator.userAgent)){e.navigator.userAgent;var r=e.navigator.userAgent.match(/Firefox\/([\.0-9]+)/);if(null!==r&&2==r.length){var i=r[1].split("."),o=i[0];if(3==parseInt(o,10)){var a=i[1];if(parseInt(a,10)<=6)if(3==i.length){var s=i[2];parseInt(s,10)<=13&&(n=!0)}else n=!0}}}return n},o={};try{o.a=encodeURIComponent(top.location.href)}catch(e){}try{o.b=encodeURIComponent(parent.location.href)}catch(e){}if(J.embedded){try{o.c=encodeURIComponent(parent.document.referrer)}catch(e){}try{o.e=encodeURIComponent(S.document.referrer)}catch(e){}}try{"jsi"!==b.mode&&(o.d=encodeURIComponent(S.location.href))}catch(e){}try{o.f=encodeURIComponent(b.jsref)}catch(e){}try{r=function(){var e={};try{e.q=t.getWindow().parent.parent.parent.parent.parent.parent.parent.parent.parent.parent.location.href}catch(t){var n=t.message,r=n.substring(n.lastIndexOf("<")+1,n.lastIndexOf(">"));oe.isDef(r)&&i()&&(e.g=r)}return e}(),o.g=encodeURIComponent(r.g||""),o.q=encodeURIComponent(r.q||""),e.isStarted()&&!r.g&&e.getMyFrameDepth()>1&&(o.g=encodeURIComponent(e.getTopDomain()))}catch(e){}o=function(e){var t,n,r={};for(n in e)e.hasOwnProperty(n)&&(t=e[n],oe.isUndef(r[t])?r[t]=n:r[t]+=n);var i={};for(n in r)r.hasOwnProperty(n)&&(i[t=r[n]]=n);return i}(o=function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];(""===n||"null"===n||"undefined"===n||null===n||oe.isUndef(n))&&delete e[t]}return e}(o));var a=[];for(var s in o)o.hasOwnProperty(s)&&a.push({key:s,val:o[s]});return a.sort((function(e,t){return e.val.length>t.val.length?1:e.val.length<t.val.length?-1:0})),n=a,a};return{detectTopURL:r,getDetectedURLs:function(){return n||r()}}},er=function(){return{detectTopURL:function(){return[]},getDetectedURLs:function(){return[]}}},tr=function(){return{createInstance:function(e,t){return J.isDomless()?new er:new $n(e,t)}}},nr=function(e){var t={},n=e instanceof Array&&e.length>0;return n&&(oe(e).each((function(e,n){var r;t[(r=n).getType()]=r})),x.getAggregator().on("perfCheckpoint",(function(e){var n=t[e.type];if(n)try{n.addPoint(e),n.isFinished()&&x.getAggregator().trigger("addThrottledProp",R.DT_SLOT.IM,"pci",n.toString())}catch(e){}}))),x.getAggregator().provide("perfActive",(function(){return n})),{isActive:n}},rr={IDS:{BLOCK_TIME:"pBlk",ON_LOAD:"pLoad",IN_BROWSER_DELAY:"pWait"},recordBlockingTime:function(){x.getAggregator().trigger("measureTime",rr.IDS.BLOCK_TIME)},setupOnLoadTracking:function(){M.addEvent(S,"load",(function(){x.getAggregator().trigger("measureTime",rr.IDS.ON_LOAD)}))},setupBrowserDelayTracking:function(){var e=new tn;e.onTick({4:function(){x.getAggregator().trigger("markTime",rr.IDS.IN_BROWSER_DELAY)},5:function(){x.getAggregator().trigger("measureTime",rr.IDS.IN_BROWSER_DELAY)}}),e.start()}},ir=rr,or=function(e,t,n){var r={};return n&&oe(n).map((function(n,i){var o,a;r[n]=(o=i,a=oe.noop,t.bootstrapOn("useViewabilityNotification")&&(a=function(){e.skipAsFraudulent()||x.getAggregator().trigger("notify",o)}),a)})),{getCallbacks:function(){return r}}},ar=function(){var e,t,n=0,r=["STYLE","SCRIPT"],i=R.RENDER.CREATIVE_NODE_TYPES.concat(R.RENDER.CONTAINER_NODE_TYPES),o=function(e){var t,n,o=[],a=e&&e.children,s=a&&a.length;if(a)for(var u=0;u<s;u++)n=(t=a[u]).nodeName.toUpperCase(),!t.children||0!==t.children.length||oe(i).contains(n)||oe(r).contains(n)||o.push(n);return o},a=function(e){return"HEAD"===U.getNodeName(b.contextNode.parentNode)?dt(b.contextNode.parentNode.ownerDocument.body,e):dt(null,e)},s=function(r){var u;return e=e||b.contextNode.parentNode,r?U.isNodeXDomainIframe(r)?u=r:!function(e){var t=U.getNodeName(e);return!!t&&(-1!==R.RENDER.CREATIVE_NODE_TYPES.indexOf(t.toUpperCase())||U.hasBackgroundImage(e)||function(e){return e.children&&0===e.children.length&&e.innerText&&e.innerText.length>0}(e))}(r)?(e=r,u=s(b.useFIF&&J.friendlyIframe&&n<3?function(e){var r,s,u,c,d=U.getNodeName(e),g=o(e);try{if(u=i.concat(g),e===Z.getTop().document.body)return null;U.isWindow(e)?(r=a(u))||(c="["+R.AD_IDENTIFIER+"-"+b.asid+"]",s=U.crossQuerySelector(c),t=s.parentNode,r=dt(t,u)):("IFRAME"===d&&(e=e.contentWindow.document),r=dt(e,u)),void 0===r&&void 0!==t&&(r=t.parentNode,t=r,n+=1)}catch(e){}return r}(r):function(e){var t,n,r=U.getNodeName(e),s=o(e);try{n=i.concat(s),U.isWindow(e)?t=a(n):("IFRAME"===r&&(e=e.contentWindow.document),t=dt(e,n))}catch(e){}return t}(r))):u=r:u=null,u};return{find:s,getClosestContainerName:function(){return U.getNodeName(e)}}},sr=function(e){var t="1",n="0";return{status:function(){var r=e.details||R.RENDER.DETAILS.OTHER,i=e.status||R.RENDER.STATUS.OTHER,o=r.split(".")[0],a="env"===r,s=o&&-1!==R.RENDER.CREATIVE_NODE_TYPES.indexOf(o.toUpperCase()),u="XIFRAME"===o,c=-1!==r.indexOf("tn"),d=-1!==r.indexOf("sn");return a?i:s||u||c||d?t:n}}},ur=function(){var e=!1,t=[],n=function(e){var t;if(U.isWindow(e))t="WINDOW";else if(U.isNodeXDomainIframe(e))t="XIFRAME";else try{t=U.getNodeName(e)}catch(e){}return t};return{build:function(r,i){var o=r&&U.getRect(r),a=n(r),s=r&&"IMG"===a,u=U.hasBackgroundImage(r),c=r.children&&0===r.children.length,d=r.innerText&&r.innerText.length>0,g=c&&d,f=o&&o.width>=R.RENDER.WIDTH_THRESHOLD&&o.height>=R.RENDER.HEIGHT_THRESHOLD?R.RENDER.DIAGNOSTIC.QUALIFIED_SIZE:R.RENDER.DIAGNOSTIC.UNQUALIFIED_SIZE,l=(u||s)&&(0===r.naturalWidth||0===r.naturalHeight),p=[a,f];return l&&p.push(R.RENDER.DIAGNOSTIC.BROKEN_IMAGE),u&&p.push(R.RENDER.DIAGNOSTIC.STYLED_NODE),g&&p.push(R.RENDER.DIAGNOSTIC.TEXT_NODE),i&&i.eventType&&("readystatechange"===i.eventType?p.push(R.RENDER.DIAGNOSTIC.DOCUMENT_READY):"load"===i.eventType&&p.push(R.RENDER.DIAGNOSTIC.LOAD_FIRED)),e&&oe(t).each((function(e,t){p.push(t)})),p.join(".")},getAdNodeName:n,appendCode:function(n){t.push(n),e=!0}}},cr=function(){var e,t=!1,n={status:R.RENDER.STATUS.OTHER,details:R.RENDER.DETAILS.OTHER},r={status:R.RENDER.STATUS.DETECTED,details:R.RENDER.DETAILS.ENVIRONMENT},i=function(){t=!0},o=function(e){e===R.RENDER.STATUS.DETECTED&&x.getAggregator().trigger("perfCheckpoint",{type:R.PERF_TIMELINE_TRACKER_CONFIG.RENDER.TYPE,timestamp:Z.now(),code:R.PERF_TIMELINE_TRACKER_CONFIG.RENDER.CODE})},a=function(e){var r=new sr(e),i=e.status||n.status,a=e.details||n.details;t&&i===R.RENDER.STATUS.DETECTED?function(e,t,n){o(e),x.getAggregator().trigger("addThrottledOutputItem","rend",e),x.getAggregator().trigger("addThrottledOutputItem","renddet",t),x.getAggregator().trigger("addThrottledOutputItem","rmeas",n)}(i,a,r.status()):function(e,t,n){o(e),x.getAggregator().trigger("addOutputItem",{output:e},"rend"),x.getAggregator().trigger("addOutputItem",{output:t},"renddet"),x.getAggregator().trigger("addOutputItem",{output:n},"rmeas")}(i,a,r.status())},s=function(){x.getAggregator().on("primaryadfound",(function(t){var r,i,o,s,u=n,c=new ar,d=!0,g=function(){r?Z.clearInterval(r):d=!1},f=function(){l(),d&&(r=Z.setInterval(l,500))},l=function(){var n,r,i,o,s,d,f,l,p=t&&t.getAdNode(),m=c.find(p);U.isNodeXDomainIframe(m)?(g(),o=m,s={},d=Z.getDoc(),f="complete"===d.readyState,l=function(t){var n=t&&t.type;("readystatechange"===n&&"complete"===t.target.readyState||"load"===n)&&(s.status=R.RENDER.STATUS.DETECTED,s.details=e.build(o,{eventType:n}),a(s),M.removeEvent(o,"load",l),M.removeEvent(d,"readystatechange",l))},f?(s.status=R.RENDER.STATUS.DETECTED,s.details=e.build(o,{eventType:"readystatechange"})):(M.addEvent(o,"load",l),M.addEvent(d,"readystatechange",l)),u=s):m?(n=m,r=!1,i=U.getRect(n),n&&"IMG"===U.getNodeName(n)&&(r=0===n.naturalWidth||0===n.naturalHeight),!r&&i.width>=R.RENDER.WIDTH_THRESHOLD&&i.height>=R.RENDER.HEIGHT_THRESHOLD&&(u.status=R.RENDER.STATUS.DETECTED,g()),u.details=e.build(m)):u.details=c.getClosestContainerName()||e.getAdNodeName(p)||u.details,a(u)};J.isMraid()?(i=Z.getWindow().mraid,o=i.getState&&i.getState(),s=function(){M.removeEvent(i,"ready",s),e.appendCode(R.RENDER.DIAGNOSTIC.MRAID_READY),f()},"loading"===o?M.addEvent(i,"ready",s):(e.appendCode(R.RENDER.DIAGNOSTIC.MRAID_DEFAULT),f())):f()}))};return{start:function(){x.getAggregator().trigger("perfCheckpoint",{type:R.PERF_TIMELINE_TRACKER_CONFIG.RENDER.TYPE,timestamp:Z.now(),code:"initial"}),e=new ur,x.getAggregator().on("impressionsent",i),J.isAvid()||J.isOmid()||J.isVideo()?a(r):(a(n),s())}}},dr=function(e){var t=!1;return{measure:function(n){(t=0===n.rsa)&&e.trigger("notify",b._onSuspicious)},skipAsFraudulent:function(){return t}}},gr=function(e){e=e||oe.identity;var t=[],n=Z.now(),r=function(){var e=Z.now();t.length&&(t[t.length-1].duration+=e-n,n=e)};return{clear:function(){r(),t=[]},fastForward:r,get:function(){return t},hasAlwaysBeen:function(e){return 1===t.length&&t[0].state===e},addState:function(n){var i=t[t.length-1],o=e(n);r(),0!==t.length&&o===i.state||t.push({state:o,duration:0})}}},fr=function(){var e,t,n,r=[],i={},o={sl:"n"},a=0,s={i:0,o:0,n:0,pp:0,pm:0},u=function(e,t){var n=new gr(t);return i[e]=n,n},c=function(e,t){return(t=t||"")+{inView:"i",outOfView:"o",na:"n",partialViewMinus:"pm",partialViewPlus:"pp"}[e]},d=function(){oe(o).each((function(e,t){var i=r.length?n-a:n;s[t]+=i})),a=n},g=function(e){r.length&&d(),oe(e).each((function(e,t){var n,r;n=t,(r=o[e])!==n&&"n"===r&&(s[n]+=s.n),o[e]=t})),r.length||d()},f=function(e){R.NA;var r,o=e.adDimensions?e.adDimensions.getRounded():{width:0,height:0},a=function(e){var t,n={},r=e.winDimensions,i=e.adDimensions;oe.isDef(r)&&r.hasValidDims()&&(n.wc=r),oe.isDef(i)&&i.hasValidDims()&&(n.ac=i,n.am=e.method,n.cc=e.containerDimensions);return oe({piv:"percentInView",obst:"obstructed",th:"tabHidden",reas:"reason"}).each((function(t,r){var i=e[r];oe.isDef(i)&&(n[t]=i)})),""===(t=oe(n).toParams())?"":","+t}(e),s={sl:c(e.viewState)};return n=J.getTagTime(),g(s),s.t=n,r=oe({toString:function(){return oe(i).each((function(e,t){t.fastForward()})),"{"+oe(s).toParams()+this.details+this.breakdowns+"}"},details:a,breakdowns:{piv:[],as:[],toString:function(){var e="",t=function(e,t){return t.duration+"~"+t.state};return e+="piv:["+oe(this.piv).stringify(t)+"]",",bkn:{"+(e+=",as:["+oe(this.as).stringify(t)+"]")+"}"}}}).mixin(s),oe(r).mixin(e),r.width=o.width,r.height=o.height,oe.isUndef(r.percentInView)&&(r.percentInView=R.PIV_NA),oe.isUndef(r.reason)&&(r.reason=""),t=r,r};return u("piv",(function(e){var t,n=e.percentInView,r=[1,25,30,50,75];return 100===n||0===n?t=n:(oe(r).each((function(e,i){oe.isUndef(t)&&n<i&&(t=r[e-1])})),oe.isUndef(t)&&(t=r[r.length-1])),t})),u("as",(function(e){var t=R.NA,n=e.adDimensions?e.adDimensions.getRounded():{width:t,height:t};return n.width+"."+n.height})),{fastForward:function(){n=J.getTagTime(),d()},registerLocation:function(t){var n,a=!1;return o.sl==c(t.viewState)&&r.length?(n=new f(t),r[r.length-1].details=n.details):(n=new f(t),r.push(n),e=t.viewState,a=!0),x.getAggregator().trigger("newScreenEvent",n),oe(i).each((function(e,t){-1!=="piv|as".indexOf(e)?(a&&t.clear(),t.addState(n),r[r.length-1].breakdowns[e]=t.get()):t.addState(n)})),n},stringify:function(e){var t="";return r.length&&(t=oe({slTimes:"{"+oe(s).toParams()+"}",slEvents:"["+r.slice(-e).join(",")+"]",slEventCount:r.length}).toParams()),t},createViewabilityTracker:u,getCurrentLoc:function(){return c(e)},getCurrentEvent:function(){return t}}},lr=function(e,t,n,r){var i,o=function(e,t){return{viewState:R.NA,posViewState:R.NA,embedded:J.embedded,winDimensions:e,adDimensions:t}};return{collect:function(){var t=e.find(),a=t.getOutOfViewReasons(),s=n.isHidden(),u=r.isDeviceTypeGroupMobile()&&i?i:H(U.calcWinDims()),c=t.getDims();return i=u,t.hasAd()&&u.hasValidDims()&&c.hasValidDims()?(!0===s&&a.push(R.OUT_OF_VIEW_REASONS.FOCUS),{winDimensions:u,adDimensions:c,containerDimensions:t.getContainerDims(),method:t.getDetectionMethod(),viewState:a.length?R.OUT_OF_VIEW:t.getViewState(),percentInView:t.getPercentInView(),reason:a.join("."),obstructed:oe.stringifyTriState(t.isObstructed()),isHidden:oe.stringifyTriState(t.isHidden()),tabHidden:oe.stringifyTriState(s),posViewState:t.getViewState(),adCompCount:t.getComponentCount(),sliceStatus:t.getSliceStatus()}):o(u,c)}}},pr=function(){return{collect:function(){return{}}}},mr=function(){return{createInstance:function(e,t,n,r){return J.isDomless()?new pr:new lr(e,t,n,r)}}},hr=function(e,t){var n=0,r=[],i=function(){var e,t={};return r.sort((function(e,t){return e.timestamp-t.timestamp})),oe(r).each((function(r,i){e&&(t[i.code]=i.timestamp-e),i.timestamp,r===n&&(e=i.timestamp)})),t};return{addPoint:function(e){r.push(e)},toString:function(){return oe(i()).toION()},getType:function(){return e},setBaseOrdinal:function(e){n=e},isFinished:function(){return r.length===t}}},vr=function(){var e=R.PERF_TIMELINE_TRACKER_CONFIG.WRAPPERS.AS.COUNT;return new hr(R.PERF_TIMELINE_TRACKER_CONFIG.WRAPPERS.AS.TYPE,e)},Er=function(){var e=R.PERF_TIMELINE_TRACKER_CONFIG.WRAPPERS.JS.COUNT;return new hr(R.PERF_TIMELINE_TRACKER_CONFIG.WRAPPERS.JS.TYPE,e)},Ir=function(){var e=R.PERF_TIMELINE_TRACKER_CONFIG.VANS.COUNT;return new hr(R.PERF_TIMELINE_TRACKER_CONFIG.VANS.TYPE,e)},Ar=function(){var e=R.PERF_TIMELINE_TRACKER_CONFIG.RENDER.COUNT;return new hr(R.PERF_TIMELINE_TRACKER_CONFIG.RENDER.TYPE,e)},Sr=function(){function e(){}return e.build=function(){var e=[];e.push(Ar());var t,n=(t=x.getAggregator().request("vc"))?{jv3:Ir,av3:Ir,jvw:Er,avw:vr}[t]:void 0;return n&&e.push(n()),e},e}(),Dr=function(e,t,n){var r=function(r){e.isInView(r)?(t.mark(),n.doEligibleJobs(t.getTotalTime())):t.stop()};return{start:function(){e.addMeasurementChangedListener(r)}}},Tr=function(e){var t,n=0,r=J.getTagTime(),i=0,o=!1;return{getTotalTime:function(){return i},stop:function(){n=0,r=J.getTagTime(),o=!1},mark:function(){t=o?J.getTagTime()-r:0,(n+=t)>=e&&(i+=n-t<e?n:t),r=J.getTagTime(),o=!0}}},Or=function(e,t,n,r){var i,o,a,s,u,c,d=function(e,t){return!t&&e},g=function(e,t,n,r){return!!r||!t&&(e||r)&&n},f=function(e){var d,f=0,p=1===e.tabHidden,m=e.isVideoPlaying,h=e.isSoundOn,v=e.isVideoPlayingInFullscreen;oe(e.sliceStatus).each((function(e,t){a(t,p,m,v)?i[e].mark():i[e].stop(),s[e]=i[e].getTotalTime()})),l("slcVt",s),r&&(oe(e.sliceStatus).each((function(e,t){!function(e,t,n,r,i){return g(e,t,n,r)&&i}(t,p,m,v,h)?o[e].stop():o[e].mark(),u[e]=o[e].getTotalTime()})),l("slcVtVol",u)),c=r&&t&&t.shouldIncludeSound?u:s,d=oe(c).findFirst((function(e,t){return f=Math.max(f,t),t<=0})),oe.isUndef(d)&&n.doEligibleJobs(f)},l=function(e,t){var n={};n[e]=t,x.getAggregator().trigger("addOutputItem",{output:n},{minDt:!1})},p=function(e){oe.isUndef(e.sliceStatus)||(i||function(e){!i&&e.sliceStatus&&(i=[],o=[],s=[],u=[],oe(e.sliceStatus).each((function(e){i.push(new Tr(1)),s.push(0),r&&(o.push(new Tr(1)),u.push(0))})))}(e),f(e))};return{start:function(){a=r?g:d,e.addMeasurementChangedListener(p)}}},yr=function(){var e,t=[],n=function(e){var t="type",n="t",r="timestamp";return{type:e["tp"]||e[t]||"",time:e[n]||e[r]&&e[r]-b.birthdate||""}},r=function(){e||(e=x.getAggregator().request("viewabilityDefinitions")),e&&0==t.length&&oe(e).each((function(e,n){n.qivThreshold&&t.push(n)}))},i=function(e,t){x.getAggregator().trigger("addOutputItem",{output:e.metricId},"metricId",{type:R.DT_CODES.CUSTOM}),x.getAggregator().trigger("addOutputItem",{output:"q"},"cmr",{type:R.DT_CODES.CUSTOM}),x.getAggregator().trigger("sendDt",R.DT_CODES.CUSTOM,t),e.rtsCallbacks&&oe.isFunction(e.rtsCallbacks[R.RTS_KEY_FOR_VQ])&&e.rtsCallbacks[R.RTS_KEY_FOR_VQ]()};return{init:function(){r(),x.getAggregator().on("videoQuartileEvent",(function(e){var o,a,s,u,c;r(),o=new n(e),s=(a=["_","firstQuartile","midpoint","thirdQuartile","complete"]).indexOf(oe(a).findFirst((function(e,t){return-1!==o.type.toLowerCase().indexOf(t.toLowerCase())}))),u=x.getAggregator().request("mScreenEvents").getCurrentEvent(),c=Math.floor(o.time/1e3),oe(t).each((function(e,t){var n=t.qivThreshold.indexOf(s);-1!==n&&t.isInView(u)&&t.qivThreshold.length>0&&(t.qivThreshold.splice(n,1),0==t.qivThreshold.length&&i(t,c))}))}))}}},wr=function(){return{listenForResult:function(){x.getAggregator().on("videoBlockResult",(function(e){var t=x.getAggregator().request("adNode"),n=!1,r="blockAd"+b.videoId;"failed"===e.action&&(n=!0),t&&oe.isDef(t.blockAd)?t.blockAd(n):t&&oe.isDef(t[r])&&t[r](n)}))}}},_r=function(){var e={AdPaused:"pauseAd",AdVolumeChange:"volumeChanged",AdPlaying:"resumeAd"};return{translate:function(t){var n=t.charAt(0).toLowerCase()+t.slice(1);return t in e&&(n=e[t]),n}}},br=function(e,t){var n,r,i,o,a,s=x.getAggregator().request("videoTranslator");return i=s.translate(e.messageType),o=function(e){var t=e.eventData||{},n=oe({}).mixin(t);return n.ext_passthrough&&delete n.ext_passthrough,n}(e),a=function(e){var t,n=e.eventData&&e.eventData.ext_passthrough;return n&&(t=oe(n).mapToObj((function(e,t){var n={};return n["x_"+e]=t,n}))),t}(e),r={t:e.time-b.birthdate,tp:i,sl:t},oe(r).mixin(o),oe(r).mixin(a),n=oe({indicatesPlaying:function(){return-1!=="showAd|adImpression|adVideoStart|resumeAd".indexOf(i)},indicatesNotPlaying:function(){return-1!=="adVideoComplete|adStopped|stopAd|pauseAd".indexOf(i)},indicatesFullscreen:function(){var e=Z.getWindow();return!("resizeAd"!==i&&"initAd"!==i||"fullscreen"!==o.viewMode&&o.width!==e.screen.width)},indicatesNormalSize:function(){return"resizeAd"===i&&"normal"===o.viewMode},indicatesQuartile:function(){return-1!=="adVideoFirstQuartile|adVideoMidpoint|adVideoThirdQuartile|adVideoComplete".indexOf(i)},indicatesCompletion:function(){return-1!=="adStopped|adVideoComplete|adSkipped|adError".indexOf(i)},getVolume:function(e){return e.getVolumeFromContext(o)},updateScreenLoc:function(e){r.sl=e,n.sl=e},trigger:function(){"adImpression"===i?x.getAggregator().persistentTrigger(i,o,a):x.getAggregator().trigger(i,o,a)},toString:function(){return"{"+oe(r).toParams()+"}"}}).mixin(r)},Nr=function(){var e=[];return{registerEvent:function(t,n,r){var i=new br(t,n,r);return e.push(i),i},toString:function(){return"{"+oe({vEventCount:e.length,vEvents:"["+e.join(",")+"]"}).toParams()+"}"},isEmpty:function(){return 0===e.length}}},Rr=function(){return{getVolumeFromContext:function(e){var t,n=-1;return oe.isDef(e)&&(oe.isDef(e.volume)?n=e.volume:oe.isDef(e.adVolume)&&(n=e.adVolume)),-1!==n&&(t=n),t}}},Cr=function(){var e,t,n,r=function(r){n=oe.isDef(r)?0===r:n,t&&n&&e.addState({isFullyInView:function(){return!1}})},i=function(){e&&e.hasAlwaysBeen(!0)&&x.getAggregator().trigger("sendDt",R.DT_CODES.QUARTILE_FULLY_INVIEW)},o=function(){t=!0,r()},a=function(e){var t=(new Rr).getVolumeFromContext(e);r(t)};return{isApplicable:function(e){return e.usesGroupMCustomMetric()},start:function(n){x.getAggregator().on({adVideoStart:o,adImpression:o,volumeChanged:a,adVideoMidpoint:i}),e=n.createViewabilityTracker("mpt",(function(e){var n=x.getAggregator().request("isFullyInViewProvider");return!t||n&&n.isFullyInView(e)}))}}},Mr=function(e,t,n){var r,i,o,a="IASid"+e,s="getIasVidBridgeVersion"+e,u=[],c=R.OUT_OF_VIEW,d=!1,g=!1,f=!1,l=!0,p=new Nr,m=Cr(),h=new wr,v=new Rr,E=new yr,I=function(e){var t;return d=!0,t=A(e),u.push(t),o&&y(),t},A=function(t){var r,i,o={};try{o=JSON.parse(unescape(t&&t.data?t.data:t))}catch(e){o={}}return o.id==e&&((r=p.registerEvent(o,n.getCurrentLoc())).indicatesPlaying()?(g=!0,c=!!f&&R.IN_VIEW):r.indicatesNotPlaying()?(g=!1,c=R.OUT_OF_VIEW):r.indicatesFullscreen()?(f=!0,c=g?R.IN_VIEW:R.OUT_OF_VIEW):r.indicatesNormalSize()&&(f=!1,c=!g&&R.OUT_OF_VIEW),(i=parseFloat(r.getVolume(v)))>0?l=!0:0===i&&(l=!1)),r},S=function(){return r||(oe([".integral-vid-"+e,"ias-ad","object","embed"]).findFirst((function(e,t){var n=Z.getDoc().querySelectorAll(t);return r=function(e){return oe(oe(e).toArray()).findFirst((function(e,t){return oe.isFunction(t[a])}))}(n)})),!r&&t.on("novidnodeerr")&&T("novidnode",{},b)),r},D=function(){var t=S();return t&&!d&&function(t){var n,r,i=Mn().wrapToGlobal(I);try{r=t[s]||t.getIasVidBridgeVersion,n=oe.isFunction(r)&&"2"===r.call(t)?unescape(t[a].call(t,e,i)):unescape(t[a].call(t,e)),d=!0,function(e){oe.isStr(e)&&(x.getAggregator().provide("vc",(function(){return e})),x.getAggregator().trigger("addOutputItem",{output:e},"vc",{type:"impression"}))}(n||"n")}catch(e){T("handshakefailure",e,b)}}(t),t},O=function(e){var t=v.getVolumeFromContext(e);l=!!oe.isDef(t)&&t>0},y=function(){E.init(),oe(u).each((function(e,t){t&&(oe.isUndef(t.sl)&&t.updateScreenLoc(n.getCurrentLoc()),t.trigger(),t.indicatesCompletion()&&x.getAggregator().trigger("adSessionComplete"),t.indicatesQuartile()&&("adVideoComplete"!==t.tp&&x.getAggregator().trigger("sendDt",R.DT_CODES.VIDEO_EVENTS),x.getAggregator().trigger("videoQuartileEvent",t)))})),u=[],o=!0},w=function(){return f&&g};return M.addEvent(Z.getWindow(),"message",(function(e){I(e)})),x.getAggregator().on({volumeChanged:O}),x.getAggregator().provide({videoEventsString:p,videoVersion:function(){var e,t=D();try{e=t.getVersion()}catch(t){e=-1,x.getAggregator().trigger("error",R.ERROR_CODES.NO_VIDEO_AD_INTERFACE)}return e},videoTranslator:function(){return i=i||new _r},adNode:D}),D(),h.listenForResult(),m.isApplicable(J)&&m.start(n),{findAdNode:D,getViewStateOverride:function(){return c},isHandshakeComplete:function(){return d},triggerInitializationEvents:y,setVideoSpecificScreenEventFields:function(e){var t=e.viewState===R.NA;if(e.isVideoPlaying=!0,e.isSoundOn=l,e.isVideoPlayingInFullscreen=!1,c){if(c===R.OUT_OF_VIEW){var n=e.reason?e.reason.split("."):[];n[n.length]=R.OUT_OF_VIEW_REASONS.VIDEO,e.reason=n.join(".")}e.viewState=t?e.viewState:c,e.isVideoPlaying=c===R.IN_VIEW}w()&&(e.percentInView=100,e.isVideoPlayingInFullscreen=!0)}}},Vr=function(e,t,n,r,i,o,a,s,u,c){var d=!1,g=J.isVideo(),f=o.request("mobileApp"),l=Oe().applies(n,i),p=n.browserIs(R.BROWSERS.GECKO)||n.browserIs(R.BROWSERS.IE)&&i.on("rattie")||l,m=J.xDomainIframe&&!p,h=new _n(10),v=function(){i.on("viewabilityready")&&!d&&(r.send(R.DT_CODES.VIEWABILITY_READY),o.trigger("measurable"),d=!0)};o.on("delayedViewabilityReady",(function(){E(),v()})),o.on("delayedViewabilityReadyCallOnly",v);var E=function(n){n=n||!1;try{var r,i;h.start(),t.hasMeasurementStrategy()?i=f.isMobileAppEnvironment()&&t.supportsAdContainerGeometry()?t.getScreenLocationInfo({},n):t.getScreenLocationInfo(s.collect(),n):(i=s.collect(),f.isMobileAppEnvironment()?(i.viewState=R.NA,i.method=R.NA,i.percentInView=R.NA):m&&(i.viewState=R.NA,i.percentInView=R.PIV_NA),g&&!J.isAvid()&&c.setVideoSpecificScreenEventFields(i)),r=u.registerLocation(i),n||e.trigger("measurementChanged",i),h.stop();var d=Z.round(h.getTime()/h.getCount());return a.addItem({output:d},"lt",{type:R.DT_CODES.UNLOAD}),r}catch(e){o.trigger("error",R.ERROR_CODES.CHECK_SCREEN_LOC)}};return{checkScreenLoc:E,stringifyPingTimes:function(){return i.on("everySecond")?"1-2-3-4-5-6-7-8-9-10-11-12-13-14-15":g?"2-5-15":"1-5-15"},isImmediatelyMeasurable:function(){var e=J.xDomainIframe,r=e&&n.browserIs(R.BROWSERS.WEBKIT),i=e&&n.browserIs(R.BROWSERS.MSEDGE),o=!r&&!i&&!(e&&l);return f.isMobileAppEnvironment()?t.isMeasurable():o},requiresDelayedViewabilityEvent:function(){f.isMobileAppEnvironment()&&t.hasMeasurementStrategy()&&t.requiresDelayedViewabilityEvent()},addMeasurementChangedListener:function(t){e.on("measurementChanged",t)}}},Fr=function(e,t){return{isInView:e.isInView,addMeasurementChangedListener:function(e){t.addMeasurementChangedListener(e)}}},Pr=function(){var e=x.getAggregator().request("omidAdSessionContext");return{accepts:function(){return e&&!e.isNative}}},Lr=function(e,t,n){var r=["rjss","jss","jload"];return{accepts:function(){var e=oe.isDef(oe(r).find((function(e,t){return t===n})));return t.accepts()&&t.isMediaType(R.MEDIA_TYPE.DISPLAY)&&e},isImmediate:function(){return!0},isMediaType:t.isMediaType,supportsAdContainerGeometry:function(){return t.supportsAdContainerGeometry()},start:function(){}}},xr=function(e,t,n){var r=["rjss","jss","jload"];return{accepts:function(){var e=oe.isDef(oe(r).find((function(e,t){return t===n})));return t.accepts()&&t.isMediaType(R.MEDIA_TYPE.VIDEO)&&e},isImmediate:function(){return!0},isMediaType:t.isMediaType,supportsAdContainerGeometry:function(){return t.supportsAdContainerGeometry()},start:function(){e.addEventListener("start",(function(e){x.getAggregator().trigger("adImpression")}))}}},Wr=function(e,t){var n=x.getAggregator().request("omidAdSessionContext"),r=null,i=!1,o=function(){var e=Z.getDoc().getElementById("iasbi"+b.asid);e&&e.hasAttribute("CreativeLoaded")?(n.delayingViewabilityEvents=!1,i=!1,r&&(a(r),r=null)):Z.setTimeout(o,50)},a=function(e){var a=e.data.adView,u=!!(a.measuringElement&&a.containerGeometry&&a.onScreenContainerGeometry);if(n.delayingViewabilityEvents)r=e,i||(i=!0,o());else{u&&a.onScreenGeometry.obstructions&&a.onScreenGeometry.obstructions.length>0&&(a.onScreenContainerGeometry.obstructions=a.onScreenGeometry.obstructions);var c={viewport:e.data.viewport||{width:0,height:0},originalAdContainer:a[u?"containerGeometry":"geometry"]||{x:0,y:0,width:0,height:0},computedAdContainer:a["onScreen"+(u?"Container":"")+"Geometry"]||{x:0,y:0,width:0,height:0},percentageInView:a.percentageInView,detectionMethod:R.DETECTION_METHODS.OMID,outOfViewReason:s(a.reasons)};t.trigger(R.CONTAINER_GEOMETRY_MEASUREMENT_CHANGED,c)}},s=function(e){var t={inactive:R.OUT_OF_VIEW_REASONS.FOCUS,viewport:R.OUT_OF_VIEW_REASONS.GEOM,clipped:R.OUT_OF_VIEW_REASONS.GEOM,obstructed:R.OUT_OF_VIEW_REASONS.OBSTRUCTION,backgrounded:R.OUT_OF_VIEW_REASONS.FOCUS,notFound:R.OUT_OF_VIEW_REASONS.HIDDEN},n=[];return e?(oe(e).each((function(e,r){var i=t[r];i&&n.indexOf(n)<0&&n.push(i)})),n.join(".")):""};return{start:function(){void 0!==n.impressionViewabilityMeasurement&&a(n.impressionViewabilityMeasurement),e.addEventListener("geometryChange",a)},addAdContainerGeometryMeasurementChangedListener:function(e){t.on(R.CONTAINER_GEOMETRY_MEASUREMENT_CHANGED,e)},translateOmidOutOfViewReasons:s}},Ur=function(e,t){var n=x.getAggregator().request("omidAdSessionContext"),r=null,i=!1,o=function(){var e=Z.getDoc().getElementById("iasbi"+b.asid);e&&e.hasAttribute("CreativeLoaded")?(n.delayingViewabilityEvents=!1,i=!1,r&&(a(r),r=null)):Z.setTimeout(o,50)},a=function(e){if(e&&e.data&&e.data.adView)if(n.delayingViewabilityEvents)r=e,i||(i=!0,o());else{var a=e.data.adView.geometry,s=e.data.adView.containerGeometry,u=!!a,c=e.data.adView.measuringElement&&!!s,d={x:u&&c?a.x-s.x:0,y:u&&c?a.y-s.y:0,width:u?a.width:0,height:u?a.height:0};d,t.trigger(R.MOBILE_APP_GEOMETRY_MEASUREMENT_CHANGED,{adGeometry:d,adFound:u})}};return{start:function(){void 0!==n.impressionViewabilityMeasurement&&a(n.impressionViewabilityMeasurement),e.addEventListener("geometryChange",a)},addAdGeometryMeasurementChangedListener:function(e){t.on(R.MOBILE_APP_GEOMETRY_MEASUREMENT_CHANGED,e)}}},Gr=function(e,t){var n=[],r=(new Date).getTime(),i=0,o=0,a=!1,s=new yr,u={isEmpty:function(){return 0===n.length},toString:function(){for(var e="{vEventCount:"+n.length+",vEvents:[",t=0;t<n.length;t++){var r=n[t];e+=(t>0?",{":"{")+"t:"+r.t+",tp:"+r.tp+",sl:"+r.sl+",ad_duration:"+r.ad_duration+",volume:"+r.volume+"}"}return e+="]}"}},c=function(){a=!0},d=function(e){try{var s,u="",c=e.hasOwnProperty("timestamp")?e.timestamp:(new Date).getTime(),d="n",g=!1;switch(e.type){case"start":u="adVideoStart",r=c,(o=e.data.duration)>1e3&&(o/=1e3),i=e.data.videoPlayerVolume;break;case"volumeChange":u="volumeChanged",i=e.data.videoPlayerVolume;break;case"firstQuartile":case"midpoint":case"thirdQuartile":case"complete":u="adVideo"+e.type.substring(0,1).toUpperCase()+e.type.substring(1),g=!0,x.getAggregator().trigger("videoQuartileEvent",e);break;case"pause":case"bufferStart":u="pauseAd";break;case"resume":case"bufferFinish":u="resumeAd";break;case"skipped":u="adSkipped"}if(""!==u){var f=x.getAggregator().request("mScreenEvents");f&&(d=f.getCurrentLoc()),n.push({t:c-r,tp:u,sl:d,ad_duration:o,volume:i})}if("loaded"===e.type&&oe.isDef(e.data)){var l=["preroll","midroll","postroll","standalone"].indexOf(e.data.position),p=-1!==l?l+1:void 0,m=!0===e.data.autoPlay?"autoplayed":"clicktoplay";!0===a?(oe.isDef(p)&&x.getAggregator().trigger("addThrottledProp",R.DT_SLOT.ENVIRONMENT,"vbp",p),x.getAggregator().trigger("addThrottledProp",R.DT_SLOT.ENVIRONMENT,"vps",m)):(oe.isDef(p)&&x.getAggregator().trigger("addOutputItem",{output:p},"vbp",{type:R.IMPRESSION_EVENT}),x.getAggregator().trigger("addOutputItem",{output:m},"vps",{type:R.IMPRESSION_EVENT}))}"start"===e.type&&x.getAggregator().trigger("omidAdDuration",{ad_duration:o}),"playerStateChange"===e.type?s="fullscreen"===e.data.state?"AdEnteredFullscreen":"AdExitedFullscreen":-1!=="start|firstQuartile|midpoint|thirdQuartile|resume|bufferFinish".indexOf(e.type)?s="AdPlaying":-1!=="complete|pause|bufferStart|skipped".indexOf(e.type)&&(s="AdPaused"),oe.isDef(s)&&t.trigger("videoPlaybackEvent",{eventType:s,eventData:null}),g&&x.getAggregator().trigger("sendDt",R.DT_CODES.VIDEO_EVENTS)}catch(e){T("omidvideo",e,S.bootstrapper)}};return{start:function(){x.getAggregator().on("impressionsent",c),x.getAggregator().provide({omidVideoEventsString:u}),e.addEventListener("video",d),s.init()},addVideoPlaybackEventListener:function(e){t.on("videoPlaybackEvent",e)}}},Br=function(e,t,n){var r;var i=function(){var t,i,o=e.find(),a=!0;oe.isDef(o)?(t={x:(i=o.getBoundingClientRect()).left,y:i.top,width:i.width,height:i.height},o.hasOwnProperty("adWasClipped")&&(t.adWasClipped=!0)):a=!1,a&&function(e){return!oe.isDef(r)||!1!==oe(e).compareTo(r)}(t)&&(r=t,n.trigger(R.MOBILE_APP_GEOMETRY_MEASUREMENT_CHANGED,{adGeometry:t,adFound:a}))};return{start:function(){i(),t.setInterval(i,50)},addAdGeometryMeasurementChangedListener:function(e){n.on(R.MOBILE_APP_GEOMETRY_MEASUREMENT_CHANGED,e)}}},Hr=function(e){return{resolve:function(){var t=oe(e).findFirst((function(e,t){return t.environment.accepts()}));if(oe.isDef(t))return t}}},kr=function(e,t,n){var r=function(e,t){var n=Math.max(e.x,t.x),r=Math.max(e.y,t.y),i=Math.min(e.x+e.width,t.x+t.width)-n,o=Math.min(e.y+e.height,t.y+t.height)-r;return{x:n,y:r,width:i>0?i:0,height:o>0?o:0}},i=function(e,t,n){var i=r(t,e);return r(n,{x:0,y:0,width:i.width,height:i.height})},o=function(e,t){return{x:e.x+t.x,y:e.y+t.y,width:t.width,height:t.height}},a=function(e,t){return{x:t.x-e.x,y:t.y-e.y,width:t.width,height:t.height}};function s(e,t,n){var r=a(t,n),o=i(e,t,r);return o.width*o.height}var u=function(e){return c(e)?R.IN_VIEW:R.OUT_OF_VIEW},c=function(e){return e>=50};return{calculateGeometricMeasurement:function(r,d){if(oe.isDef(r)&&oe.isDef(d)){var g,f=r.viewport,l=r.computedAdContainer,p=l.obstructions,m=p&&p.length>0,h=r.originalAdContainer,v=d.adGeometry,E=d.adFound,I=r.detectionMethod,A=0,S={x:0,y:0,width:f.width,height:f.height},D=o(h,v),T=r.outOfViewReason,O=0,y=0,w=m||!1,_=v.width*v.height<=1;return n&&_&&(T=function(e,t){var n=e||"";return t||-1!==n.indexOf(R.OUT_OF_VIEW_REASONS.GEOM)||(n=R.OUT_OF_VIEW_REASONS.GEOM+(""!==n?"."+n:"")),n}(T,E=!1)),E&&r.percentageInView>0?(O=s(S,l,D),y=m?function(t,n,r,s){var u=a(n,r),c=i(t,n,u),d=o(n,c);return e.calculateObstructedArea(d,s)}(S,l,D,p):0,A=Math.round((O-y)/(D.width*D.height)*100),m&&0===y&&(w=!1),g=function(n,r,i,o){var a,u,c,d,g=0,f=t.getConfig(i).numberOfSlices,l=Z.floor(i.height/f)||1,p=[],m=o?e.getObstructionStatusBySlice(f):[];for(g=0;g<f;g++)d=i.y+l*g,g==f-1&&(l=i.y+i.height-d),u=s(n,r,a={x:i.x,y:d,width:i.width,height:l})/(a.width*a.height)==1,p.push(u);if(o)for(c=Z.min(m.length,f),g=0;g<c;g++)p[g]=p[g]&&!m[g];return p}(S,l,D,w)):g=t.getConfig(v).defaultSliceArray,{windowDimensions:S,containerDimensions:h,adDimensions:D,percentageInView:A,viewState:u(A),outOfViewReason:c(A)?"":T||R.OUT_OF_VIEW_REASONS.GEOM,detectionMethod:I,isObstructed:w,sliceStatus:g}}}}},jr=function(e){var t,n=[],r=function(e,t){for(var n=o(e,t),r=n.x-e.x,i=n.y-e.y,a=r+n.width,s=i+n.height,u=Math.round(r);u<Math.round(a);u++)for(var c=Math.round(i);c<Math.round(s);c++)void 0!==e.matrix[u]&&void 0===e.matrix[u][c]&&(e.matrix[u][c]=1,e.obscuredPixelCount+=1);return e},i=function(e){for(var t=Math.round(e.width),n=Math.round(e.height),r=new Array(t),i=0;i<t;i++)r[i]=new Array(n);return{matrix:r,obscuredPixelCount:0,x:Math.round(e.x),y:Math.round(e.y),width:t,height:n}},o=function(e,t){var n=Math.max(e.x,t.x),r=Math.max(e.y,t.y),i=Math.min(e.x+e.width,t.x+t.width)-n,o=Math.min(e.y+e.height,t.y+t.height)-r;return{x:n,y:r,width:i>0?i:0,height:o>0?o:0}},a=function(e,t,n){return e+(t-n)},s=function(e,t,n,r){return e==t||n===r-1},u=function(t){if(oe.isUndef(t.matrix)||0===t.matrix.length)return[];for(var n=0,r=!1,i=t.matrix[0].length,o=t.matrix.length,u=e.getConfig({height:i}).numberOfSlices,c=Z.floor(i/u)||1,d=[],g=0;g<i;g++){r=!1;for(var f=0;f<o;f++)if(1===t.matrix[f][g]){r=!0;break}n++,r&&(g=a(g,c,n),n=c),s(n,c,g,i)&&(d.push(r),n=0,r=!1)}return d};return{calculateObstructedArea:function(e,o){var a,s=o&&o.length>0,c=s?i(e):{},d=0,g=0;if(s){for(;d<o.length;d++)a=o[d],c=r(c,a);g=c.obscuredPixelCount,t=u(c)}else t=n;return g},getObstructionStatusBySlice:function(){return t}}},Yr=function(e,t,n,r){var i,o,a,s=function(){if(oe.isDef(i)&&oe.isDef(o)){var e=r.calculateGeometricMeasurement(i,o);e.isMeasurable=!0,a=!0,n.trigger("geometryMeasurementChanged",e)}},u=function(e){i=e,s()},c=function(e){o=e,s()};return{start:function(){x.getAggregator().trigger("addOutputItem",{output:R.MEDIA_TYPE.DISPLAY_CODE},R.MEDIA_TYPE_CODE,{type:R.IMPRESSION_EVENT}),e.addAdContainerGeometryMeasurementChangedListener(u),e.start(),t.addAdGeometryMeasurementChangedListener(c),t.start()},addMeasurementChangedListener:function(e){n.on("geometryMeasurementChanged",e)},getStrategyName:function(){return R.MEASUREMENT_STRATEGY.DISPLAY},isMeasurable:function(){return a}}},qr=function(e,t,n,r,i){var o,a,s,u,c,d=!1,g=!1,f=function(){if(!(oe.isUndef(a)||oe.isUndef(s)||oe.isUndef(u))){c=!0;var e=i.calculateGeometricMeasurement(a,s),t=d&&g,n=d&&e.percentageInView>=50,f={windowDimensions:e.windowDimensions,containerDimensions:e.containerDimensions,adDimensions:e.adDimensions,percentageInView:e.percentageInView,detectionMethod:e.detectionMethod,isMeasurable:!0,isObstructed:e.isObstructed,sliceStatus:e.sliceStatus,isVideoPlaying:d,isVideoPlayingInFullscreen:t,isSoundOn:!0};t&&(f.percentageInView=100),t||n?f.viewState=R.IN_VIEW:(f.viewState=R.OUT_OF_VIEW,f.outOfViewReason=e.outOfViewReason||R.OUT_OF_VIEW_REASONS.VIDEO),o=f,r.trigger("videoGeometryMeasurementChanged",o)}},l=function(e){a=e,f()},p=function(e){s=e,f()},m=function(e){u=e;var t=e.eventType;"AdEnteredFullscreen"===t?g=!0:"AdExitedFullscreen"===t?g=!1:-1!=="AdStarted|AdVideoStart|AdPlaying".indexOf(t)?d=!0:-1!=="AdSkipped|AdUserClose|AdPaused|AdVideoComplete|AdStopped|AdError".indexOf(t)&&(d=!1),f()};return{start:function(){x.getAggregator().trigger("addOutputItem",{output:R.MEDIA_TYPE.VIDEO_CODE},R.MEDIA_TYPE_CODE,{type:R.IMPRESSION_EVENT}),e.addAdContainerGeometryMeasurementChangedListener(l),e.start(),t.addAdGeometryMeasurementChangedListener(p),t.start(),n.addVideoPlaybackEventListener(m),n.start()},getStrategyName:function(){return R.MEASUREMENT_STRATEGY.VIDEO},addMeasurementChangedListener:function(e){r.on("videoGeometryMeasurementChanged",e)},isMeasurable:function(){return c}}},Kr=function(e){return{accepts:function(){return e.isAvidAvailable()},getAvidAdSessionContext:function(){return e.getAvidAdSessionContext()},isMediaType:function(t){var n,r=e.getAvidAdSessionContext();return e.isAvidAvailable()&&oe.isDef(r)&&(n=r.mediaType||R.MEDIA_TYPE.DISPLAY),t===n},supportsAdContainerGeometry:function(){var t,n,r,i,o=!1,a=e.getAvidAdSessionContext();return oe.isDef(a)&&(o=function(e){return oe.isUndef(e)}(t=a.avidJsVersion)||(n=t,r=oe.getNum(n.split(".")[0]),i=oe.getNum(n.split(".")[1]),2===r?i>=7:r>=3)),o}}},Xr=function(e,t,n){var r=["rjss","jss","jload"],i=function(){var t=!1,n=e.getAvidAdSessionContext();return oe.isDef(n)&&(t=n.isDeferred),!t};return{accepts:function(){var e=oe.isDef(oe(r).find((function(e,t){return t===n})));return t.accepts()&&t.isMediaType(R.MEDIA_TYPE.DISPLAY)&&e},isImmediate:i,isMediaType:t.isMediaType,supportsAdContainerGeometry:function(){return t.supportsAdContainerGeometry()},start:function(){i()||e.addEventListener("ready",(function(){x.getAggregator().trigger("adImpression")}))}}},zr=function(e,t,n){var r=["rjss","jss","jload"];return{accepts:function(){var e=oe.isDef(oe(r).find((function(e,t){return t===n})));return t.accepts()&&t.isMediaType(R.MEDIA_TYPE.VIDEO)&&e},isImmediate:function(){return!1},isMediaType:t.isMediaType,supportsAdContainerGeometry:function(){return t.supportsAdContainerGeometry()},start:function(){try{e.addEventListener("video",(function(e){"AdImpression"===e.eventSubType&&x.getAggregator().trigger("adImpression")}))}catch(e){}}}},Jr=function(e,t){var n=function(e){try{var n=e.eventSubType,r=e.eventData;t.trigger("videoPlaybackEvent",{eventType:n,eventData:r})}catch(e){}};return{start:function(){e.addEventListener("video",n)},addVideoPlaybackEventListener:function(e){t.on("videoPlaybackEvent",e)}}},Qr=function(){return{accepts:function(){return J.isAvidNative()}}},Zr=function(){return{accepts:function(){return J.isAvid()&&!J.isAvidNative()}}},$r=function(e,t){var n=function(e){var n=e.eventData.originalAdContainer,r=!!n,i={x:0,y:0,width:r?n.width:0,height:r?n.height:0};i,t.trigger("avidNativeGeometryChanged",{adGeometry:i,adFound:r})};return{start:function(){e.addEventListener("viewability",n)},addAdGeometryMeasurementChangedListener:function(e){t.on("avidNativeGeometryChanged",e)}}},ei=function(e,t){var n=function(e){var n;n={viewport:e.eventData.viewport||{width:0,height:0},originalAdContainer:e.eventData.originalAdContainer||{x:0,y:0,width:0,height:0},computedAdContainer:e.eventData.computedAdContainer||{x:0,y:0,width:0,height:0},percentageInView:e.eventData.percentageInView,detectionMethod:R.DETECTION_METHODS.AVID,outOfViewReason:r(e.eventData.reasons)},t.trigger(R.CONTAINER_GEOMETRY_MEASUREMENT_CHANGED,n)},r=function(e){var t={inactive:R.OUT_OF_VIEW_REASONS.FOCUS,viewport:R.OUT_OF_VIEW_REASONS.GEOM,clipped:R.OUT_OF_VIEW_REASONS.GEOM,obstructed:R.OUT_OF_VIEW_REASONS.OBSTRUCTION,backgrounded:R.OUT_OF_VIEW_REASONS.FOCUS,notFound:R.OUT_OF_VIEW_REASONS.HIDDEN},n=[];return e?(oe(e).each((function(e,r){var i=t[r];i&&n.indexOf(n)<0&&n.push(i)})),n.join(".")):""};return{start:function(){e.addEventListener("viewability",n)},addAdContainerGeometryMeasurementChangedListener:function(e){t.on(R.CONTAINER_GEOMETRY_MEASUREMENT_CHANGED,e)},translateAvidOutOfViewReasons:r}},ti=function(e,t){var n,r=function(e){var r,i;try{r=e.eventData.percentageInView,i={windowDimensions:{x:0,y:0,width:0,height:0},adDimensions:{x:0,y:0,width:0,height:0},containerDimensions:{x:0,y:0,width:0,height:0},shouldDelegateToDomBasedViewability:n&&r>=75,isMeasurable:0===r||r>=75,isObstructed:!1,isHidden:!1,numberOfAdverts:1,percentageInView:r,detectionMethod:"av"},t.trigger("screenLocationChanged",i)}catch(e){}};return{start:function(){try{var t=e.getAvidAdSessionContext().avidAdSessionType;n="display"===t||"video"===t,e.addEventListener("viewability",r)}catch(e){}},addScreenLocationChangedListener:function(e){t.on("screenLocationChanged",e)}}},ni=function(e,t){var n=!1,r=function(e){return e>=50},i=function(e){var i=e.percentageInView;n=!0,e.viewState=function(e){return r(e)?R.IN_VIEW:R.OUT_OF_VIEW}(i),e.outOfViewReason=r(i)?"":R.OUT_OF_VIEW_REASONS.GEOM,t.trigger("measurementChanged",e)};return{start:function(){x.getAggregator().trigger("addOutputItem",{output:R.MEDIA_TYPE.DISPLAY_CODE},R.MEDIA_TYPE_CODE,{type:R.IMPRESSION_EVENT}),e.addScreenLocationChangedListener(i),e.start()},getStrategyName:function(){return R.MEASUREMENT_STRATEGY.DISPLAY},addMeasurementChangedListener:function(e){t.on("measurementChanged",e)},isMeasurable:function(){return n}}},ri=function(e,t,n){var r,i,o,a,s=!1,u=!1,c=!1,d=function(e){return e<50},g=function(){if(!oe.isUndef(i)){var e,t,g=[];s?(u?(t=!1,e=100):(t=a,e=o),d(e)&&g.push(R.OUT_OF_VIEW_REASONS.GEOM)):(t=!1,e=0,g.push(R.OUT_OF_VIEW_REASONS.VIDEO)),c=!0,i.shouldDelegateToDomBasedViewability=t,i.percentageInView=e,i.viewState=function(e){return d(e)?R.OUT_OF_VIEW:R.IN_VIEW}(e),i.outOfViewReason=g.join("."),r=i,n.trigger("measurementChanged",r)}},f=function(e){i=e,o=e.percentageInView,a=e.shouldDelegateToDomBasedViewability,g()},l=function(e){var t=e.eventType;"AdEnteredFullscreen"===t?u=!0:"AdExitedFullscreen"===t?u=!1:-1!=="AdStarted|AdVideoStart|AdPlaying".indexOf(t)?s=!0:-1!=="AdSkipped|AdUserClose|AdPaused|AdVideoComplete|AdStopped".indexOf(t)&&(s=!1),g()};return{start:function(){x.getAggregator().trigger("addOutputItem",{output:R.MEDIA_TYPE.VIDEO_CODE},R.MEDIA_TYPE_CODE,{type:R.IMPRESSION_EVENT}),e.addScreenLocationChangedListener(f),e.start(),t.addVideoPlaybackEventListener(l),t.start()},getStrategyName:function(){return R.MEASUREMENT_STRATEGY.VIDEO},addMeasurementChangedListener:function(e){n.on("measurementChanged",e)},isMeasurable:function(){return c}}},ii=function(e,t,n){return{accepts:function(){var r=oe(e.mraid).isObj();return n&&(r||t)},isImmediate:function(){return!0},supportsAdContainerGeometry:function(){return!1},start:function(){}}},oi=function(e,t){return{accepts:function(){return t.isInMobiMraidVideo()},isImmediate:function(){return!1},supportsAdContainerGeometry:function(){return!1},start:function(){try{var t;e.inmobi.IASDocumentVideoBuffer.addVideoEventListener((function(e){"AdVideoStart"!==e.type||t||(t=!0,x.getAggregator().trigger("adImpression"))}))}catch(e){}}}},ai=function(e,t){var n=!1,r=function(){var n,r,i;try{n=e.mraid.isViewable()?100:0;var o={x:0,y:0,width:0,height:0};i=100===n?[!0]:[!1],r={windowDimensions:o,adDimensions:o,containerDimensions:o,shouldDelegateToDomBasedViewability:!1,isMeasurable:!0,isObstructed:!1,isHidden:!1,percentageInView:n,detectionMethod:R.DETECTION_METHODS.MRAID,sliceStatus:i},t.trigger("mraidScreenLocationChanged",r)}catch(e){}},i=function(){var t=e.mraid;!0,r(),t.addEventListener("viewableChange",r)},o=function(){var t=e.mraid;(function(){var t=e.mraid;return oe(t).isObj()&&oe.isFunction(t.isViewable)})()&&(n=!0,"loading"===t.getState()?t.addEventListener("ready",(function(){i()})):i())},a=function(){n||o()};return{start:function(){var t;t=!0,(oe.isDef(e.mraid)||U.containsScriptTagWithSrc("mraid.js"))&&(t=!1),x.getAggregator().trigger("addOutputItem",{output:oe.stringifyTriState(t)},"mi",{type:"impression"}),t?x.getAggregator().trigger("exec","mraid.js",a):o()},addScreenLocationChangedListener:function(e){t.on("mraidScreenLocationChanged",e)}}},si=function(e,t){var n=function(e){try{var n=e.type;t.trigger("inMobiMraidVideoPlaybackEvent",{eventType:n})}catch(e){}};return{start:function(){try{e.inmobi.IASDocumentVideoBuffer.addVideoEventListener(n)}catch(e){}},addVideoPlaybackEventListener:function(e){t.on("inMobiMraidVideoPlaybackEvent",e)}}},ui=function(e){var t=x.getAggregator().request("mobileApp");return{getOmidMeasurementStrategies:function(){var e=x.getAggregator().request("omidVerificationClient"),t=new X(e),n=new z,r=[];if(t.accepts()&&!n.accepts()){var i=new K,o=new Pr,a=new Wr(e,new P),s=[{environment:i,measurementStrategy:new Ur(e,new P)},{environment:o,measurementStrategy:new Br(new ut,Z.getWindow(),new P)}],u=new Hr(s).resolve(),c=u?u.measurementStrategy:{},d=new kr(new jr(new $e),new $e,o.accepts()),g=new Lr(e,t,b.mode),f=new Yr(a,c,new P,d),l=new xr(e,t,b.mode),p=new qr(a,c,new Gr(e,new P),new P,d);r.push({environment:g,measurementStrategy:f}),r.push({environment:l,measurementStrategy:p})}return r},getAvidMeasurementStrategies:function(){var t=x.getAggregator().request("avidJsClient"),n=new Kr(t),r=[];if(n.accepts()){var i,o,a=new Xr(t,n,b.mode),s=new zr(t,n,b.mode),u=new Jr(t,new P);if(n.supportsAdContainerGeometry()){var c=new Qr,d=new Zr,g=new Br(new ut,Z.getWindow(),new P),f=new $r(t,new P),l=new Hr([{environment:c,measurementStrategy:f},{environment:d,measurementStrategy:g}]).resolve(),p=l?l.measurementStrategy:{},m=new kr(new jr(new $e),new $e,d.accepts()),h=new ei(t,new P);i=new Yr(h,p,new P,m),o=new qr(h,p,u,new P,m)}else{var v=new ti(t,new P);i=new ni(v,new P),o=new ri(v,u,new P)}r.push({environment:a,measurementStrategy:i}),r.push({environment:s,measurementStrategy:o}),e.setAvidAdSessionContext(n.getAvidAdSessionContext())}return r},getMraidMeasurementStrategies:function(){var e=[],n=t.isSafeToInjectMraid(),r=new ii(Z.getWindow(),n,t.isMobileAppEnvironment());if(r.accepts()){var i,o=x.getAggregator().request("context"),a=new oi(Z.getWindow(),o),s=new ai(Z.getWindow(),new P);if(a.accepts()){var u=new si(Z.getWindow(),new P);i={environment:a,measurementStrategy:new ri(s,u,new P)}}else{i={environment:r,measurementStrategy:new ni(s,new P)}}e.push(i)}return e}}},ci=function(e){var t,n=!1,r={winDimensions:H({scrX:0,scrY:0,width:0,height:0}),adDimensions:H({scrX:0,scrY:0,width:0,height:0}),containerDimensions:H({scrX:0,scrY:0,width:0,height:0}),method:R.NA,viewState:R.NA,percentInView:R.PIV_NA,reason:"",obstructed:R.NA,isHidden:R.NA,tabHidden:R.NA,posViewState:R.NA,adCompCount:1},i=function(e){return e?new H({scrX:e.x,scrY:e.y,width:e.width,height:e.height}):H({scrX:0,scrY:0,width:0,height:0})},o=function(e){t={winDimensions:i(e.windowDimensions),adDimensions:i(e.adDimensions),containerDimensions:i(e.containerDimensions),method:e.detectionMethod||R.NA,viewState:e.viewState||R.NA,percentInView:oe.isDef(e.percentageInView)?e.percentageInView:R.PIV_NA,reason:e.outOfViewReason||"",obstructed:oe.stringifyTriState(e.isObstructed),isHidden:R.NA,tabHidden:R.NA,posViewState:e.viewState||R.NA,adCompCount:1,shouldDelegateToDomBasedViewability:e.shouldDelegateToDomBasedViewability,sliceStatus:e.sliceStatus,isVideoPlaying:e.isVideoPlaying,isVideoPlayingInFullscreen:e.isVideoPlayingInFullscreen,isSoundOn:e.isSoundOn},e.isMeasurable&&(!0,n&&(n=!1,x.getAggregator().trigger("delayedViewabilityReady")))};return{create:function(n){var i=r;return oe.isDef(t)&&(e.environment.supportsAdContainerGeometry()?i=t:t.shouldDelegateToDomBasedViewability?(i=n).method=t.method:(0===t.percentInView||t.percentInView>=75)&&(i=t)),i},start:function(){var t;oe.isDef(e)&&oe.isDef(e.measurementStrategy)&&((t=e.measurementStrategy).addMeasurementChangedListener(o),t.start())},requiresDelayedViewabilityEvent:function(){n=!0}}},di=function(){var e,t,n=0,r=-1,i=0,o=x.getAggregator().request("browser"),a=function(){t&&Z.clearInterval(t)};return t=Z.setInterval((function(){var e=Z.now();r=e-i,i=e,++n>=10&&a()}),50),{isLikelyToProduceFalsePositive:function(t){var n,i,s,u,c,d,g,f=t.getRounded().height,l=U.calcMonDims().height,p=(g=o.getUserAgent())&&null!==g.match(/(FBAN)/)?1:0,m=function(){var e=o.getUserAgent();return e&&null!==e.match(/(iPad)/)}()?1:0,h=(d=x.getAggregator().request("pageUrls").getDetectedURLs(),u=oe(d).findFirst((function(e,t){return c=void 0,(c=t&&decodeURIComponent(t).match(/^(?:https?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^:\/\n]+)/im)[0])&&null!==c.match(/(insider)|(bustle)|(wikia)/i)})),oe.isDef(u)?1:0),v=function(){var e=o.getUserAgent();return e&&null!==e.match(/(Version\/9\.0)|(CriOS\/55)/)}()?1:0;return i=.0033*f-926e-6*l-.340351*p-.874412*m+.646972*h+.28118*v+2.987259*(r>1e3?1:0)-2.463292,s=Z.pow(Math.E,i),e={mbah:f,mbsh:l,mbfb:p,mbip:m,mbhs:h,mbbr:v,mblr:r,mbp:n=s/(1+s)},a(),n>.15},getDebugState:function(){return e}}},gi=function(e,t,n,r,i,o,a){var s,u,c,d,g=b.birthdate+""+Z.round(1e6*Z.random()),f=101,l=!1,p=function(e,t){d||(f=e,d=t)},m=function(e){try{var t=e.contentWindow,n='<html><body><script type="text/javascript">('+function(e){var t=e.document;try{t.body.setAttribute("data-st","iasInit");var n,r=function(){return(new Date).getTime()},i=0,o=0,a=r(),s=function(){o=r()-i,t.body.isReady()&&(n=i>0?o<=900:void 0),i=r(),u()},u=function(){e.requestAnimationFrame(s)};u(),t.body.isInView=function(e){return{isInView:n,rate:o,lastUpdateTimestamp:i}},t.body.getRate=function(){return o},t.body.isReady=function(){return r()-a>=200}}catch(e){t.body.setAttribute("data-err",e.toString())}t.body.removeChild(e.document.scripts[0])}.toString()+")(window);"+"<\/script></body></html>";t.document.open(),e.contentWindow.document.write(n),t.document.close()}catch(e){p(103,e)}},h=function(){var e,t;if(d)return!1;if(c)return!0;try{if(u.contentWindow&&u.contentWindow.document&&u.contentWindow.document.body){if(e=(t=u.contentWindow.document.body).getAttribute("data-err"))throw Error(e);"iasInit"===t.getAttribute("data-st")&&p(104),!!t.isReady&&t.isReady()&&(c=t.isInView?t.isInView:void 0)&&p(105)}}catch(e){p(106,e)}return oe.isDef(c)},v=function(e,t,n){var o,a=((o=document.createElement("iframe")).id=g,oe(o.style).mixin({position:"absolute",width:r+"px",height:i+"px",backgroundColor:"transparent",border:"none",padding:"0px",margin:"0px",zIndex:"-999"}),o),s=a.style;return a[R.IAS_DETECTOR]="true",s.left=t,s.top=n,e.appendChild(a),u=a,p(102),m(u),a}(e,t,n);return{isInView:function(){var e,t,n=!1;Z.now();return h()&&(n=(e=c(!0)).isInView,l=!1,s&&(t=20*s.rate+s.lastUpdateTimestamp)>0&&t<e.lastUpdateTimestamp&&(n=!1,l=!0),p(107),s=e),n},isNotReadyToReport:function(){return!h()},createdElement:u,remove:function(){v.parentNode&&v.parentNode.removeChild(v)},getStatus:function(){return f},getError:function(){return d},isReadingInvalid:function(){return l},getRate:function(){return u.contentWindow&&u.contentWindow.document&&u.contentWindow.document.body&&u.contentWindow.document.body.getRate?u.contentWindow.document.body.getRate():-1},percentInView:o}},fi=function(e,t,n){var r,i=e.getRounded(),o=[],a=!1,s=$e().getConfig(i),u=s.percentInViewSliceArray,c=1==s.numberOfSlices,d={mbrd:!1,mbvs:[],mbe:"n",mbv:9,mbs:[],mbm:1,mbivs:[]},g=function(){var e;if(!a)for(a=!0,e=0;e<o.length;e++)if(o[e].isNotReadyToReport()){a=!1;break}return a},f=function(e,t){var n=0;return t&&(e.reverse(),oe(e).map((function(e,t){t.percentInView=100-t.percentInView}))),oe(e).findFirst((function(e,t){return t.isInView&&(n=Z.max(n,t.percentInView)),!t.isInView})),n};r=(c?function(e){var t=[{y:"0px",x:"0px",width:e.width,height:e.height,percentInView:100}];return{get:function(){return t}}}(i):function(e){var t=[],n=0,r=u.length,i=(Z.floor(e.height/r),Z.floor(e.width/2-1));return oe(u).each((function(r,o){(n=Z.floor(e.height*o))===e.height&&(n-=2),t.push({y:Z.floor(n)+"px",x:Z.floor(i)+"px",width:2,height:2,percentInView:100*o})})),{get:function(){return t}}}(i)).get(),oe(r).each((function(e,r){var i=new gi(t,r.x,r.y,r.width,r.height,r.percentInView,n);o.push(i)}));return{getPercentInView:function(){var e,t,n,r,i=g(),a=(r=[],d.mbs=[],oe(o).each((function(t,n){e=n.isInView(),d.mbs.push(e),r.push({isInView:e,percentInView:n.percentInView})})),t=f(r,!1),n=f(r,!0),Z.max(t,n));return d.mbrd=i?1:0,a!=d.mbp&&d.mbivs.push([J.getTagTime(),a]),d.mbp=a,i?a:-1},removePixels:function(){void 0!==n&&n.stop(),oe(o).each((function(e,t){try{t.remove()}catch(e){}}))},getPixelStateForDebug:function(){return d.mbm=1,o&&o.length>0&&(d.mbpr=[],d.mbir=[],oe(o).each((function(e,t){d.mbpr.push(t.getRate()),d.mbir.push(t.isReadingInvalid()?1:0)}))),d},isReadyToMeasure:g,getSliceStatus:function(){var e;return o&&o.length>0&&(e=[],oe(o).each((function(t,n){e.push(n.isInView())}))),e}}},li=function(e,t,n){var r,i,o,a,s,u=[],c=b.contextNode.parentNode,d=0,g=0,f=!1,l=!1,p=new di,m=function(){var e=u.length-1,t=-1;return e>-1&&(t=u[e].piv),t},h=function(){x.getAggregator().trigger("delayedViewabilityReadyCallOnly")},v=function(){i.removePixels()},E=function(t){var n,r,o,a,c,f=i.getPercentInView(),l=m(),p=1===t.tabHidden;return g=Z.now()-d,n=!(d>0)||g<900,d=Z.now(),0===t.adDimensions.area()&&(f=0),n||(f=0),o=f,u.push({tm:J.getTagTime(),piv:o}),u.length>3&&u.shift(),0===f&&l>0&&n&&(a=u.length-1,c=!0,u.length>=2&&a>-1&&(c=0===u[a].piv&&0===u[a-1].piv),!c)&&(f=l),e?(!function(e){oe.isUndef(s)&&(s=x.getAggregator().request("video")),s.setVideoSpecificScreenEventFields(e)}(t),r=!!t.isVideoPlayingInFullscreen||!p&&f>=50&&t.isVideoPlaying):r=!p&&f>=50,r},I=function(e,t){var n=[],r=oe(e),i=R.OUT_OF_VIEW_REASONS;return t||n.push(i.GEOM),r.contains(i.HIDDEN)&&n.push(i.HIDDEN),r.contains(i.OBSTRUCTION)&&n.push(i.OBSTRUCTION),n},A=function(e){var t;t=r=e,M.whenReady((function(){i=new fi(t,Z.getDoc().body)}))},S=function(){var e=p.getDebugState(),t=m();oe.isUndef(e)&&(e={}),e.mbm=oe.fromBoolToNum(l),e.mbrd=oe.fromBoolToNum(f),e.mbtg=oe.isDef(c.tagName)?c.tagName:"na",e.mbaf=oe.isDef(o)?o:"na",e.mbad=oe.isDef(r)?r.getRounded().width+"_"+r.getRounded().height:"na",e.piv=oe.isDef(t)?t:-1;var n={minDt:!1,type:"dm"};try{x.getAggregator().trigger("addOutputItem",{output:e},n),x.getAggregator().trigger("addOutputItem",{output:-101},"pingTime",n),x.getAggregator().trigger("sendDt",n.type)}catch(e){}};return{getScreenLocationInfo:function(e,t){var n,s=oe.isDef(r);return t?e:e.adDimensions?(s||(o=e.method,A(e.adDimensions)),!oe.isUndef(i)&&i.isReadyToMeasure()||(s=!1),oe.isUndef(a)&&s&&(a=p.isLikelyToProduceFalsePositive(r)),(l=!a&&s)?(n=E(e),e.viewState=n?R.IN_VIEW:R.OUT_OF_VIEW,e.percentInView=m(),e.reason=I(e.reason,n),e.sliceStatus=i.getSliceStatus(),f||(f=!0,Z.execAtEndOfThread(h))):(e.viewState=R.NA,e.percentInView=-1),e):e},start:function(){x.getAggregator().on("endAdSession",v),n&&Z.setTimeout(S,2e3)},getStrategyName:function(){return"mobileWebXdomainSafari"},isMeasurable:function(){return l},isImmediate:function(){return!0},hasMeasurementStrategy:function(){return!0}}},pi=function(e,t,n){var r=oe.isDef(e)?e.environment:void 0,i=oe.isDef(e)?e.measurementStrategy:void 0,o=function(){return oe.isDef(i)};oe.isDef(t)&&t.start();return{hasMeasurementStrategy:o,getScreenLocationInfo:function(e){return t.create(e)},isImmediate:function(){return!o()||r.isImmediate()},isMeasurable:function(){return!!o()&&i.isMeasurable()},isMediaType:function(e){return!!o()&&r.isMediaType(e)},supportsAdContainerGeometry:function(){return e.environment.supportsAdContainerGeometry()},start:function(){o()&&r.start()},requiresDelayedViewabilityEvent:function(){o()&&t.requiresDelayedViewabilityEvent()}}},mi=function(e,t,n){var r=x.getAggregator().request("mobileApp");return{create:function(){var i=[];i=(i=(i=i.concat(e.getOmidMeasurementStrategies())).concat(e.getAvidMeasurementStrategies())).concat(e.getMraidMeasurementStrategies());var o=new Hr(i).resolve();o||x.getAggregator().trigger("addOutputItem",{output:"0"},"oam",{type:"impression"});var a=new ci(o),s=new Se(t,n,J,r);return!o&&s.accepts()?new li(J.isVideo(),new P):new pi(o,a,r.isMobileAppEnvironment())}}};var hi=function(){function e(e,t,n,r){var i=function(e){var t=new Xn(e,J),n=new Ge,r=new pn(e,J),i=mn(e,J),o=new $t(b,J,e).resolve(),a=[t],s=[];return i.applies()&&a.push(i),r.applies()&&a.push(r),n.applies(e,J)&&a.push(n),oe(o).each((function(e,t){a.push(new Zt(t,J)),s.push(t.id)})),s.length>0&&(Sn.trigger("addOutputItem",{output:s.join(".")},"scm",{type:R.IMPRESSION_EVENT}),Sn.trigger("addOutputItem",{output:s},"metricIdList",{type:R.DT_CODES.UNLOAD,asION:!0})),a}(e);return Sn.provide("viewabilityDefinitions",i),oe(i).map((function(i,o){var a,s=new Fr(o,t),u=new or(n,e,o.rts).getCallbacks(),c=new Cn(r.createPingJobs(o.type,o.timeInViewThresholds,u,o.metricId));return o.rtsCallbacks=u,(a=o.thresholdType===R.GROUPM_MOBILE_PASS_THRU_TIME_IN_VIEW_THRESHOLD_TYPE?new Or(s,o,c,J.isVideo()):new Dr(s,new Tr(o.minUnit),c)).start(),a}))}function t(){var e,t;b.isSplitMode&&(t=b.protocol+"://"+b.sp_cdnScripts.main,b.perf.markResource("md",t)),b.impUrl&&b.perf.markResource("id",b.impUrl),e=b.perf.getData(),Sn.trigger("addThrottledProp",R.DT_SLOT.IM,"prf",oe(e).toION())}function n(e,n,r,i,o,a,s,u,c,d){try{if(b.perf.markStart("lo"),b.tpiLookupURL)wn(s,u).init(b.tpiLookupURL);J.isDomless()||d.isStarted()&&d.sendOriginList(),x.runAll(),Z.execAtEndOfThread((function(){!function(e,n,r,i,o,a){var s;try{b.perf.markStart("lt"),s={output:(new Date).getTime()-o},e.addItem(s,"sinceFw",{type:R.DT_CODES.ADTALK}),oe.isDef(n.loopStarted())&&e.addItem({output:n.loopStarted()},"readyFired",{type:R.DT_CODES.ADTALK}),b.perf.markEnd("lt"),t(),r.isApplicable(J)&&r.sendAdTalkCall()}catch(e){i.add(R.ERROR_CODES.ADTALK_DELAY)}}(e,n,r,i,o)})),b.perf.markEnd("lo")}catch(e){i.add(R.ERROR_CODES.EVENT_LOOP_ONE)}}return{instantiateModules:function(){var t,n,r,i,o,a,s,u,c,d,g,f,l={};b.perf.markStart("in"),Sn=x.getAggregator(),l.mFeatures=Sn.provide("features",un()),Sn.provide("mobileApp",(function(){return t=t||new qn(l.mFeatures)})),Sn.provide("avidJsClient",(function(){return n=n||new Pt(Z.getWindow())})),Sn.provide("context",J),l.mBrowser=Sn.provide("browser",(new kt).createInstance()),l.mErrors=Sn.request("mErrors"),l.mIds=Sn.provide("ids",hn()),l.iOutput=new zn(Sn),Sn.request("mJsonp"),l.mComm=Sn.request("mComm"),l.viewabilityMeasurement=new mi(new ui(l.mIds),l.mFeatures,l.mBrowser).create();var p=Sn.request("omidAdSessionContext");if(p&&p.queuedOutputItems)for(var m=0;m<p.queuedOutputItems.length;m++)Sn.trigger("addOutputItem",{output:p.queuedOutputItems[m].value},p.queuedOutputItems[m].code,{type:"impression"});return l.mFeatures.on("swapids")&&(b.oid=b.asid,b.asid=l.mIds.unq),l.mAdTalk=(new Mt).createInstance(l.mFeatures),r=qt(),i=dr(Sn),o=Sn.provide("mPage",(new Zn).createInstance()),l.mAncestorOrigins=Vt(),l.mPageUrls=Sn.provide("pageUrls",(new tr).createInstance(l.mAncestorOrigins,Z)),a=Sn.provide("mScreenEvents",fr()),Sn.provide("ieXDomainViewability",vn(l.mBrowser)),s=ln(l.mBrowser),f=function(e,t){var n=(new K).accepts(),r=!J.isAvid()&&!n&&!J.isInMobiMraidVideo();return J.isVideo()&&r?Mr(b.videoId,e,t):{}}(l.mFeatures,a),l.mVideo=Sn.provide("video",f),nr(Sr.build()),u=(new vt).createInstance(l.mErrors,s,l.mFeatures),c=(new mr).createInstance(u,l.mErrors,o,J),d=Sn.provide("jobFactory",Rn()),l.mDataTransfer=en(u,l.mErrors,l.mFeatures,l.mIds,l.iOutput,l.mBrowser,a,r),g=Ut(l.mErrors,l.mFeatures,Sn,i),l.mMode=Kn(g,l.mFeatures,l.viewabilityMeasurement.isImmediate()),l.mViewability=Sn.provide("viewability",Vr(new P,l.viewabilityMeasurement,l.mBrowser,l.mDataTransfer,l.mFeatures,Sn,l.iOutput,c,a,l.mVideo)),e(l.mFeatures,l.mViewability,i,d),l.loopDelay=Ie(),l.renderDetector=cr(),l.mDataTransfer.setViewabilityMod(l.mViewability),b.perf.markEnd("in"),l},preImpression:function(e,t,n,r,i,o,a,s,u,c,d){var g,f,l,p;b.perf.markStart("pr"),b.b11="1"===b.adHeight&&"1"===b.adWidth?"true":"false",b.cnod=b.contextNode?"true":"false";try{n.isApplicable(c)&&(n.start(),r.addItem(n.getFrameMap(),"fm"),u.on("fm2")&&r.addItem(n.getFrameMapIncludingPeerCase(),"fm2"),u.on("idMap")&&(g=n.getIdMap())&&r.addItem(g,"idMap"))}catch(e){i.add(R.ERROR_CODES.ADTALK_GENERAL)}try{o.isApplicable(a,u,c)&&o.start(),p=s.detectTopURL(),u.on("exch")&&(new sn).createInstance(i,r).parse(p),(f=Yt()).isApplicable(u)&&f.start(u),c.usesGroupMCustomMetric()&&Gt(),(l=Qt()).isApplicable(u)&&(l.start(),Sn.trigger("sendCookie")),d.start()}catch(e){i.add(R.ERROR_CODES.IMPRESSION_LEADUP)}return b.perf.markEnd("pr"),p},sendImpression:function(e,t,n,r,i,o,a,s,u){try{yn(e,t,n,r,i,o,a).send(s),oe.isFunction(u.triggerInitializationEvents)&&u.triggerInitializationEvents()}catch(e){T("impsend",e,b)}},postImpression:function(e,t,r,i,o,a,s,u,c,d,g,f,l){try{b.perf.markStart("po"),(p=nn()).start(),p.addFieldTypes([R.DT_SLOT.IM,R.DT_SLOT.FF,R.DT_SLOT.ENVIRONMENT,R.DT_SLOT.FF_EXP]),function(e,t,n,r){var i=Wn(e,t,n);i.isApplicable(r)&&i.start()}(e,t,r,i),function(e,t,n,r,i,o){e.bootstrapOn("getTpl")&&e.on("usetpl")&&Ft(t,n,r,i,o).init()}(i,o,a,s,t,u),function(e,t,r,i,o,a,s,u,c){var d;"true"!==b.minimizeCalls&&(d=(new Date).getTime(),Z.execAtEndOfThread((function(){n(e,t,r,i,d,0,a,s,0,c)})))}(u,c,d,s,0,o,a,0,f),function(e){e&&e.start&&e.start()}(g),function(e,t){e.isDomless()||fn().start(["sca","xsca","rsrch"],t)}(l,i),It(),x.runTier(R.TIERS.VIEWABILITY),function(e){var t=bn();t.isApplicable(e)&&(t.start(),ir.recordBlockingTime(),b.perf.mark("bl"),ir.setupOnLoadTracking(),ir.setupBrowserDelayTracking())}(i),b.perf.markEnd("po")}catch(e){s.add(R.ERROR_CODES.POST_IMPRESSION)}var p}}}(),vi=function(){var e,t,n,r,i,o,a;b.perf.markStart("mf"),x.startSystem(),r={},i={},(Sn=x.getAggregator()).provide({omidAdSessionContext:r}),Sn.provide({omidAdSessionVerificationParameters:i}),e=rn(),t=Mn(),n=(new Jt).createInstance(e,t),Sn.provide({mErrors:e,mJsonp:t,mComm:n}),o=D,Sn.provide({omidVerificationClient:o}),Sn.once("callContinueMain",(function(){var e,t;b.perf.markStart("cm"),t=hi.instantiateModules(),e=hi.preImpression(t.mDataTransfer,t.mViewability,t.mAdTalk,t.iOutput,t.mErrors,t.mAncestorOrigins,t.mBrowser,t.mPageUrls,t.mFeatures,J,t.renderDetector),hi.sendImpression(t.mErrors,t.mFeatures,t.mIds,t.mMode,t.iOutput,t.mBrowser,t.mViewability,e,t.mVideo),hi.postImpression(t.mBrowser,t.mIds,t.mViewability,t.mFeatures,t.mComm,t.mDataTransfer,t.mErrors,t.iOutput,t.loopDelay,t.mAdTalk,t.viewabilityMeasurement,t.mAncestorOrigins,J),b.perf.markEnd("cm")})),Sn.on("tryToCallContinueMain",(function(e){b.isResolved?Sn.trigger("callContinueMain"):Sn.trigger("requestBootstrapper",e)})),Sn.once("requestBootstrapper",(function(e){var t=b.forcedBootstrapperHost||"http://jsconfig.adsafeprotected.com";"string"==typeof e&&(e=JSON.parse(e));var n=e&&e.config,r=e&&e.sca,i=e&&e.xsca;if(n){var o=t+"/jsconfig"+n+(b.adSessionId?"&adSessionId="+b.adSessionId:"");Sn.trigger("jsonp",o,(function(e){var t="string"==typeof e;Object.assign(b,t?JSON.parse(e):e),b.isResolved=!0,b.sp_cdnScripts={sca:r,xsca:i},Sn.trigger("callContinueMain")}),!1,"cbName")}})),a=[{environment:new X(o),adSessionReadyStrategy:new Wt(o)},{environment:new Lt,adSessionReadyStrategy:new xt}],new Et(a).resolve().adSessionReadyStrategy.start(),b.perf.markEnd("mf")};try{var Ei="undefined"!=typeof window?window.__IASScope:__IASScope;O(Ei.__IntegralASConfig),y(Ei.__IntegralASConfig),Ei.__IntegralASConfig.contextNode=Ei.isDomless?void 0:w(Ei.__IntegralASConfig)(window,top),Ei.__IntegralASConfig.perf=_(Ei.__IntegralASConfig),Ei.__IntegralASConfig.initialize=function(e){try{vi()}catch(t){T("main",t,e)}};try{S=Ei.__IntegralASConfig.useFIF?Ei.parent:Ei,Ei.__IntegralASConfig.initialize(Ei.__IntegralASConfig)}catch(e){T("initialize",e,Ei.__IntegralASConfig)}}catch(e){Ei.__IntegralASConfig={},T("bootstrapper",e)}}]);
} catch(err) {}
